(()=>{var ei={init(){document.addEventListener("DOMContentLoaded",()=>{const a=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);a.length>0&&a.forEach(a=>{a.addEventListener("click",()=>{const b=a.dataset.target,c=document.getElementById(b);a.classList.toggle("is-active"),c.classList.toggle("is-active")})})})}},eg=function(){return typeof window=="undefined"?function(a){return a()}:window.requestAnimationFrame}(),bE,o,iQ,iP,k,iO,ed,iI,iG,u,I,dY,i,f,iF,bf,iE,j,ar,dX,r,A,aQ,dI,dF,aa,s,bI,io,im,aL,aA,ib,hZ,dd,da,aJ,bZ,cN,T,bq,hB,b,hk,hh,g$,F,gW,cm,gO,bV,gF,gt,V,ck,a_,gh,gg,br,fZ,cL,fV,fU,fw,D,df,ft,fs,fp,fh,fg,dl,bH,dG,eJ,y,bb,ba,Z,ae,aN,bK,aI,aH,ej,b_,ek,et,dT,n,dC,eM,aB,eO,dx,dw,at,dq,fe,x,dj,bk,fr,dh,_,aU,fH,G,fJ,cK,cJ,ax,f$,gb,gd,ge,aX,cq,aS,cn,K,aF,gJ,J,az,aO,gY,hc,ct,hC,cV,hE,c_,hH,bC,hK,aP,hM,aj,bA,ic,id,ie,ih,aE,aG,bN,bG,av,bc,q,al,bP,iS,iT,iU,iV,iW;function ef(c,d,e){const f=e||(a=>Array.prototype.slice.call(a));let a=!1,b=[];return function(...e){b=f(e),a||(a=!0,eg.call(window,()=>{a=!1,c.apply(d,b)}))}}function iR(b,a){let c;return function(...d){return a?(clearTimeout(c),c=setTimeout(b,a,d)):b.apply(this,d),a}}bE=a=>a==="start"?"left":a==="end"?"right":"center",o=(a,b,c)=>a==="start"?b:a==="end"?c:(b+c)/2,iQ=(a,b,c,d)=>{const e=d?"left":"right";return a===e?c:a==="center"?(b+c)/2:b};function C(){}iP=function(){let a=0;return function(){return a++}}();function d(a){return a===null||typeof a=="undefined"}function h(a){if(Array.isArray&&Array.isArray(a))return!0;const b=Object.prototype.toString.call(a);return!!(b.substr(0,7)==="[object"&&b.substr(-6)==="Array]")}function c(a){return a!==null&&Object.prototype.toString.call(a)==="[object Object]"}k=a=>(typeof a=="number"||a instanceof Number)&&isFinite(+a);function t(a,b){return k(a)?a:b}function a(a,b){return typeof a=="undefined"?b:a}iO=(a,b)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100:a/b,ed=(a,b)=>typeof a=="string"&&a.endsWith("%")?parseFloat(a)/100*b:+a;function g(a,b,c){if(a&&typeof a.call=="function")return a.apply(c,b)}function e(b,f,g,i){let a,d,e;if(h(b))if(d=b.length,i)for(a=d-1;a>=0;a--)f.call(g,b[a],a);else for(a=0;a<d;a++)f.call(g,b[a],a);else if(c(b)){e=Object.keys(b),d=e.length;for(a=0;a<d;a++)f.call(g,b[e[a]],e[a])}}function bi(b,c){let a,f,d,e;if(!b||!c||b.length!==c.length)return!1;for(a=0,f=b.length;a<f;++a)if(d=b[a],e=c[a],d.datasetIndex!==e.datasetIndex||d.index!==e.index)return!1;return!0}function aR(a){if(h(a))return a.map(aR);if(c(a)){const d=Object.create(null),c=Object.keys(a),e=c.length;let b=0;for(;b<e;++b)d[c[b]]=aR(a[c[b]]);return d}return a}function ec(a){return["__proto__","prototype","constructor"].indexOf(a)===-1}function iM(a,d,f,g){if(!ec(a))return;const e=d[a],b=f[a];c(e)&&c(b)?ao(e,b,g):d[a]=aR(b)}function ao(b,a,d){const e=h(a)?a:[a],f=e.length;if(!c(b))return b;d=d||{};const g=d.merger||iM;for(let h=0;h<f;++h){if(a=e[h],!c(a))continue;const i=Object.keys(a);for(let c=0,e=i.length;c<e;++c)g(i[c],b,a,d)}return b}function aq(a,b){return ao(a,b,{merger:iJ})}function iJ(a,b,f){if(!ec(a))return;const e=b[a],d=f[a];c(e)&&c(d)?aq(e,d):Object.prototype.hasOwnProperty.call(b,a)||(b[a]=aR(d))}iI="",iG=".";function dZ(a,c){const b=a.indexOf(iG,c);return b===-1?a.length:b}function S(b,c){if(c===iI)return b;let a=0,d=dZ(c,a);while(b&&d>a)b=b[c.substr(a,d-a)],a=d+1,d=dZ(c,a);return b}function bD(a){return a.charAt(0).toUpperCase()+a.slice(1)}u=a=>typeof a!="undefined",I=a=>typeof a=="function",dY=(a,b)=>{if(a.size!==b.size)return!1;for(const c of a)if(!b.has(c))return!1;return!0},i=Math.PI,f=2*i,iF=f+i,bf=Number.POSITIVE_INFINITY,iE=i/180,j=i/2,ar=i/4,dX=i*2/3,r=Math.log10,A=Math.sign;function dS(a){const c=Math.round(a);a=am(a,c,a/1e3)?c:a;const d=Math.pow(10,Math.floor(r(a))),b=a/d,e=b<=1?1:b<=2?2:b<=5?5:10;return e*d}function iC(d){const b=[],c=Math.sqrt(d);let a;for(a=1;a<c;a++)d%a===0&&(b.push(a),b.push(d/a));return c===(c|0)&&b.push(c),b.sort((a,b)=>a-b).pop(),b}function U(a){return!isNaN(parseFloat(a))&&isFinite(a)}function am(a,b,c){return Math.abs(a-b)<c}function iA(a,b){const c=Math.round(a);return c-b<=a&&c+b>=a}function dN(d,a,f){let b,e,c;for(b=0,e=d.length;b<e;b++)c=d[b][f],isNaN(c)||(a.min=Math.min(a.min,c),a.max=Math.max(a.max,c))}function w(a){return a*(i/180)}function bt(a){return a*(180/i)}function dK(a){if(!k(a))return;let b=1,c=0;while(Math.round(a*b)/b!==a)b*=10,c++;return c}function it(d,e){const a=e.x-d.x,b=e.y-d.y,g=Math.sqrt(a*a+b*b);let c=Math.atan2(b,a);return c<-.5*i&&(c+=f),{angle:c,distance:g}}function bv(a,b){return Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2))}function ir(a,b){return(a-b+iF)%f-i}function v(a){return(a%f+f)%f}function aW(g,d,e,f){const a=v(g),c=v(d),b=v(e),h=v(c-a),i=v(b-a),j=v(a-c),k=v(a-b);return a===c||a===b||f&&c===b||h>i&&j<k}function m(a,b,c){return Math.max(b,Math.min(c,a))}function iq(a){return m(a,-32768,32767)}function B(a,b,c,d=1e-6){return a>=Math.min(b,c)-d&&a<=Math.max(b,c)+d}aQ=a=>a===0||a===1,dI=(a,b,c)=>-(Math.pow(2,10*(a-=1))*Math.sin((a-b)*f/c)),dF=(a,b,c)=>Math.pow(2,-10*a)*Math.sin((a-b)*f/c)+1,aa={linear:a=>a,easeInQuad:a=>a*a,easeOutQuad:a=>-a*(a-2),easeInOutQuad:a=>(a/=.5)<1?.5*a*a:-.5*(--a*(a-2)-1),easeInCubic:a=>a*a*a,easeOutCubic:a=>(a-=1)*a*a+1,easeInOutCubic:a=>(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2),easeInQuart:a=>a*a*a*a,easeOutQuart:a=>-((a-=1)*a*a*a-1),easeInOutQuart:a=>(a/=.5)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2),easeInQuint:a=>a*a*a*a*a,easeOutQuint:a=>(a-=1)*a*a*a*a+1,easeInOutQuint:a=>(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2),easeInSine:a=>-Math.cos(a*j)+1,easeOutSine:a=>Math.sin(a*j),easeInOutSine:a=>-.5*(Math.cos(i*a)-1),easeInExpo:a=>a===0?0:Math.pow(2,10*(a-1)),easeOutExpo:a=>a===1?1:-Math.pow(2,-10*a)+1,easeInOutExpo:a=>aQ(a)?a:a<.5?.5*Math.pow(2,10*(a*2-1)):.5*(-Math.pow(2,-10*(a*2-1))+2),easeInCirc:a=>a>=1?a:-(Math.sqrt(1-a*a)-1),easeOutCirc:a=>Math.sqrt(1-(a-=1)*a),easeInOutCirc:a=>(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1),easeInElastic:a=>aQ(a)?a:dI(a,.075,.3),easeOutElastic:a=>aQ(a)?a:dF(a,.075,.3),easeInOutElastic(a){const b=.1125,c=.45;return aQ(a)?a:a<.5?.5*dI(a*2,b,c):.5+.5*dF(a*2-1,b,c)},easeInBack(a){const b=1.70158;return a*a*((b+1)*a-b)},easeOutBack(a){const b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack(a){let b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:a=>1-aa.easeOutBounce(1-a),easeOutBounce(a){const c=7.5625,b=2.75;return a<1/b?c*a*a:a<2/b?c*(a-=1.5/b)*a+.75:a<2.5/b?c*(a-=2.25/b)*a+.9375:c*(a-=2.625/b)*a+.984375},easeInOutBounce:a=>a<.5?aa.easeInBounce(a*2)*.5:aa.easeOutBounce(a*2-1)*.5+.5},s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bI="0123456789ABCDEF",io=a=>bI[a&15],im=a=>bI[(a&240)>>4]+bI[a&15],aL=a=>(a&240)>>4===(a&15);function il(a){return aL(a.r)&&aL(a.g)&&aL(a.b)&&aL(a.a)}function ik(a){var b=a.length,c;return a[0]==="#"&&(b===4||b===5?c={r:255&s[a[1]]*17,g:255&s[a[2]]*17,b:255&s[a[3]]*17,a:b===5?s[a[4]]*17:255}:(b===7||b===9)&&(c={r:s[a[1]]<<4|s[a[2]],g:s[a[3]]<<4|s[a[4]],b:s[a[5]]<<4|s[a[6]],a:b===9?s[a[7]]<<4|s[a[8]]:255})),c}function ii(a){var b=il(a)?io:im;return a&&"#"+b(a.r)+b(a.g)+b(a.b)+(a.a<255?b(a.a):"")}function au(a){return a+.5|0}aA=(a,b,c)=>Math.max(Math.min(a,c),b);function ad(a){return aA(au(a*2.55),0,255)}function ag(a){return aA(au(a*255),0,255)}function bY(a){return aA(au(a/2.55)/100,0,1)}function dB(a){return aA(au(a*100),0,100)}ib=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ia(f){const a=ib.exec(f);let e=255,b,c,d;if(!a)return;if(a[7]!==b){const b=+a[7];e=255&(a[8]?ad(b):b*255)}return b=+a[1],c=+a[3],d=+a[5],b=255&(a[2]?ad(b):b),c=255&(a[4]?ad(c):c),d=255&(a[6]?ad(d):d),{r:b,g:c,b:d,a:e}}function h_(a){return a&&(a.a<255?`rgba(${a.r}, ${a.g}, ${a.b}, ${bY(a.a)})`:`rgb(${a.r}, ${a.g}, ${a.b})`)}hZ=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dr(c,d,a){const e=d*Math.min(a,1-a),b=(d,b=(d+c/30)%12)=>a-e*Math.max(Math.min(b-3,9-b,1),-1);return[b(0),b(8),b(4)]}function hY(c,d,b){const a=(e,a=(e+c/60)%6)=>b-b*d*Math.max(Math.min(a,4-a,1),0);return[a(5),a(3),a(1)]}function hV(e,b,c){const d=dr(e,1,.5);let a;b+c>1&&(a=1/(b+c),b*=a,c*=a);for(a=0;a<3;a++)d[a]*=1-b-c,d[a]+=b;return d}function bS(i){const h=255,e=i.r/h,b=i.g/h,f=i.b/h,a=Math.max(e,b,f),d=Math.min(e,b,f),j=(a+d)/2;let g,k,c;return a!==d&&(c=a-d,k=j>.5?c/(2-a-d):c/(a+d),g=a===e?(b-f)/c+(b<f?6:0):a===b?(f-e)/c+2:(e-b)/c+4,g=g*60+.5),[g|0,k||0,j]}function bQ(b,a,c,d){return(Array.isArray(a)?b(a[0],a[1],a[2]):b(a,c,d)).map(ag)}function bO(a,b,c){return bQ(dr,a,b,c)}function hR(a,b,c){return bQ(hV,a,b,c)}function hP(a,b,c){return bQ(hY,a,b,c)}function de(a){return(a%360+360)%360}function hO(g){const a=hZ.exec(g);let f=255,b;if(!a)return;a[5]!==b&&(f=a[6]?ad(+a[5]):ag(+a[5]));const d=de(+a[2]),e=+a[3]/100,c=+a[4]/100;return a[1]==="hwb"?b=hR(d,e,c):a[1]==="hsv"?b=hP(d,e,c):b=bO(d,e,c),{r:b[0],g:b[1],b:b[2],a:f}}function hN(b,c){var a=bS(b);a[0]=de(a[0]+c),a=bO(a),b.r=a[0],b.g=a[1],b.b=a[2]}function hL(a){if(!a)return;const b=bS(a),c=b[0],d=dB(b[1]),e=dB(b[2]);return a.a<255?`hsla(${c}, ${d}%, ${e}%, ${bY(a.a)})`:`hsl(${c}, ${d}%, ${e}%)`}dd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},da={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function hI(){const e={},h=Object.keys(da),f=Object.keys(dd);let c,d,a,g,b;for(c=0;c<h.length;c++){g=b=h[c];for(d=0;d<f.length;d++)a=f[d],b=b.replace(a,dd[a]);a=parseInt(da[g],16),e[b]=[a>>16&255,a>>8&255,a&255]}return e}function hF(b){aJ||(aJ=hI(),aJ.transparent=[0,0,0,0]);const a=aJ[b.toLowerCase()];return a&&{r:a[0],g:a[1],b:a[2],a:a.length===4?a[3]:255}}function aV(a,b,c){if(a){let d=bS(a);d[b]=Math.max(0,Math.min(d[b]+d[b]*c,b===0?360:1)),d=bO(d),a.r=d[0],a.g=d[1],a.b=d[2]}}function cZ(a,b){return a&&Object.assign(b||{},a)}function cY(a){var b={r:0,g:0,b:0,a:255};return Array.isArray(a)?a.length>=3&&(b={r:a[0],g:a[1],b:a[2],a:255},a.length>3&&(b.a=ag(a[3]))):(b=cZ(a,{r:0,g:0,b:0,a:1}),b.a=ag(b.a)),b}function hD(a){return a.charAt(0)==="r"?ia(a):hO(a)}bZ=class{constructor(a){if(a instanceof bZ)return a;const c=typeof a;let b;c==="object"?b=cY(a):c==="string"&&(b=ik(a)||hF(a)||hD(a)),this._rgb=b,this._valid=!!b}get valid(){return this._valid}get rgb(){var a=cZ(this._rgb);return a&&(a.a=bY(a.a)),a}set rgb(a){this._rgb=cY(a)}rgbString(){return this._valid?h_(this._rgb):this._rgb}hexString(){return this._valid?ii(this._rgb):this._rgb}hslString(){return this._valid?hL(this._rgb):this._rgb}mix(b,c){const a=this;if(b){const d=a.rgb,e=b.rgb;let f;const i=c===f?.5:c,g=2*i-1,j=d.a-e.a,h=((g*j===-1?g:(g+j)/(1+g*j))+1)/2;f=1-h,d.r=255&h*d.r+f*e.r+.5,d.g=255&h*d.g+f*e.g+.5,d.b=255&h*d.b+f*e.b+.5,d.a=i*d.a+(1-i)*e.a,a.rgb=d}return a}clone(){return new bZ(this.rgb)}alpha(a){return this._rgb.a=ag(a),this}clearer(a){const b=this._rgb;return b.a*=1-a,this}greyscale(){const a=this._rgb,b=au(a.r*.3+a.g*.59+a.b*.11);return a.r=a.g=a.b=b,this}opaquer(a){const b=this._rgb;return b.a*=1+a,this}negate(){const a=this._rgb;return a.r=255-a.r,a.g=255-a.g,a.b=255-a.b,this}lighten(a){return aV(this._rgb,2,a),this}darken(a){return aV(this._rgb,2,-a),this}saturate(a){return aV(this._rgb,1,a),this}desaturate(a){return aV(this._rgb,1,-a),this}rotate(a){return hN(this._rgb,a),this}};function cQ(a){return new bZ(a)}cN=a=>a instanceof CanvasGradient||a instanceof CanvasPattern;function cM(a){return cN(a)?a:cQ(a)}function bu(a){return cN(a)?a:cQ(a).saturate(.5).darken(.1).hexString()}T=Object.create(null),bq=Object.create(null);function ai(a,b){if(!b)return a;const c=b.split(".");for(let b=0,e=c.length;b<e;++b){const d=c[b];a=a[d]||(a[d]=Object.create(null))}return a}function bo(b,a,c){return typeof a=="string"?ao(ai(b,a),c):ao(ai(b,""),a)}hB=class{constructor(a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(b,a)=>bu(a.backgroundColor),this.hoverBorderColor=(b,a)=>bu(a.borderColor),this.hoverColor=(b,a)=>bu(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(a)}set(a,b){return bo(this,a,b)}get(a){return ai(this,a)}describe(a,b){return bo(bq,a,b)}override(a,b){return bo(T,a,b)}route(i,d,f,g){const e=ai(this,i),h=ai(this,f),b="_"+d;Object.defineProperties(e,{[b]:{value:e[d],writable:!0},[d]:{enumerable:!0,get(){const d=this[b],e=h[g];return c(d)?Object.assign({},e,d):a(d,e)},set(a){this[b]=a}}})}},b=new hB({_scriptable:a=>!a.startsWith("on"),_indexable:a=>a!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function hz(a){return!a||d(a.size)||d(a.family)?null:(a.style?a.style+" ":"")+(a.weight?a.weight+" ":"")+a.size+"px "+a.family}function bj(e,d,f,c,a){let b=d[a];return b||(b=d[a]=e.measureText(a).width,f.push(a)),b>c&&(c=b),c}function hy(f,m,l,a){a=a||{};let i=a.data=a.data||{},d=a.garbageCollect=a.garbageCollect||[];a.font!==m&&(i=a.data={},d=a.garbageCollect=[],a.font=m),f.save(),f.font=m;let e=0;const o=l.length;let c,j,n,b,g;for(c=0;c<o;c++)if(b=l[c],b!==void 0&&b!==null&&h(b)!==!0)e=bj(f,i,d,e,b);else if(h(b))for(j=0,n=b.length;j<n;j++)g=b[j],g!==void 0&&g!==null&&!h(g)&&(e=bj(f,i,d,e,g));f.restore();const k=d.length/2;if(k>l.length){for(c=0;c<k;c++)delete i[d[c]];d.splice(0,k)}return e}function R(d,e,a){const b=d.currentDevicePixelRatio,c=a!==0?Math.max(a/2,.5):0;return Math.round((e-c)*b)/b+c}function cE(b,a){a=a||b.getContext("2d"),a.save(),a.resetTransform(),a.clearRect(0,0,b.width,b.height),a.restore()}function bg(a,n,c,d){let o,e,g,l,m;const k=n.pointStyle,p=n.rotation,h=n.radius;let b=(p||0)*iE;if(k&&typeof k=="object")if(o=k.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]"){a.save(),a.translate(c,d),a.rotate(b),a.drawImage(k,-k.width/2,-k.height/2,k.width,k.height),a.restore();return}if(isNaN(h)||h<=0)return;switch(a.beginPath(),k){default:a.arc(c,d,h,0,f),a.closePath();break;case"triangle":a.moveTo(c+Math.sin(b)*h,d-Math.cos(b)*h),b+=dX,a.lineTo(c+Math.sin(b)*h,d-Math.cos(b)*h),b+=dX,a.lineTo(c+Math.sin(b)*h,d-Math.cos(b)*h),a.closePath();break;case"rectRounded":m=h*.516,l=h-m,e=Math.cos(b+ar)*l,g=Math.sin(b+ar)*l,a.arc(c-e,d-g,m,b-i,b-j),a.arc(c+g,d-e,m,b-j,b),a.arc(c+e,d+g,m,b,b+j),a.arc(c-g,d+e,m,b+j,b+i),a.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*h,a.rect(c-l,d-l,2*l,2*l);break}b+=ar;case"rectRot":e=Math.cos(b)*h,g=Math.sin(b)*h,a.moveTo(c-e,d-g),a.lineTo(c+g,d-e),a.lineTo(c+e,d+g),a.lineTo(c-g,d+e),a.closePath();break;case"crossRot":b+=ar;case"cross":e=Math.cos(b)*h,g=Math.sin(b)*h,a.moveTo(c-e,d-g),a.lineTo(c+e,d+g),a.moveTo(c+g,d-e),a.lineTo(c-g,d+e);break;case"star":e=Math.cos(b)*h,g=Math.sin(b)*h,a.moveTo(c-e,d-g),a.lineTo(c+e,d+g),a.moveTo(c+g,d-e),a.lineTo(c-g,d+e),b+=ar,e=Math.cos(b)*h,g=Math.sin(b)*h,a.moveTo(c-e,d-g),a.lineTo(c+e,d+g),a.moveTo(c+g,d-e),a.lineTo(c-g,d+e);break;case"line":e=Math.cos(b)*h,g=Math.sin(b)*h,a.moveTo(c-e,d-g),a.lineTo(c+e,d+g);break;case"dash":a.moveTo(c,d),a.lineTo(c+Math.cos(b)*h,d+Math.sin(b)*h);break}a.fill(),n.borderWidth>0&&a.stroke()}function N(b,c,a){return a=a||.5,!c||b&&b.x>c.left-a&&b.x<c.right+a&&b.y>c.top-a&&b.y<c.bottom+a}function be(b,a){b.save(),b.beginPath(),b.rect(a.left,a.top,a.right-a.left,a.bottom-a.top),b.clip()}function bd(a){a.restore()}function hv(b,c,a,e,d){if(!c)return b.lineTo(a.x,a.y);if(d==="middle"){const d=(c.x+a.x)/2;b.lineTo(d,c.y),b.lineTo(d,a.y)}else d==="after"!==!!e?b.lineTo(c.x,a.y):b.lineTo(a.x,c.y);b.lineTo(a.x,a.y)}function hu(d,b,a,c){if(!b)return d.lineTo(a.x,a.y);d.bezierCurveTo(c?b.cp1x:b.cp2x,c?b.cp1y:b.cp2y,c?a.cp2x:a.cp1x,c?a.cp2y:a.cp1y,a.x,a.y)}function M(b,g,i,e,j,a={}){const k=h(g)?g:[g],l=a.strokeWidth>0&&a.strokeColor!=="";let c,f;b.save(),b.font=j.string,ht(b,a);for(c=0;c<k.length;++c)f=k[c],l&&(a.strokeColor&&(b.strokeStyle=a.strokeColor),d(a.strokeWidth)||(b.lineWidth=a.strokeWidth),b.strokeText(f,i,e,a.maxWidth)),b.fillText(f,i,e,a.maxWidth),hr(b,i,e,f,a),e+=j.lineHeight;b.restore()}function ht(b,a){a.translation&&b.translate(a.translation[0],a.translation[1]),d(a.rotation)||b.rotate(a.rotation),a.color&&(b.fillStyle=a.color),a.textAlign&&(b.textAlign=a.textAlign),a.textBaseline&&(b.textBaseline=a.textBaseline)}function hr(a,c,d,e,b){if(b.strikethrough||b.underline){const f=a.measureText(e),i=c-f.actualBoundingBoxLeft,j=c+f.actualBoundingBoxRight,k=d-f.actualBoundingBoxAscent,g=d+f.actualBoundingBoxDescent,h=b.strikethrough?(k+g)/2:g;a.strokeStyle=a.fillStyle,a.beginPath(),a.lineWidth=b.decorationWidth||2,a.moveTo(i,h),a.lineTo(j,h),a.stroke()}}function aZ(d,g){const{x:b,y:c,w:e,h:f,radius:a}=g;d.arc(b+a.topLeft,c+a.topLeft,a.topLeft,-j,i,!0),d.lineTo(b,c+f-a.bottomLeft),d.arc(b+a.bottomLeft,c+f-a.bottomLeft,a.bottomLeft,i,j,!0),d.lineTo(b+e-a.bottomRight,c+f),d.arc(b+e-a.bottomRight,c+f-a.bottomRight,a.bottomRight,j,0,!0),d.lineTo(b+e,c+a.topRight),d.arc(b+e-a.topRight,c+a.topRight,a.topRight,0,-j,!0),d.lineTo(b+a.topLeft,c)}hk=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),hh=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ha(a,c){const b=(""+a).match(hk);if(!b||b[1]==="normal")return c*1.2;switch(a=+b[2],b[3]){case"px":return a;case"%":a/=100;break}return c*a}g$=a=>+a||0;function bB(b,d){const e={},f=c(d),g=f?Object.keys(d):d,h=c(b)?f?c=>a(b[c],b[d[c]]):a=>b[a]:()=>b;for(const a of g)e[a]=g$(h(a));return e}function co(a){return bB(a,{top:"y",right:"x",bottom:"y",left:"x"})}function Y(a){return bB(a,["topLeft","topRight","bottomLeft","bottomRight"])}function p(b){const a=co(b);return a.width=a.left+a.right,a.height=a.top+a.bottom,a}function l(c,d){c=c||{},d=d||b.font;let e=a(c.size,d.size);typeof e=="string"&&(e=parseInt(e,10));let f=a(c.style,d.style);f&&!(""+f).match(hh)&&(console.warn('Invalid font style specified: "'+f+'"'),f="");const g={family:a(c.family,d.family),lineHeight:ha(a(c.lineHeight,d.lineHeight),e),size:e,style:f,weight:a(c.weight,d.weight),string:""};return g.string=hz(g),g}function ac(d,i,e,f){let c=!0,b,g,a;for(b=0,g=d.length;b<g;++b){if(a=d[b],a===void 0)continue;if(i!==void 0&&typeof a=="function"&&(a=a(i),c=!1),e!==void 0&&h(a)&&(a=a[e%a.length],c=!1),a!==void 0)return f&&!c&&(f.cacheable=!1),a}}function gX(g,e,f){const{min:b,max:c}=g,d=ed(e,(c-b)/2),a=(a,b)=>f&&a===0?0:a+b;return{min:a(b,-Math.abs(d)),max:a(c,d)}}function L(a,b){return Object.assign(Object.create(a),b)}function bJ(e,f,d){d=d||(a=>e[a]<f);let a=e.length-1,b=0,c;while(a-b>1)c=b+a>>1,d(c)?b=c:a=c;return{lo:b,hi:a}}F=(a,c,b)=>bJ(a,b,d=>a[d][c]<b),gW=(a,c,b)=>bJ(a,b,d=>a[d][c]>=b);function gT(a,d,e){let b=0,c=a.length;while(b<c&&a[b]<d)b++;while(c>b&&a[c-1]>e)c--;return b>0||c<a.length?a.slice(b,c):a}cm=["push","pop","shift","splice","unshift"];function gP(a,b){if(a._chartjs){a._chartjs.listeners.push(b);return}Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[b]}}),cm.forEach(b=>{const c="_onData"+bD(b),d=a[b];Object.defineProperty(a,b,{configurable:!0,enumerable:!1,value(...b){const e=d.apply(this,b);return a._chartjs.listeners.forEach(a=>{typeof a[c]=="function"&&a[c](...b)}),e}})})}function cj(a,e){const c=a._chartjs;if(!c)return;const b=c.listeners,d=b.indexOf(e);if(d!==-1&&b.splice(d,1),b.length>0)return;cm.forEach(b=>{delete a[b]}),delete a._chartjs}function ci(b){const c=new Set;let a,d;for(a=0,d=b.length;a<d;++a)c.add(b[a]);return c.size===d?b:Array.from(c)}function bR(a,c=[""],d=a,b,e=()=>a[0]){u(b)||(b=cf("_fallback",a));const f={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:a,_rootScopes:d,_fallback:b,_getTarget:e,override:e=>bR([e,...a],c,d,b)};return new Proxy(f,{deleteProperty(b,c){return delete b[c],delete b._keys,delete a[0][c],!0},get(b,d){return cb(b,d,()=>gy(d,c,a,b))},getOwnPropertyDescriptor(a,b){return Reflect.getOwnPropertyDescriptor(a._scopes[0],b)},getPrototypeOf(){return Reflect.getPrototypeOf(a[0])},has(a,b){return cg(a).includes(b)},ownKeys(a){return cg(a)},set(a,b,c){const d=a._storage||(a._storage=e());return a[b]=d[b]=c,delete a._keys,!0}})}function W(a,d,b,c){const e={_cacheable:!1,_proxy:a,_context:d,_subProxy:b,_stack:new Set,_descriptors:ch(a,c),setContext:d=>W(a,d,b,c),override:e=>W(a.override(e),d,b,c)};return new Proxy(e,{deleteProperty(c,b){return delete c[b],delete a[b],!0},get(a,b,c){return cb(a,b,()=>gN(a,b,c))},getOwnPropertyDescriptor(c,b){return c._descriptors.allKeys?Reflect.has(a,b)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(a,b)},getPrototypeOf(){return Reflect.getPrototypeOf(a)},has(c,b){return Reflect.has(a,b)},ownKeys(){return Reflect.ownKeys(a)},set(c,b,d){return a[b]=d,delete c[b],!0}})}function ch(d,c={scriptable:!0,indexable:!0}){const{_scriptable:a=c.scriptable,_indexable:b=c.indexable,_allKeys:e=c.allKeys}=d;return{allKeys:e,scriptable:a,indexable:b,isScriptable:I(a)?a:()=>a,isIndexable:I(b)?b:()=>b}}gO=(a,b)=>a?a+bD(b):b,bV=(b,a)=>c(a)&&b!=="adapters"&&(Object.getPrototypeOf(a)===null||a.constructor===Object);function cb(a,b,d){if(Object.prototype.hasOwnProperty.call(a,b))return a[b];const c=d();return a[b]=c,c}function gN(c,b,f){const{_proxy:g,_context:i,_subProxy:e,_descriptors:d}=c;let a=g[b];return I(a)&&d.isScriptable(b)&&(a=gM(b,a,c,f)),h(a)&&a.length&&(a=gL(b,a,c,d.isIndexable)),bV(b,a)&&(a=W(a,i,e&&e[b],d)),a}function gM(a,b,e,f){const{_proxy:d,_context:g,_subProxy:h,_stack:c}=e;if(c.has(a))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+a);return c.add(a),b=b(g,h||f),c.delete(a),bV(a,b)&&(b=bW(d._scopes,d,a,b)),b}function gL(b,a,g,h){const{_proxy:e,_context:d,_subProxy:f,_descriptors:i}=g;if(u(d.index)&&h(b))a=a[d.index%a.length];else if(c(a[0])){const c=a,g=e._scopes.filter(a=>a!==c);a=[];for(const h of c){const j=bW(g,e,b,h);a.push(W(j,d,f&&f[b],i))}}return a}function b$(a,b,c){return I(a)?a(b,c):a}gF=(a,b)=>a===!0?b:typeof a=="string"?S(b,a):void 0;function gC(c,d,a,b){for(const f of d){const e=gF(a,f);if(e){{c.add(e);const d=b$(e._fallback,a,e);if(u(d)&&d!==a&&d!==b)return d}}else if(e===!1&&u(b)&&a!==b)return null}return!1}function bW(i,f,a,e){const h=f._rootScopes,b=b$(f._fallback,a,e),g=[...i,...h],c=new Set;c.add(e);let d=cc(c,g,a,b||a);if(d===null)return!1;if(u(b)&&b!==a)if(d=cc(c,g,b,d),d===null)return!1;return bR(Array.from(c),[""],h,b,()=>gz(f,a,e))}function cc(b,c,a,d){while(a)a=gC(b,c,a,d);return a}function gz(f,a,d){const b=f._getTarget();a in b||(b[a]={});const e=b[a];return h(e)&&c(d)?d:e}function gy(b,d,c,e){let a;for(const f of d)if(a=cf(gO(f,b),c),u(a))return bV(b,a)?bW(c,e,b,a):a}function cf(a,b){for(const c of b){if(!c)continue;const d=c[a];if(u(d))return d}}function cg(a){let b=a._keys;return b||(b=a._keys=gu(a._scopes)),b}function gu(b){const a=new Set;for(const c of b)for(const b of Object.keys(c).filter(a=>!a.startsWith("_")))a.add(b);return Array.from(a)}gt=Number.EPSILON||1e-14,V=(a,b)=>b<a.length&&!a[b].skip&&a[b],ck=a=>a==="x"?"y":"x";function gq(i,f,k,j){const c=i.skip?f:i,a=f,b=k.skip?f:k,h=bv(a,c),g=bv(b,a);let e=h/(h+g),d=g/(h+g);e=isNaN(e)?0:e,d=isNaN(d)?0:d;const l=j*e,m=j*d;return{previous:{x:a.x-l*(b.x-c.x),y:a.y-l*(b.y-c.y)},next:{x:a.x+m*(b.x-c.x),y:a.y+m*(b.y-c.y)}}}function gp(c,b,a){const j=c.length;let e,f,g,h,i,d=V(c,0);for(let k=0;k<j-1;++k){if(i=d,d=V(c,k+1),!i||!d)continue;if(am(b[k],0,gt)){a[k]=a[k+1]=0;continue}if(e=a[k]/b[k],f=a[k+1]/b[k],h=Math.pow(e,2)+Math.pow(f,2),h<=9)continue;g=3/Math.sqrt(h),a[k]=e*g*b[k],a[k+1]=f*g*b[k]}}function go(e,h,b="x"){const f=ck(b),i=e.length;let c,g,a,d=V(e,0);for(let j=0;j<i;++j){if(g=a,a=d,d=V(e,j+1),!a)continue;const k=a[b],l=a[f];g&&(c=(k-g[b])/3,a[`cp1${b}`]=k-c,a[`cp1${f}`]=l-c*h[j]),d&&(c=(d[b]-k)/3,a[`cp2${b}`]=k+c,a[`cp2${f}`]=l+c*h[j])}}function gn(e,f="x"){const j=ck(f),h=e.length,b=Array(h).fill(0),g=Array(h);let a,i,d,c=V(e,0);for(a=0;a<h;++a){if(i=d,d=c,c=V(e,a+1),!d)continue;if(c){const e=c[f]-d[f];b[a]=e!==0?(c[j]-d[j])/e:0}g[a]=i?c?A(b[a-1])!==A(b[a])?0:(b[a-1]+b[a])/2:b[a-1]:b[a]}gp(e,b,g),go(e,g,f)}function aT(a,b,c){return Math.max(Math.min(a,c),b)}function gl(d,a){let c,e,b,f,h,g=N(d[0],a);for(c=0,e=d.length;c<e;++c){if(h=f,f=g,g=c<e-1&&N(d[c+1],a),!f)continue;b=d[c],h&&(b.cp1x=aT(b.cp1x,a.left,a.right),b.cp1y=aT(b.cp1y,a.top,a.bottom)),g&&(b.cp2x=aT(b.cp2x,a.left,a.right),b.cp2y=aT(b.cp2y,a.top,a.bottom))}}function gk(a,f,i,g,h){let d,e,b,c;if(f.spanGaps&&(a=a.filter(a=>!a.skip)),f.cubicInterpolationMode==="monotone")gn(a,h);else{let h=g?a[a.length-1]:a[0];for(d=0,e=a.length;d<e;++d)b=a[d],c=gq(h,b,a[Math.min(d+1,e-(g?0:1))%e],f.tension),b.cp1x=c.previous.x,b.cp1y=c.previous.y,b.cp2x=c.next.x,b.cp2y=c.next.y,h=b}f.capBezierPoints&&gl(a,i)}function cs(){return typeof window!="undefined"&&typeof document!="undefined"}function by(b){let a=b.parentNode;return a&&a.toString()==="[object ShadowRoot]"&&(a=a.host),a}function aY(b,c,d){let a;return typeof b=="string"?(a=parseInt(b,10),b.indexOf("%")!==-1&&(a=a/100*c.parentNode[d])):a=b,a}a_=a=>window.getComputedStyle(a,null);function gj(a,b){return a_(a).getPropertyValue(b)}gh=["top","right","bottom","left"];function Q(c,d,b){const a={};b=b?"-"+b:"";for(let e=0;e<4;e++){const f=gh[e];a[f]=parseFloat(c[d+"-"+f+b])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}gg=(b,c,a)=>(b>0||c>0)&&(!a||!a.shadowRoot);function gf(f,j){const a=f.native||f,b=a.touches,c=b&&b.length?b[0]:a,{offsetX:h,offsetY:i}=c;let g=!1,d,e;if(gg(h,i,a.target))d=h,e=i;else{const a=j.getBoundingClientRect();d=c.clientX-a.left,e=c.clientY-a.top,g=!0}return{x:d,y:e,box:g}}function cB(o,h){const{canvas:c,currentDevicePixelRatio:e}=h,d=a_(c),n=d.boxSizing==="border-box",a=Q(d,"padding"),b=Q(d,"border","width"),{x:k,y:j,box:g}=gf(o,c),l=a.left+(g&&b.left),m=a.top+(g&&b.top);let{width:f,height:i}=h;return n&&(f-=a.width+b.width,i-=a.height+b.height),{x:Math.round((k-l)/f*c.width/e),y:Math.round((j-m)/i*c.height/e)}}function ga(c,a,b){let d,e;if(a===void 0||b===void 0){const f=by(c);if(f){const g=f.getBoundingClientRect(),c=a_(f),h=Q(c,"border","width"),i=Q(c,"padding");a=g.width-i.width-h.width,b=g.height-i.height-h.height,d=aY(c.maxWidth,f,"clientWidth"),e=aY(c.maxHeight,f,"clientHeight")}else a=c.clientWidth,b=c.clientHeight}return{width:a,height:b,maxWidth:d||bf,maxHeight:e||bf}}br=a=>Math.round(a*10)/10;function f_(d,h,k,g){const c=a_(d),f=Q(c,"margin"),i=aY(c.maxWidth,d,"clientWidth")||bf,j=aY(c.maxHeight,d,"clientHeight")||bf,e=ga(d,h,k);let{width:a,height:b}=e;if(c.boxSizing==="content-box"){const d=Q(c,"border","width"),e=Q(c,"padding");a-=e.width+d.width,b-=e.height+d.height}return a=Math.max(0,a-f.width),b=Math.max(0,g?Math.floor(a/g):b-f.height),a=br(Math.min(a,i,e.maxWidth)),b=br(Math.min(b,j,e.maxHeight)),a&&!b&&(b=br(a/2)),{width:a,height:b}}function cF(a,f,g){const c=f||1,d=Math.floor(a.height*c),e=Math.floor(a.width*c);a.height=d/c,a.width=e/c;const b=a.canvas;return!!(b.style&&(g||!b.style.height&&!b.style.width)&&(b.style.height=`${a.height}px`,b.style.width=`${a.width}px`),a.currentDevicePixelRatio!==c||b.height!==d||b.width!==e)&&(a.currentDevicePixelRatio=c,b.height=d,b.width=e,a.ctx.setTransform(c,0,0,c,0,0),!0)}fZ=function(){let a=!1;try{const b={get passive(){return a=!0,!1}};window.addEventListener("test",null,b),window.removeEventListener("test",null,b)}catch(a){}return a}();function cH(c,d){const a=gj(c,d),b=a&&a.match(/^(\d+)(\.\d+)?px$/);return b?+b[1]:void 0}function P(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:a.y+c*(b.y-a.y)}}function fY(a,b,c,d){return{x:a.x+c*(b.x-a.x),y:d==="middle"?c<.5?a.y:b.y:d==="after"?c<1?a.y:b.y:c>0?b.y:a.y}}function fX(b,c,a,k){const d={x:b.cp2x,y:b.cp2y},e={x:c.cp1x,y:c.cp1y},h=P(b,d,a),f=P(d,e,a),i=P(e,c,a),g=P(h,f,a),j=P(f,i,a);return P(g,j,a)}cL=new Map;function fj(c,a){a=a||{};const d=c+JSON.stringify(a);let b=cL.get(d);return b||(b=new Intl.NumberFormat(c,a),cL.set(d,b)),b}function aw(a,b,c){return fj(b,c).format(a)}fV=function(a,b){return{x(c){return a+a+b-c},setWidth(a){b=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,b){return a-b},leftForLtr(a,b){return a-b}}},fU=function(){return{x(a){return a},setWidth(a){},textAlign(a){return a},xPlus(a,b){return a+b},leftForLtr(a,b){return a}}};function X(a,b,c){return a?fV(b,c):fU()}function cR(c,b){let a,d;(b==="ltr"||b==="rtl")&&(a=c.canvas.style,d=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",b,"important"),c.prevTextDirection=d)}function cS(b,a){a!==void 0&&(delete b.prevTextDirection,b.canvas.style.setProperty("direction",a[0],a[1]))}function cT(a){return a==="angle"?{between:aW,compare:ir,normalize:v}:{between:B,compare:(a,b)=>a-b,normalize:a=>a}}function cU({start:b,end:c,count:a,loop:d,style:e}){return{start:b%a,end:c%a,loop:d&&(c-b+1)%a===0,style:e}}function fS(h,e,m){const{property:f,start:l,end:k}=m,{between:j,normalize:n}=cT(f),a=e.length;let{start:c,end:b,loop:g}=h,d,i;if(g){c+=a,b+=a;for(d=0,i=a;d<i;++d){if(!j(n(e[c%a][f]),l,k))break;c--,b--}c%=a,b%=a}return b<c&&(b+=a),{start:c,end:b,loop:g,style:h.style}}function cW(r,i,l){if(!l)return[r];const{property:q,start:d,end:f}=l,g=i.length,{compare:h,between:m,normalize:t}=cT(q),{start:p,end:n,loop:s,style:o}=fS(r,i,l),k=[];let j=!1,b=null,a,e,c;const u=()=>m(d,c,a)&&h(d,c)!==0,v=()=>h(f,a)===0||m(f,c,a),w=()=>j||u(),x=()=>!j||v();for(let l=p,r=p;l<=n;++l){if(e=i[l%g],e.skip)continue;if(a=t(e[q]),a===c)continue;j=m(a,d,f),b===null&&w()&&(b=h(a,d)===0?l:r),b!==null&&x()&&(k.push(cU({start:b,end:l,loop:s,count:g,style:o})),b=null),r=l,c=a}return b!==null&&k.push(cU({start:b,end:n,loop:s,count:g,style:o})),k}function cX(a,d){const b=[],c=a.segments;for(let e=0;e<c.length;e++){const f=cW(c[e],a.points,d);f.length&&b.push(...f)}return b}function fO(d,b,e,f){let a=0,c=b-1;if(e&&!f)while(a<b&&!d[a].skip)a++;while(a<b&&d[a].skip)a++;for(a%=b,e&&(c+=a);c>a&&d[c%b].skip;)c--;return c%=b,{start:a,end:c}}function fI(g,b,i,e){const c=g.length,f=[];let d=b,h=g[b],a;for(a=b+1;a<=i;++a){const j=g[a%c];j.skip||j.stop?h.skip||(e=!1,f.push({start:b%c,end:(a-1)%c,loop:e}),b=d=j.stop?a:null):(d=a,h.skip&&(b=a)),h=j}return d!==null&&f.push({start:b%c,end:d%c,loop:e}),f}function fD(a,h){const c=a.points,f=a.options.spanGaps,d=c.length;if(!d)return[];const g=!!a._loop,{start:e,end:b}=fO(c,d,g,f);if(f===!0)return c$(a,[{start:e,end:b,loop:g}],c,h);const i=b<e?b+d:b,j=!!a._fullLoop&&e===0&&b===d-1;return c$(a,fI(c,e,i,j),c,h)}function c$(d,b,c,a){return!a||!a.setContext||!c?b:fC(d,b,c,a)}function fC(f,h,d,n){const m=f._chart.getContext(),l=db(f.options),{_datasetIndex:k,options:{spanGaps:i}}=f,a=d.length,g=[];let e=l,c=h[0].start,b=c;function j(b,f,k,h){const j=i?-1:1;if(b===f)return;for(b+=a;d[b%a].skip;)b-=j;while(d[f%a].skip)f+=j;b%a!==f%a&&(g.push({start:b%a,end:f%a,loop:k,style:h}),e=h,c=f%a)}for(const f of h){c=i?c:f.start;let l=d[c%a],g;for(b=c+1;b<=f.end;b++){const h=d[b%a];g=db(n.setContext(L(m,{type:"segment",p0:l,p1:h,p0DataIndex:(b-1)%a,p1DataIndex:b%a,datasetIndex:k}))),fx(g,e)&&j(c,b-1,f.loop,e),l=h,e=g}c<b-1&&j(c,b-1,f.loop,e)}return g}function db(a){return{backgroundColor:a.backgroundColor,borderCapStyle:a.borderCapStyle,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderJoinStyle:a.borderJoinStyle,borderWidth:a.borderWidth,borderColor:a.borderColor}}function fx(b,a){return a&&JSON.stringify(b)!==JSON.stringify(a)}fw=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(c,a,d,e){const f=a.listeners[e],b=a.duration;f.forEach(e=>e({chart:c,initial:a.initial,numSteps:b,currentStep:Math.min(d-a.start,b)}))}_refresh(){if(this._request)return;this._running=!0,this._request=eg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()})}_update(a=Date.now()){let b=0;this._charts.forEach((c,g)=>{if(!c.running||!c.items.length)return;const d=c.items;let f=d.length-1,h=!1,e;for(;f>=0;--f)e=d[f],e._active?(e._total>c.duration&&(c.duration=e._total),e.tick(a),h=!0):(d[f]=d[d.length-1],d.pop());h&&(g.draw(),this._notify(g,c,a,"progress")),d.length||(c.running=!1,this._notify(g,c,a,"complete"),c.initial=!1),b+=d.length}),this._lastDate=a,b===0&&(this._running=!1)}_getAnims(b){const c=this._charts;let a=c.get(b);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},c.set(b,a)),a}listen(a,b,c){this._getAnims(a).listeners[b].push(c)}add(b,a){if(!a||!a.length)return;this._getAnims(b).items.push(...a)}has(a){return this._getAnims(a).items.length>0}start(b){const a=this._charts.get(b);if(!a)return;a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((a,b)=>Math.max(a,b._duration),0),this._refresh()}running(b){if(!this._running)return!1;const a=this._charts.get(b);return!(!a||!a.running||!a.items.length)}stop(c){const a=this._charts.get(c);if(!a||!a.items.length)return;const d=a.items;let b=d.length-1;for(;b>=0;--b)d[b].cancel();a.items=[],this._notify(c,a,Date.now(),"complete")}remove(a){return this._charts.delete(a)}},D=new fw,df="transparent",ft={boolean(a,b,c){return c>.5?b:a},color(d,b,e){const c=cM(d||df),a=c.valid&&cM(b||df);return a&&a.valid?a.mix(c,e).hexString():b},number(a,b,c){return a+(b-a)*c}},fs=class{constructor(a,c,d,b){const e=c[d];b=ac([a.to,b,e,a.from]);const f=ac([a.from,e,b]);this._active=!0,this._fn=a.fn||ft[a.type||typeof f],this._easing=aa[a.easing]||aa.linear,this._start=Math.floor(Date.now()+(a.delay||0)),this._duration=this._total=Math.floor(a.duration),this._loop=!!a.loop,this._target=c,this._prop=d,this._from=f,this._to=b,this._promises=void 0}active(){return this._active}update(a,b,c){if(this._active){this._notify(!1);const d=this._target[this._prop],e=c-this._start,f=this._duration-e;this._start=c,this._duration=Math.floor(Math.max(f,a.duration)),this._total+=e,this._loop=!!a.loop,this._to=ac([a.to,b,d,a.from]),this._from=ac([a.from,d,b])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(h){const e=h-this._start,f=this._duration,c=this._prop,d=this._from,g=this._loop,b=this._to;let a;if(this._active=d!==b&&(g||e<f),!this._active){this._target[c]=b,this._notify(!0);return}if(e<0){this._target[c]=d;return}a=e/f%2,a=g&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[c]=this._fn(d,b,a)}wait(){const a=this._promises||(this._promises=[]);return new Promise((b,c)=>{a.push({res:b,rej:c})})}_notify(b){const c=b?"res":"rej",a=this._promises||[];for(let b=0;b<a.length;b++)a[b][c]()}},fp=["x","y","borderWidth","radius","tension"],fh=["color","borderColor","backgroundColor"],b.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),fg=Object.keys(b.animation),b.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:a=>a!=="onProgress"&&a!=="onComplete"&&a!=="fn"}),b.set("animations",{colors:{type:"color",properties:fh},numbers:{type:"number",properties:fp}}),b.describe("animations",{_fallback:"animation"}),b.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:a=>a|0}}}}),dl=class{constructor(a,b){this._chart=a,this._properties=new Map,this.configure(b)}configure(a){if(!c(a))return;const b=this._properties;Object.getOwnPropertyNames(a).forEach(e=>{const d=a[e];if(!c(d))return;const f={};for(const a of fg)f[a]=d[a];(h(d.properties)&&d.properties||[e]).forEach(a=>{(a===e||!b.has(a))&&b.set(a,f)})})}_animateOptions(b,d){const a=d.options,c=e_(b,a);if(!c)return[];const e=this._createAnimations(c,a);return a.$shared&&fc(b.options.$animations,a).then(()=>{b.options=a},()=>{}),e}_createAnimations(a,d){const g=this._properties,c=[],e=a.$animations||(a.$animations={}),f=Object.keys(d),h=Date.now();let b;for(b=f.length-1;b>=0;--b){const i=f[b];if(i.charAt(0)==="$")continue;if(i==="options"){c.push(...this._animateOptions(a,d));continue}const l=d[i];let j=e[i];const k=g.get(i);if(j){if(k&&j.active()){j.update(k,l,h);continue}j.cancel()}if(!k||!k.duration){a[i]=l;continue}e[i]=j=new fs(k,a,i,l),c.push(j)}return c}update(a,b){if(this._properties.size===0){Object.assign(a,b);return}const c=this._createAnimations(a,b);if(c.length)return D.add(this._chart,c),!0}};function fc(c,d){const a=[],b=Object.keys(d);for(let d=0;d<b.length;d++){const e=c[b[d]];e&&e.active()&&a.push(e.wait())}return Promise.all(a)}function e_(b,c){if(!c)return;let a=b.options;if(!a){b.options=c;return}return a.$shared&&(b.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function dp(b,c){const a=b&&b.options||{},d=a.reverse,e=a.min===void 0?c:0,f=a.max===void 0?c:0;return{start:d?f:e,end:d?e:f}}function eZ(d,e,a){if(a===!1)return!1;const b=dp(d,a),c=dp(e,a);return{top:c.end,right:b.end,bottom:c.start,left:b.start}}function eY(a){let b,d,e,f;return c(a)?(b=a.top,d=a.right,e=a.bottom,f=a.left):b=d=e=f=a,{top:b,right:d,bottom:e,left:f,disabled:a===!1}}function ds(e,f){const b=[],c=e._getSortedDatasetMetas(f);let a,d;for(a=0,d=c.length;a<d;++a)b.push(c[a].index);return b}function dt(f,a,j,h={}){const e=f.keys,i=h.mode==="single";let b,g,d,c;if(a===null)return;for(b=0,g=e.length;b<g;++b){if(d=+e[b],d===j){if(h.all)continue;break}c=f.values[d],k(c)&&(i||a===0||A(a)===A(c))&&(a+=c)}return a}function eV(d){const b=Object.keys(d),e=new Array(b.length);let a,f,c;for(a=0,f=b.length;a<f;++a)c=b[a],e[a]={x:c,y:d[c]};return e}function dv(a,c){const b=a&&a.options.stacked;return b||b===void 0&&c.stack!==void 0}function eR(b,c,a){return`${b.id}.${c.id}.${a.stack||a.type}`}function eP(a){const{min:b,max:c,minDefined:d,maxDefined:e}=a.getUserBounds();return{min:d?b:Number.NEGATIVE_INFINITY,max:e?c:Number.POSITIVE_INFINITY}}function eN(a,b,c){const d=a[b]||(a[b]={});return d[c]||(d[c]={})}function dz(b,c,a,d){for(const e of c.getMatchingVisibleMetas(d).reverse()){const f=b[e.index];if(a&&f>0||!a&&f<0)return e.index}return null}function dA(m,f){const{chart:d,_cachedMeta:b}=m,h=d._stacks||(d._stacks={}),{iScale:e,vScale:c,index:i}=b,j=e.axis,g=c.axis,k=eR(e,c,b),l=f.length;let a;for(let d=0;d<l;++d){const e=f[d],{[j]:m,[g]:n}=e,o=e._stacks||(e._stacks={});a=o[g]=eN(h,k,m),a[i]=n,a._top=dz(a,c,!0,b.type),a._bottom=dz(a,c,!1,b.type)}}function bX(b,c){const a=b.scales;return Object.keys(a).filter(b=>a[b].axis===c).shift()}function eL(b,a){return L(b,{active:!1,dataset:void 0,datasetIndex:a,index:a,mode:"default",type:"dataset"})}function eK(b,a,c){return L(b,{active:!1,dataIndex:a,parsed:void 0,raw:void 0,element:c,index:a,mode:"default",type:"data"})}function an(a,c){const d=a.controller.index,b=a.vScale&&a.vScale.axis;if(!b)return;c=c||a._parsed;for(const e of c){const a=e._stacks;if(!a||a[b]===void 0||a[b][d]===void 0)return;delete a[b][d]}}bH=a=>a==="reset"||a==="none",dG=(a,b)=>b?a:Object.assign({},a),eJ=(b,a,c)=>b&&!a.hidden&&a._stacked&&{keys:ds(c,!0),values:null},y=class{constructor(a,b){this.chart=a,this._ctx=a.ctx,this.index=b,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const a=this._cachedMeta;this.configure(),this.linkScales(),a._stacked=dv(a.vScale,a),this.addElements()}updateIndex(a){this.index!==a&&an(this._cachedMeta),this.index=a}linkScales(){const c=this.chart,b=this._cachedMeta,d=this.getDataset(),h=(a,b,c,d)=>a==="x"?b:a==="r"?d:c,e=b.xAxisID=a(d.xAxisID,bX(c,"x")),f=b.yAxisID=a(d.yAxisID,bX(c,"y")),g=b.rAxisID=a(d.rAxisID,bX(c,"r")),i=b.indexAxis,j=b.iAxisID=h(i,e,f,g),k=b.vAxisID=h(i,f,e,g);b.xScale=this.getScaleForId(e),b.yScale=this.getScaleForId(f),b.rScale=this.getScaleForId(g),b.iScale=this.getScaleForId(j),b.vScale=this.getScaleForId(k)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(a){return this.chart.scales[a]}_getOtherScale(b){const a=this._cachedMeta;return b===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const a=this._cachedMeta;this._data&&cj(this._data,this),a._stacked&&an(a)}_dataCheck(){const d=this.getDataset(),a=d.data||(d.data=[]),b=this._data;if(c(a))this._data=eV(a);else if(b!==a){if(b){cj(b,this);const a=this._cachedMeta;an(a),a._parsed=[]}a&&Object.isExtensible(a)&&gP(a,this),this._syncList=[],this._data=a}}addElements(){const a=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(a.dataset=new this.datasetElementType)}buildOrUpdateElements(d){const a=this._cachedMeta,b=this.getDataset();let c=!1;this._dataCheck();const e=a._stacked;a._stacked=dv(a.vScale,a),a.stack!==b.stack&&(c=!0,an(a),a.stack=b.stack),this._resyncElements(d),(c||e!==a._stacked)&&dA(this,a._parsed)}configure(){const a=this.chart.config,b=a.datasetScopeKeys(this._type),c=a.getOptionScopes(this.getDataset(),b,!0);this.options=a.createResolver(c,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(b,f){const{_cachedMeta:a,_data:d}=this,{iScale:m,_stacked:n}=a,j=m.axis;let k=!!(b===0&&f===d.length)||a._sorted,l=b>0&&a._parsed[b-1],g,i,e;if(this._parsing===!1)a._parsed=d,a._sorted=!0,e=d;else{h(d[b])?e=this.parseArrayData(a,d,b,f):c(d[b])?e=this.parseObjectData(a,d,b,f):e=this.parsePrimitiveData(a,d,b,f);const m=()=>i[j]===null||l&&i[j]<l[j];for(g=0;g<f;++g)a._parsed[g+b]=i=e[g],k&&(m()&&(k=!1),l=i);a._sorted=k}n&&dA(this,e)}parsePrimitiveData(n,m,l,f){const{iScale:c,vScale:d}=n,k=c.axis,h=d.axis,i=c.getLabels(),j=c===d,g=new Array(f);let b,e,a;for(b=0,e=f;b<e;++b)a=b+l,g[b]={[k]:j||c.parse(i[a],a),[h]:d.parse(m[a],a)};return g}parseArrayData(h,i,j,f){const{xScale:k,yScale:g}=h,d=new Array(f);let a,e,b,c;for(a=0,e=f;a<e;++a)b=a+j,c=i[b],d[a]={x:k.parse(c[0],b),y:g.parse(c[1],b)};return d}parseObjectData(m,l,k,e){const{xScale:j,yScale:i}=m,{xAxisKey:g="x",yAxisKey:h="y"}=this._parsing,f=new Array(e);let a,d,b,c;for(a=0,d=e;a<d;++a)b=a+k,c=l[b],f[a]={x:j.parse(S(c,g),b),y:i.parse(S(c,h),b)};return f}getParsed(a){return this._cachedMeta._parsed[a]}getDataElement(a){return this._cachedMeta.data[a]}applyStack(a,b,c){const d=this.chart,e=this._cachedMeta,f=b[a.axis],g={keys:ds(d,!0),values:b._stacks[a.axis]};return dt(g,f,e.index,{mode:c})}updateRangeFromParsed(a,e,f,b){const c=f[e.axis];let d=c===null?NaN:c;const g=b&&f._stacks[e.axis];b&&g&&(b.values=g,d=dt(b,c,this._cachedMeta.index)),a.min=Math.min(a.min,d),a.max=Math.max(a.max,d)}getMinMax(b,o){const d=this._cachedMeta,j=d._parsed,i=d._sorted&&b===d.iScale,h=j.length,g=this._getOtherScale(b),f=eJ(o,d,this.chart),e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:n,max:m}=eP(g);let a,c;function l(){c=j[a];const d=c[g.axis];return!k(c[b.axis])||n>d||m<d}for(a=0;a<h;++a){if(l())continue;if(this.updateRangeFromParsed(e,b,c,f),i)break}if(i)for(a=h-1;a>=0;--a){if(l())continue;this.updateRangeFromParsed(e,b,c,f);break}return e}getAllParsedValues(f){const c=this._cachedMeta._parsed,d=[];let a,e,b;for(a=0,e=c.length;a<e;++a)b=c[a][f.axis],k(b)&&d.push(b);return d}getMaxOverflow(){return!1}getLabelAndValue(e){const c=this._cachedMeta,a=c.iScale,b=c.vScale,d=this.getParsed(e);return{label:a?""+a.getLabelForValue(d[a.axis]):"",value:b?""+b.getLabelForValue(d[b.axis]):""}}_update(c){const b=this._cachedMeta;this.update(c||"default"),b._clip=eY(a(this.options.clip,eZ(b.xScale,b.yScale,this.getMaxOverflow())))}update(a){}draw(){const e=this._ctx,i=this.chart,f=this._cachedMeta,h=f.data||[],c=i.chartArea,d=[],b=this._drawStart||0,g=this._drawCount||h.length-b;let a;f.dataset&&f.dataset.draw(e,c,b,g);for(a=b;a<b+g;++a){const f=h[a];if(f.hidden)continue;f.active?d.push(f):f.draw(e,c)}for(a=0;a<d.length;++a)d[a].draw(e,c)}getStyle(a,c){const b=c?"active":"default";return a===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(b):this.resolveDataElementOptions(a||0,b)}getContext(b,d,e){const c=this.getDataset();let a;if(b>=0&&b<this._cachedMeta.data.length){const d=this._cachedMeta.data[b];a=d.$context||(d.$context=eK(this.getContext(),b,d)),a.parsed=this.getParsed(b),a.raw=c.data[b],a.index=a.dataIndex=b}else a=this.$context||(this.$context=eL(this.chart.getContext(),this.index)),a.dataset=c,a.index=a.datasetIndex=this.index;return a.active=!!d,a.mode=e,a}resolveDatasetElementOptions(a){return this._resolveElementOptions(this.datasetElementType.id,a)}resolveDataElementOptions(a,b){return this._resolveElementOptions(this.dataElementType.id,b,a)}_resolveElementOptions(a,i="default",k){const j=i==="active",f=this._cachedDataOpts,g=a+"-"+i,h=f[g],e=this.enableOptionSharing&&u(k);if(h)return dG(h,e);const d=this.chart.config,l=d.datasetElementScopeKeys(this._type,a),m=j?[`${a}Hover`,"hover",a,""]:[a,""],n=d.getOptionScopes(this.getDataset(),l),o=Object.keys(b.elements[a]),p=()=>this.getContext(k,j),c=d.resolveNamedOptions(n,o,p,m);return c.$shared&&(c.$shared=e,f[g]=Object.freeze(dG(c,e))),c}_resolveAnimations(h,b,i){const e=this.chart,f=this._cachedDataOpts,g=`animation-${b}`,c=f[g];if(c)return c;let a;if(e.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,b),e=c.getOptionScopes(this.getDataset(),d);a=c.createResolver(e,this.getContext(h,i,b))}const d=new dl(e,a&&a.animations);return a&&a._cacheable&&(f[g]=Object.freeze(d)),d}getSharedOptions(a){if(!a.$shared)return;return this._sharedOptions||(this._sharedOptions=Object.assign({},a))}includeOptions(a,b){return!b||bH(a)||this.chart._animationsDisabled}updateElement(a,d,b,c){bH(c)?Object.assign(a,b):this._resolveAnimations(d,c).update(a,b)}updateSharedOptions(a,b,c){a&&!bH(b)&&this._resolveAnimations(void 0,b).update(a,c)}_setStyle(b,c,e,a){b.active=a;const d=this.getStyle(c,a);this._resolveAnimations(c,e,a).update(b,{options:!a&&this.getSharedOptions(d)||d})}removeHoverStyle(a,c,b){this._setStyle(a,b,"active",!1)}setHoverStyle(a,c,b){this._setStyle(a,b,"active",!0)}_removeDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!1)}_setDatasetHoverStyle(){const a=this._cachedMeta.dataset;a&&this._setStyle(a,void 0,"active",!0)}_resyncElements(d){const e=this._data,f=this._cachedMeta.data;for(const[a,b,c]of this._syncList)this[a](b,c);this._syncList=[];const a=f.length,b=e.length,c=Math.min(b,a);c&&this.parse(0,c),b>a?this._insertElements(a,b-a,d):b<a&&this._removeElements(b,a-b)}_insertElements(c,b,h=!0){const e=this._cachedMeta,d=e.data,f=c+b;let a;const g=c=>{c.length+=b;for(a=c.length-1;a>=f;a--)c[a]=c[a-b]};g(d);for(a=c;a<f;++a)d[a]=new this.dataElementType;this._parsing&&g(e._parsed),this.parse(c,b),h&&this.updateElements(d,c,b,"reset")}updateElements(a,b,c,d){}_removeElements(b,c){const a=this._cachedMeta;if(this._parsing){const d=a._parsed.splice(b,c);a._stacked&&an(a,d)}a.data.splice(b,c)}_sync(a){if(this._parsing)this._syncList.push(a);else{const[b,c,d]=a;this[b](c,d)}this.chart._dataChanges.push([this.index,...a])}_onDataPush(){const a=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-a,a])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(a,b){b&&this._sync(["_removeElements",a,b]);const c=arguments.length-2;c&&this._sync(["_insertElements",a,c])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}},y.defaults={},y.prototype.datasetElementType=null,y.prototype.dataElementType=null;function eI(a,b){if(!a._cache.$bar){const d=a.getMatchingVisibleMetas(b);let c=[];for(let b=0,e=d.length;b<e;b++)c=c.concat(d[b].controller.getAllParsedValues(a));a._cache.$bar=ci(c.sort((a,b)=>a-b))}return a._cache.$bar}function eH(h){const c=h.iScale,g=eI(c,h.type);let d=c._length,a,e,b,f;const i=()=>{if(b===32767||b===-32768)return;u(f)&&(d=Math.min(d,Math.abs(b-f)||d)),f=b};for(a=0,e=g.length;a<e;++a)b=c.getPixelForValue(g[a]),i();f=void 0;for(a=0,e=c.ticks.length;a<e;++a)b=c.getPixelForTick(a),i();return d}function eD(h,e,c,f){const g=c.barThickness;let a,b;return d(g)?(a=e.min*c.categoryPercentage,b=c.barPercentage):(a=g*f,b=1),{chunk:a/f,ratio:b,start:e.pixels[h]-a/2}}function eC(c,f,g,i){const e=f.pixels,b=e[c];let d=c>0?e[c-1]:null,a=c<e.length-1?e[c+1]:null;const h=g.categoryPercentage;d===null&&(d=b-(a===null?f.end-f.start:a-b)),a===null&&(a=b+b-d);const j=b-(b-Math.min(d,a))/2*h,k=Math.abs(a-d)/2*h;return{chunk:k/i,ratio:g.barPercentage,start:j}}function ex(g,h,c,j){const e=c.parse(g[0],j),f=c.parse(g[1],j),a=Math.min(e,f),b=Math.max(e,f);let i=a,d=b;Math.abs(a)>Math.abs(b)&&(i=b,d=a),h[c.axis]=d,h._custom={barStart:i,barEnd:d,start:e,end:f,min:a,max:b}}function dO(a,b,c,d){return h(a)?ex(a,b,c,d):b[c.axis]=c.parse(a,d),b}function dP(g,l,h,k){const b=g.iScale,f=g.vScale,m=b.getLabels(),j=b===f,i=[];let a,e,c,d;for(a=h,e=h+k;a<e;++a)d=l[a],c={},c[b.axis]=j||b.parse(m[a],a),i.push(dO(d,c,f,a));return i}function bp(a){return a&&a.barStart!==void 0&&a.barEnd!==void 0}function ew(a,b,c){return a!==0?A(a):(b.isHorizontal()?1:-1)*(b.min>=c?1:-1)}function ev(a){let b,c,d,e,f;return a.horizontal?(b=a.base>a.x,c="left",d="right"):(b=a.base<a.y,c="bottom",d="top"),b?(e="end",f="start"):(e="start",f="end"),{start:c,end:d,reverse:b,top:e,bottom:f}}function eu(b,k,d,f){let a=k.borderSkipped;const c={};if(!a){b.borderSkipped=c;return}const{start:g,end:e,reverse:h,top:i,bottom:j}=ev(b);a==="middle"&&d&&(b.enableBorderRadius=!0,(d._top||0)===f?a=i:(d._bottom||0)===f?a=j:(c[dU(j,g,e,h)]=!0,a=i)),c[dU(a,g,e,h)]=!0,b.borderSkipped=c}function dU(a,b,c,d){return d?(a=es(a,b,c),a=dW(a,c,b)):a=dW(a,b,c),a}function es(a,b,c){return a===b?c:a===c?b:a}function dW(a,b,c){return a==="start"?b:a==="end"?c:a}function er(b,{inflateAmount:a},c){b.inflateAmount=a==="auto"?c===1?.33:0:a}bb=class extends y{parsePrimitiveData(a,b,c,d){return dP(a,b,c,d)}parseArrayData(a,b,c,d){return dP(a,b,c,d)}parseObjectData(o,n,i,m){const{iScale:c,vScale:g}=o,{xAxisKey:h="x",yAxisKey:j="y"}=this._parsing,l=c.axis==="x"?h:j,k=g.axis==="x"?h:j,e=[];let a,f,b,d;for(a=i,f=i+m;a<f;++a)d=n[a],b={},b[c.axis]=c.parse(S(d,l),a),e.push(dO(S(d,k),b,g,a));return e}updateRangeFromParsed(a,c,d,e){super.updateRangeFromParsed(a,c,d,e);const b=d._custom;b&&c===this._cachedMeta.vScale&&(a.min=Math.min(a.min,b.min),a.max=Math.max(a.max,b.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const f=this._cachedMeta,{iScale:c,vScale:d}=f,a=this.getParsed(e),b=a._custom,g=bp(b)?"["+b.start+", "+b.end+"]":""+d.getLabelForValue(a[d.axis]);return{label:""+c.getLabelForValue(a[c.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize();const a=this._cachedMeta;a.stack=this.getDataset().stack}update(b){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,b)}updateElements(h,e,m,a){const l=a==="reset",{index:g,_cachedMeta:{vScale:c}}=this,i=c.getBasePixel(),b=c.isHorizontal(),j=this._getRuler(),k=this.resolveDataElementOptions(e,a),f=this.getSharedOptions(k),n=this.includeOptions(a,f);this.updateSharedOptions(f,a,k);for(let k=e;k<e+m;k++){const s=this.getParsed(k),o=l||d(s[c.axis])?{base:i,head:i}:this._calculateBarValuePixels(k),q=this._calculateBarIndexPixels(k,j),r=(s._stacks||{})[c.axis],p={horizontal:b,base:o.base,enableBorderRadius:!r||bp(s._custom)||g===r._top||g===r._bottom,x:b?o.head:q.center,y:b?q.center:o.head,height:b?q.size:Math.abs(o.size),width:b?Math.abs(o.size):q.size};n&&(p.options=f||this.resolveDataElementOptions(k,h[k].active?"active":a));const t=p.options||h[k].options;eu(p,t,r,g),er(p,t,j.ratio),this.updateElement(h[k],k,p,a)}}_getStacks(i,g){const k=this._cachedMeta,h=k.iScale,e=h.getMatchingVisibleMetas(this._type),f=h.options.stacked,j=e.length,b=[];let c,a;for(c=0;c<j;++c){if(a=e[c],!a.controller.options.grouped)continue;if(typeof g!="undefined"){const b=a.controller.getParsed(g)[a.controller._cachedMeta.vScale.axis];if(d(b)||isNaN(b))continue}if((f===!1||b.indexOf(a.stack)===-1||f===void 0&&a.stack===void 0)&&b.push(a.stack),a.index===i)break}return b.length||b.push(void 0),b}_getStackCount(a){return this._getStacks(void 0,a).length}_getStackIndex(d,a,e){const b=this._getStacks(d,e),c=a!==void 0?b.indexOf(a):-1;return c===-1?b.length-1:c}_getRuler(){const c=this.options,d=this._cachedMeta,a=d.iScale,e=[];let b,f;for(b=0,f=d.data.length;b<f;++b)e.push(a.getPixelForValue(this.getParsed(b)[a.axis],b));const g=c.barThickness,h=g||eH(d);return{min:h,pixels:e,start:a._startPixel,end:a._endPixel,stackCount:this._getStackCount(),scale:a,grouped:c.grouped,ratio:g?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(p){const{_cachedMeta:{vScale:c,_stacked:o},options:{base:l,minBarLength:n}}=this,j=l||0,k=this.getParsed(p),h=k._custom,m=bp(h);let b=k[c.axis],i=0,g=o?this.applyStack(c,k,o):b,f,a;g!==b&&(i=g-b,g=b),m&&(b=h.barStart,g=h.barEnd-h.barStart,b!==0&&A(b)!==A(h.barEnd)&&(i=0),i+=b);const q=!d(l)&&!m?l:i;let e=c.getPixelForValue(q);if(this.chart.getDataVisibility(p)?f=c.getPixelForValue(i+g):f=e,a=f-e,Math.abs(a)<n&&(a=ew(a,c,j)*n,b===j&&(e-=a/2),f=e+a),e===c.getPixelForValue(j)){const b=A(a)*c.getLineWidthForValue(j)/2;e+=b,a-=b}return{size:a,base:e,head:f,center:f+a/2}}_calculateBarIndexPixels(c,b){const g=b.scale,d=this.options,h=d.skipNull,i=a(d.maxBarThickness,1/0);let e,f;if(b.grouped){const g=h?this._getStackCount(c):b.stackCount,a=d.barThickness==="flex"?eC(c,b,d,g):eD(c,b,d,g),j=this._getStackIndex(this.index,this._cachedMeta.stack,h?c:void 0);e=a.start+a.chunk*j+a.chunk/2,f=Math.min(i,a.chunk*a.ratio)}else e=g.getPixelForValue(this.getParsed(c)[g.axis],c),f=Math.min(i,b.min*b.ratio);return{base:e-f/2,head:e+f/2,center:e,size:f}}draw(){const b=this._cachedMeta,d=b.vScale,c=b.data,e=c.length;let a=0;for(;a<e;++a)this.getParsed(a)[d.axis]!==null&&c[a].draw(this._ctx)}},bb.id="bar",bb.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},bb.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},ba=class extends y{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,d,b,e){const a=super.parsePrimitiveData(c,d,b,e);for(let c=0;c<a.length;c++)a[c]._custom=this.resolveDataElementOptions(c+b).radius;return a}parseArrayData(e,d,b,f){const c=super.parseArrayData(e,d,b,f);for(let e=0;e<c.length;e++){const f=d[b+e];c[e]._custom=a(f[2],this.resolveDataElementOptions(e+b).radius)}return c}parseObjectData(e,d,b,f){const c=super.parseObjectData(e,d,b,f);for(let e=0;e<c.length;e++){const f=d[b+e];c[e]._custom=a(f&&f.r&&+f.r,this.resolveDataElementOptions(e+b).radius)}return c}getMaxOverflow(){const b=this._cachedMeta.data;let a=0;for(let c=b.length-1;c>=0;--c)a=Math.max(a,b[c].size(this.resolveDataElementOptions(c))/2);return a>0&&a}getLabelAndValue(d){const b=this._cachedMeta,{xScale:e,yScale:f}=b,a=this.getParsed(d),g=e.getLabelForValue(a.x),h=f.getLabelForValue(a.y),c=a._custom;return{label:b.label,value:"("+g+", "+h+(c?", "+c:"")+")"}}update(b){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,b)}updateElements(j,d,k,a){const b=a==="reset",{iScale:e,vScale:c}=this._cachedMeta,g=this.resolveDataElementOptions(d,a),f=this.getSharedOptions(g),l=this.includeOptions(a,f),h=e.axis,i=c.axis;for(let f=d;f<d+k;f++){const m=j[f],n=!b&&this.getParsed(f),g={},o=g[h]=b?e.getPixelForDecimal(.5):e.getPixelForValue(n[h]),p=g[i]=b?c.getBasePixel():c.getPixelForValue(n[i]);g.skip=isNaN(o)||isNaN(p),l&&(g.options=this.resolveDataElementOptions(f,m.active?"active":a),b&&(g.options.radius=0)),this.updateElement(m,f,g,a)}this.updateSharedOptions(f,a,g)}resolveDataElementOptions(c,d){const e=this.getParsed(c);let b=super.resolveDataElementOptions(c,d);b.$shared&&(b=Object.assign({},b,{$shared:!1}));const f=b.radius;return d!=="active"&&(b.radius=0),b.radius+=a(e&&e._custom,f),b}},ba.id="bubble",ba.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},ba.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function eq(h,c,a){let d=1,e=1,g=0,b=0;if(c<f){const f=h,k=f+c,l=Math.cos(f),m=Math.sin(f),n=Math.cos(k),o=Math.sin(k),p=(d,b,c)=>aW(d,f,k,!0)?1:Math.max(b,b*a,c,c*a),q=(d,b,c)=>aW(d,f,k,!0)?-1:Math.min(b,b*a,c,c*a),r=p(0,l,n),s=p(j,m,o),t=q(i,l,n),u=q(i+j,m,o);d=(r-t)/2,e=(s-u)/2,g=-(r+t)/2,b=-(s+u)/2}return{ratioX:d,ratioY:e,offsetX:g,offsetY:b}}Z=class extends y{constructor(a,b){super(a,b),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(b,e){const a=this.getDataset().data,d=this._cachedMeta;if(this._parsing===!1)d._parsed=a;else{let g=b=>+a[b];if(c(a[b])){const{key:b="value"}=this._parsing;g=c=>+S(a[c],b)}let f,h;for(f=b,h=b+e;f<h;++f)d._parsed[f]=g(f)}}_getRotation(){return w(this.options.rotation-90)}_getCircumference(){return w(this.options.circumference)}_getRotationExtents(){let a=f,b=-f;for(let c=0;c<this.chart.data.datasets.length;++c)if(this.chart.isDatasetVisible(c)){const d=this.chart.getDatasetMeta(c).controller,e=d._getRotation(),f=d._getCircumference();a=Math.min(a,e),b=Math.max(b,e+f)}return{rotation:a,circumference:b-a}}update(u){const s=this.chart,{chartArea:b}=s,f=this._cachedMeta,c=f.data,d=this.getMaxBorderWidth()+this.getMaxOffset(c)+this.options.spacing,k=Math.max((Math.min(b.width,b.height)-d)/2,0),e=Math.min(iO(this.options.cutout,k),1),i=this._getRingWeight(this.index),{circumference:j,rotation:h}=this._getRotationExtents(),{ratioX:l,ratioY:m,offsetX:n,offsetY:o}=eq(h,j,e),p=(b.width-d)/l,q=(b.height-d)/m,r=Math.max(Math.min(p,q)/2,0),a=ed(this.options.radius,r),t=Math.max(a*e,0),g=(a-t)/this._getVisibleDatasetWeightTotal();this.offsetX=n*a,this.offsetY=o*a,f.total=this.calculateTotal(),this.outerRadius=a-g*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-g*i,0),this.updateElements(c,0,c.length,u)}_circumference(a,c){const d=this.options,b=this._cachedMeta,e=this._getCircumference();return c&&d.animation.animateRotate||!this.chart.getDataVisibility(a)||b._parsed[a]===null||b.data[a].hidden?0:this.calculateCircumference(b._parsed[a]*e/f)}updateElements(s,d,r,b){const f=b==="reset",h=this.chart,c=h.chartArea,p=h.options,o=p.animation,k=(c.left+c.right)/2,l=(c.top+c.bottom)/2,i=f&&o.animateScale,m=i?0:this.innerRadius,n=i?0:this.outerRadius,j=this.resolveDataElementOptions(d,b),g=this.getSharedOptions(j),q=this.includeOptions(b,g);let e=this._getRotation(),a;for(a=0;a<d;++a)e+=this._circumference(a,f);for(a=d;a<d+r;++a){const c=this._circumference(a,f),h=s[a],i={x:k+this.offsetX,y:l+this.offsetY,startAngle:e,endAngle:e+c,circumference:c,outerRadius:n,innerRadius:m};q&&(i.options=g||this.resolveDataElementOptions(a,h.active?"active":b)),e+=c,this.updateElement(h,a,i,b)}this.updateSharedOptions(g,b,j)}calculateTotal(){const b=this._cachedMeta,c=b.data;let d=0,a;for(a=0;a<c.length;a++){const e=b._parsed[a];e!==null&&!isNaN(e)&&this.chart.getDataVisibility(a)&&!c[a].hidden&&(d+=Math.abs(e))}return d}calculateCircumference(a){const b=this._cachedMeta.total;return b>0&&!isNaN(a)?f*(Math.abs(a)/b):0}getLabelAndValue(a){const c=this._cachedMeta,b=this.chart,d=b.data.labels||[],e=aw(c._parsed[a],b.options.locale);return{label:d[a]||"",value:e}}getMaxBorderWidth(b){let g=0;const e=this.chart;let a,d,f,h,c;if(!b)for(a=0,d=e.data.datasets.length;a<d;++a)if(e.isDatasetVisible(a)){f=e.getDatasetMeta(a),b=f.data,h=f.controller;break}if(!b)return 0;for(a=0,d=b.length;a<d;++a)c=h.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(g=Math.max(g,c.borderWidth||0,c.hoverBorderWidth||0));return g}getMaxOffset(b){let a=0;for(let c=0,e=b.length;c<e;++c){const d=this.resolveDataElementOptions(c);a=Math.max(a,d.offset||0,d.hoverOffset||0)}return a}_getRingWeightOffset(b){let a=0;for(let c=0;c<b;++c)this.chart.isDatasetVisible(c)&&(a+=this._getRingWeight(c));return a}_getRingWeight(b){return Math.max(a(this.chart.data.datasets[b].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}},Z.id="doughnut",Z.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Z.descriptors={_scriptable:a=>a!=="spacing",_indexable:a=>a!=="spacing"},Z.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const b=a.data;if(b.labels.length&&b.datasets.length){const{labels:{pointStyle:c}}=a.legend.options;return b.labels.map((e,b)=>{const f=a.getDatasetMeta(0),d=f.controller.getStyle(b);return{text:e,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(b),index:b}})}return[]}},onClick(c,b,a){a.chart.toggleDataVisibility(b.index),a.chart.update()}},tooltip:{callbacks:{title(){return""},label(b){let a=b.label;const c=": "+b.formattedValue;return h(a)?(a=a.slice(),a[0]+=c):a+=c,a}}}}},ae=class extends y{initialize(){this.enableOptionSharing=!0,super.initialize()}update(c){const d=this._cachedMeta,{dataset:a,data:b=[],_dataset:i}=d,h=this.chart._animationsDisabled;let{start:e,count:f}=eo(d,b,h);this._drawStart=e,this._drawCount=f,el(d)&&(e=0,f=b.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!i._decimated,a.points=b;const g=this.resolveDatasetElementOptions(c);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(a,void 0,{animated:!h,options:g},c),this.updateElements(b,e,f,c)}updateElements(t,b,s,a){const l=a==="reset",{iScale:m,vScale:e,_stacked:i,_dataset:p}=this._cachedMeta,k=this.resolveDataElementOptions(b,a),f=this.getSharedOptions(k),o=this.includeOptions(a,f),c=m.axis,g=e.axis,{spanGaps:j,segment:q}=this.options,r=U(j)?j:Number.POSITIVE_INFINITY,h=this.chart._animationsDisabled||l||a==="none";let n=b>0&&this.getParsed(b-1);for(let j=b;j<b+s;++j){const v=t[j],u=this.getParsed(j),k=h?v:{},w=d(u[g]),x=k[c]=m.getPixelForValue(u[c],j),y=k[g]=l||w?e.getBasePixel():e.getPixelForValue(i?this.applyStack(e,u,i):u[g],j);k.skip=isNaN(x)||isNaN(y)||w,k.stop=j>0&&u[c]-n[c]>r,q&&(k.parsed=u,k.raw=p.data[j]),o&&(k.options=f||this.resolveDataElementOptions(j,v.active?"active":a)),h||this.updateElement(v,j,k,a),n=u}this.updateSharedOptions(f,a,k)}getMaxOverflow(){const b=this._cachedMeta,c=b.dataset,d=c.options&&c.options.borderWidth||0,a=b.data||[];if(!a.length)return d;const e=a[0].size(this.resolveDataElementOptions(0)),f=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(d,e,f)/2}draw(){const a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),super.draw()}},ae.id="line",ae.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},ae.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};function eo(e,c,f){const a=c.length;let b=0,d=a;if(e._sorted){const{iScale:g,_parsed:h}=e,i=g.axis,{min:j,max:k,minDefined:l,maxDefined:n}=g.getUserBounds();l&&(b=m(Math.min(F(h,g.axis,j).lo,f?a:F(c,i,g.getPixelForValue(j)).lo),0,a-1)),n?d=m(Math.max(F(h,g.axis,k).hi+1,f?0:F(c,i,g.getPixelForValue(k)).hi+1),b,a)-b:d=a-b}return{start:b,count:d}}function el(d){const{xScale:b,yScale:c,_scaleRanges:a}=d,e={xmin:b.min,xmax:b.max,ymin:c.min,ymax:c.max};if(!a)return d._scaleRanges=e,!0;const f=a.xmin!==b.min||a.xmax!==b.max||a.ymin!==c.min||a.ymax!==c.max;return Object.assign(a,e),f}aN=class extends y{constructor(a,b){super(a,b),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(a){const c=this._cachedMeta,b=this.chart,d=b.data.labels||[],e=aw(c._parsed[a].r,b.options.locale);return{label:d[a]||"",value:e}}update(b){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,b)}_updateRadius(){const b=this.chart,a=b.chartArea,d=b.options,f=Math.min(a.right-a.left,a.bottom-a.top),c=Math.max(f/2,0),g=Math.max(d.cutoutPercentage?c/100*d.cutoutPercentage:1,0),e=(c-g)/b.getVisibleDatasetCount();this.outerRadius=c-e*this.index,this.innerRadius=this.outerRadius-e}updateElements(q,e,p,b){const o=b==="reset",g=this.chart,n=this.getDataset(),k=g.options,f=k.animation,c=this._cachedMeta.rScale,l=c.xCenter,m=c.yCenter,h=c.getIndexAngle(0)-.5*i;let d=h,a;const j=360/this.countVisibleElements();for(a=0;a<e;++a)d+=this._computeAngle(a,b,j);for(a=e;a<e+p;a++){const k=q[a];let r=d,i=d+this._computeAngle(a,b,j),s=g.getDataVisibility(a)?c.getDistanceFromCenterForValue(n.data[a]):0;d=i,o&&(f.animateScale&&(s=0),f.animateRotate&&(r=i=h));const t={x:l,y:m,innerRadius:0,outerRadius:s,startAngle:r,endAngle:i,options:this.resolveDataElementOptions(a,k.active?"active":b)};this.updateElement(k,a,t,b)}}countVisibleElements(){const b=this.getDataset(),c=this._cachedMeta;let a=0;return c.data.forEach((d,c)=>{!isNaN(b.data[c])&&this.chart.getDataVisibility(c)&&a++}),a}_computeAngle(a,b,c){return this.chart.getDataVisibility(a)?w(this.resolveDataElementOptions(a,b).angle||c):0}},aN.id="polarArea",aN.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},aN.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(a){const b=a.data;if(b.labels.length&&b.datasets.length){const{labels:{pointStyle:c}}=a.legend.options;return b.labels.map((e,b)=>{const f=a.getDatasetMeta(0),d=f.controller.getStyle(b);return{text:e,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,lineWidth:d.borderWidth,pointStyle:c,hidden:!a.getDataVisibility(b),index:b}})}return[]}},onClick(c,b,a){a.chart.toggleDataVisibility(b.index),a.chart.update()}},tooltip:{callbacks:{title(){return""},label(a){return a.chart.data.labels[a.dataIndex]+": "+a.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},bK=class extends Z{},bK.id="pie",bK.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},aI=class extends y{getLabelAndValue(b){const a=this._cachedMeta.vScale,c=this.getParsed(b);return{label:a.getLabels()[b],value:""+a.getLabelForValue(c[a.axis])}}update(a){const c=this._cachedMeta,d=c.dataset,b=c.data||[],e=c.iScale.getLabels();if(d.points=b,a!=="resize"){const c=this.resolveDatasetElementOptions(a);this.options.showLine||(c.borderWidth=0);const f={_loop:!0,_fullLoop:e.length===b.length,options:c};this.updateElement(d,void 0,f,a)}this.updateElements(b,0,b.length,a)}updateElements(g,d,e,a){const f=this.getDataset(),b=this._cachedMeta.rScale,c=a==="reset";for(let h=d;h<d+e;h++){const j=g[h],m=this.resolveDataElementOptions(h,j.active?"active":a),i=b.getPointPositionForValue(h,f.data[h]),k=c?b.xCenter:i.x,l=c?b.yCenter:i.y,n={x:k,y:l,angle:i.angle,skip:isNaN(k)||isNaN(l),options:m};this.updateElement(j,h,n,a)}}},aI.id="radar",aI.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},aI.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},aH=class extends ae{},aH.id="scatter",aH.defaults={showLine:!1,fill:!1},aH.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(a){return"("+a.label+", "+a.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}},ej=Object.freeze({__proto__:null,BarController:bb,BubbleController:ba,DoughnutController:Z,LineController:ae,PolarAreaController:aN,PieController:bK,RadarController:aI,ScatterController:aH});function O(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}b_=class{constructor(a){this.options=a||{}}formats(){return O()}parse(a,b){return O()}format(a,b){return O()}add(a,b,c){return O()}diff(a,b,c){return O()}startOf(a,b,c){return O()}endOf(a,b){return O()}},b_.override=function(a){Object.assign(b_.prototype,a)},ek={_date:b_};function ab(a,b){return"native"in a?{x:a.x,y:a.y}:cB(a,b)}function em(e,f){const c=e.getSortedVisibleDatasetMetas();let d,a,b;for(let e=0,g=c.length;e<g;++e){({index:d,data:a}=c[e]);for(let c=0,e=a.length;c<e;++c)b=a[c],b.skip||f(b,d,c)}}function en(f,b,c,g){const{controller:e,data:a,_sorted:h}=f,d=e._cachedMeta.iScale;if(d&&b===d.axis&&h&&a.length){const f=d._reversePixels?gW:F;if(!g)return f(a,b,c);if(e._sharedOptions){const e=a[0],d=typeof e.getRange=="function"&&e.getRange(b);if(d){const e=f(a,b,c-d),g=f(a,b,c+d);return{lo:e.lo,hi:g.hi}}}}return{lo:0,hi:a.length-1}}function eb(c,b,d,e,f){const a=c.getSortedVisibleDatasetMetas(),g=d[b];for(let c=0,d=a.length;c<d;++c){const{index:h,data:i}=a[c],{lo:j,hi:k}=en(a[c],b,g,f);for(let a=j;a<=k;++a){const b=i[a];b.skip||e(b,h,a)}}}function ep(a){const b=a.indexOf("x")!==-1,c=a.indexOf("y")!==-1;return function(a,d){const e=b?Math.abs(a.x-d.x):0,f=c?Math.abs(a.y-d.y):0;return Math.sqrt(Math.pow(e,2)+Math.pow(f,2))}}function bF(b,a,d,e){const c=[];if(!N(a,b.chartArea,b._minPadding))return c;const f=function(b,d,f){b.inRange(a.x,a.y,e)&&c.push({element:b,datasetIndex:d,index:f})};return eb(b,d,a,f,!0),c}function bl(b,a,f,g,d){const h=ep(f);let e=Number.POSITIVE_INFINITY,c=[];if(!N(a,b.chartArea,b._minPadding))return c;const i=function(f,j,k){if(g&&!f.inRange(a.x,a.y,d))return;const l=f.getCenterPoint(d);if(!N(l,b.chartArea,b._minPadding)&&!f.inRange(a.x,a.y,d))return;const i=h(a,l);i<e?(c=[{element:f,datasetIndex:j,index:k}],e=i):i===e&&c.push({element:f,datasetIndex:j,index:k})};return eb(b,f,a,i),c}function eh(b,h,c,d){const a=ab(h,b),e=[],f=c.axis,i=f==="x"?"inXRange":"inYRange";let g=!1;return em(b,(b,c,h)=>{b[i](a[f],d)&&e.push({element:b,datasetIndex:c,index:h}),b.inRange(a.x,a.y,d)&&(g=!0)}),c.intersect&&!g?[]:e}et={modes:{index(a,h,c,d){const e=ab(h,a),f=c.axis||"x",g=c.intersect?bF(a,e,f,d):bl(a,e,f,!1,d),b=[];return g.length?(a.getSortedVisibleDatasetMetas().forEach(c=>{const d=g[0].index,a=c.data[d];a&&!a.skip&&b.push({element:a,datasetIndex:c.index,index:d})}),b):[]},dataset(b,g,c,d){const e=ab(g,b),f=c.axis||"xy";let a=c.intersect?bF(b,e,f,d):bl(b,e,f,!1,d);if(a.length>0){const c=a[0].datasetIndex,d=b.getDatasetMeta(c).data;a=[];for(let b=0;b<d.length;++b)a.push({element:d[b],datasetIndex:c,index:b})}return a},point(a,b,c,d){const e=ab(b,a),f=c.axis||"xy";return bF(a,e,f,d)},nearest(a,c,b,d){const e=ab(c,a),f=b.axis||"xy";return bl(a,e,f,b.intersect,d)},x(a,b,c,d){return eh(a,b,{axis:"x",intersect:c.intersect},d)},y(a,b,c,d){return eh(a,b,{axis:"y",intersect:c.intersect},d)}}},dT=["left","top","right","bottom"];function ap(a,b){return a.filter(a=>a.pos===b)}function dR(a,b){return a.filter(a=>dT.indexOf(a.pos)===-1&&a.box.axis===b)}function af(b,a){return b.sort((d,e)=>{const b=a?e:d,c=a?d:e;return b.weight===c.weight?b.index-c.index:b.weight-c.weight})}function ey(g){const e=[];let a,f,b,d,c,h;for(a=0,f=(g||[]).length;a<f;++a)b=g[a],{position:d,options:{stack:c,stackWeight:h=1}}=b,e.push({index:a,box:b,pos:d,horizontal:b.isHorizontal(),weight:b.weight,stack:c&&d+c,stackWeight:h});return e}function ez(b){const a={};for(const e of b){const{stack:c,pos:f,stackWeight:g}=e;if(!c||!dT.includes(f))continue;const d=a[c]||(a[c]={count:0,placed:0,weight:0,size:0});d.count++,d.weight+=g}return a}function eA(c,d){const e=ez(c),{vBoxMaxWidth:f,hBoxMaxHeight:g}=d;let b,h,a;for(b=0,h=c.length;b<h;++b){a=c[b];const{fullSize:j}=a.box,k=e[a.stack],i=k&&a.stackWeight/k.weight;a.horizontal?(a.width=i?i*f:j&&d.availableWidth,a.height=g):(a.width=f,a.height=i?i*g:j&&d.availableHeight)}return e}function eB(h){const a=ey(h),i=af(a.filter(a=>a.box.fullSize),!0),d=af(ap(a,"left"),!0),e=af(ap(a,"right")),f=af(ap(a,"top"),!0),b=af(ap(a,"bottom")),g=dR(a,"x"),c=dR(a,"y");return{fullSize:i,leftAndTop:d.concat(f),rightAndBottom:e.concat(c).concat(b).concat(g),chartArea:ap(a,"chartArea"),vertical:d.concat(e).concat(c),horizontal:f.concat(b).concat(g)}}function dM(a,b,c,d){return Math.max(a[c],b[c])+Math.max(a[d],b[d])}function dL(a,b){a.top=Math.max(a.top,b.top),a.left=Math.max(a.left,b.left),a.bottom=Math.max(a.bottom,b.bottom),a.right=Math.max(a.right,b.right)}function eE(a,g,b,l){const{pos:e,box:d}=b,f=a.maxPadding;if(!c(e)){b.size&&(a[e]-=b.size);const c=l[b.stack]||{size:0,count:1};c.size=Math.max(c.size,b.horizontal?d.height:d.width),b.size=c.size/c.count,a[e]+=b.size}d.getPadding&&dL(f,d.getPadding());const i=Math.max(0,g.outerWidth-dM(f,a,"left","right")),j=Math.max(0,g.outerHeight-dM(f,a,"top","bottom")),h=i!==a.w,k=j!==a.h;return a.w=i,a.h=j,b.horizontal?{same:h,other:k}:{same:k,other:h}}function eF(a){const c=a.maxPadding;function b(b){const d=Math.max(c[b]-a[b],0);return a[b]+=d,d}a.y+=b("top"),a.x+=b("left"),b("right"),b("bottom")}function eG(c,a){const d=a.maxPadding;function b(c){const b={left:0,top:0,right:0,bottom:0};return c.forEach(c=>{b[c]=Math.max(a[c],d[c])}),b}return c?b(["left","right"]):b(["top","bottom"])}function ak(h,b,j,k){const f=[];let c,i,a,d,e,g;for(c=0,i=h.length,e=0;c<i;++c){a=h[c],d=a.box,d.update(a.width||b.w,a.height||b.h,eG(a.horizontal,b));const{same:l,other:m}=eE(b,j,a,k);e|=l&&f.length,g=g||m,d.fullSize||f.push(a)}return e&&ak(f,b,j,k)||g}function a$(a,b,c,d,e){a.top=c,a.left=b,a.right=b+d,a.bottom=c+e,a.width=d,a.height=e}function dH(g,a,e,f){const c=e.padding;let{x:d,y:b}=a;for(const j of g){const i=j.box,h=f[j.stack]||{count:1,placed:0,weight:1},k=j.stackWeight/h.weight||1;if(j.horizontal){const d=a.w*k,f=h.size||i.height;u(h.start)&&(b=h.start),i.fullSize?a$(i,c.left,b,e.outerWidth-c.right-c.left,f):a$(i,a.left+h.placed,b,d,f),h.start=b,h.placed+=d,b=i.bottom}else{const b=a.h*k,f=h.size||i.width;u(h.start)&&(d=h.start),i.fullSize?a$(i,d,c.top,f,e.outerHeight-c.bottom-c.top):a$(i,d,a.top+h.placed,f,b),h.start=d,h.placed+=b,d=i.right}}a.x=d,a.y=b}b.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}}),n={addBox(b,a){b.boxes||(b.boxes=[]),a.fullSize=a.fullSize||!1,a.position=a.position||"top",a.weight=a.weight||0,a._layers=a._layers||function(){return[{z:0,draw(b){a.draw(b)}}]},b.boxes.push(a)},removeBox(a,c){const b=a.boxes?a.boxes.indexOf(c):-1;b!==-1&&a.boxes.splice(b,1)},configure(c,a,b){a.fullSize=b.fullSize,a.position=b.position,a.weight=b.weight},update(f,k,m,q){if(!f)return;const b=p(f.options.layout.padding),i=Math.max(k-b.width,0),j=Math.max(m-b.height,0),d=eB(f.boxes),h=d.vertical,l=d.horizontal;e(f.boxes,a=>{typeof a.beforeLayout=="function"&&a.beforeLayout()});const o=h.reduce((a,b)=>b.box.options&&b.box.options.display===!1?a:a+1,0)||1,c=Object.freeze({outerWidth:k,outerHeight:m,padding:b,availableWidth:i,availableHeight:j,vBoxMaxWidth:i/2/o,hBoxMaxHeight:j/2}),n=Object.assign({},b);dL(n,p(q));const a=Object.assign({maxPadding:n,w:i,h:j,x:b.left,y:b.top},b),g=eA(h.concat(l),c);ak(d.fullSize,a,c,g),ak(h,a,c,g),ak(l,a,c,g)&&ak(h,a,c,g),eF(a),dH(d.leftAndTop,a,c,g),a.x+=a.w,a.y+=a.h,dH(d.rightAndBottom,a,c,g),f.chartArea={left:a.left,top:a.top,right:a.left+a.w,bottom:a.top+a.h,height:a.h,width:a.w},e(d.chartArea,c=>{const b=c.box;Object.assign(b,f.chartArea),b.update(a.w,a.h,{left:0,top:0,right:0,bottom:0})})}},dC=class{acquireContext(a,b){}releaseContext(a){return!1}addEventListener(a,b,c){}removeEventListener(a,b,c){}getDevicePixelRatio(){return 1}getMaximumSize(c,a,b,d){return a=Math.max(0,a||c.width),b=b||c.height,{width:a,height:Math.max(0,d?Math.floor(a/d):b)}}isAttached(a){return!0}updateConfig(a){}},eM=class extends dC{acquireContext(a){return a&&a.getContext&&a.getContext("2d")||null}updateConfig(a){a.options.animation=!1}},aB="$chartjs",eO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},dx=a=>a===null||a==="";function eQ(a,e){const b=a.style,c=a.getAttribute("height"),d=a.getAttribute("width");if(a[aB]={initial:{height:c,width:d,style:{display:b.display,height:b.height,width:b.width}}},b.display=b.display||"block",b.boxSizing=b.boxSizing||"border-box",dx(d)){const b=cH(a,"width");b!==void 0&&(a.width=b)}if(dx(c))if(a.style.height==="")a.height=a.width/(e||2);else{const b=cH(a,"height");b!==void 0&&(a.height=b)}return a}dw=!!fZ&&{passive:!0};function eS(a,b,c){a.addEventListener(b,c,dw)}function eT(a,b,c){a.canvas.removeEventListener(b,c,dw)}function eU(a,b){const e=eO[a.type]||a.type,{x:c,y:d}=cB(a,b);return{type:e,chart:b,native:a,x:c!==void 0?c:null,y:d!==void 0?d:null}}function aC(b,a){for(const c of b)if(c===a||c.contains(a))return!0}function eW(c,e,d){const a=c.canvas,b=new MutationObserver(c=>{let b=!1;for(const d of c)b=b||aC(d.addedNodes,a),b=b&&!aC(d.removedNodes,a);b&&d()});return b.observe(document,{childList:!0,subtree:!0}),b}function eX(c,e,d){const a=c.canvas,b=new MutationObserver(c=>{let b=!1;for(const d of c)b=b||aC(d.removedNodes,a),b=b&&!aC(d.addedNodes,a);b&&d()});return b.observe(document,{childList:!0,subtree:!0}),b}at=new Map,dq=0;function dn(){const a=window.devicePixelRatio;if(a===dq)return;dq=a,at.forEach((b,c)=>{c.currentDevicePixelRatio!==a&&b()})}function e$(a,b){at.size||window.addEventListener("resize",dn),at.set(a,b)}function fa(a){at.delete(a),at.size||window.removeEventListener("resize",dn)}function fb(b,g,c){const d=b.canvas,a=d&&by(d);if(!a)return;const e=ef((b,d)=>{const e=a.clientWidth;c(b,d),e<a.clientWidth&&c()},window),f=new ResizeObserver(d=>{const a=d[0],b=a.contentRect.width,c=a.contentRect.height;if(b===0&&c===0)return;e(b,c)});return f.observe(a),e$(b,e),f}function bU(b,c,a){a&&a.disconnect(),c==="resize"&&fa(b)}function fd(a,c,d){const e=a.canvas,b=ef(b=>{a.ctx!==null&&d(eU(b,a))},a,b=>{const a=b[0];return[a,a.offsetX,a.offsetY]});return eS(e,c,b),b}fe=class extends dC{acquireContext(a,c){const b=a&&a.getContext&&a.getContext("2d");return b&&b.canvas===a?(eQ(a,c),b):null}releaseContext(e){const a=e.canvas;if(!a[aB])return!1;const b=a[aB].initial;["height","width"].forEach(c=>{const e=b[c];d(e)?a.removeAttribute(c):a.setAttribute(c,e)});const c=b.style||{};return Object.keys(c).forEach(b=>{a.style[b]=c[b]}),a.width=a.width,delete a[aB],!0}addEventListener(a,b,c){this.removeEventListener(a,b);const d=a.$proxies||(a.$proxies={}),e={attach:eW,detach:eX,resize:fb},f=e[b]||fd;d[b]=f(a,b,c)}removeEventListener(b,a){const c=b.$proxies||(b.$proxies={}),d=c[a];if(!d)return;const e={attach:bU,detach:bU,resize:bU},f=e[a]||eT;f(b,a,d),c[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(a,b,c,d){return f_(a,b,c,d)}isAttached(b){const a=by(b);return!!(a&&a.isConnected)}};function ff(a){return!cs()||typeof OffscreenCanvas!="undefined"&&a instanceof OffscreenCanvas?eM:fe}x=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(a){const{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}hasValue(){return U(this.x)&&U(this.y)}getProps(c,d){const a=this.$animations;if(!d||!a)return this;const b={};return c.forEach(c=>{b[c]=a[c]&&a[c].active()?a[c]._to:this[c]}),b}},x.defaults={},x.defaultRoutes=void 0,dj={values(a){return h(a)?a:""+a},numeric(b,i,a){if(b===0)return"0";const g=this.chart.options.locale;let d,e=b;if(a.length>1){const c=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(c<1e-4||c>1e15)&&(d="scientific"),e=fi(b,a)}const h=r(Math.abs(e)),c=Math.max(Math.min(-1*Math.floor(h),20),0),f={notation:d,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(f,this.options.ticks.format),aw(b,g,f)},logarithmic(a,c,d){if(a===0)return"0";const b=a/Math.pow(10,Math.floor(r(a)));return b===1||b===2||b===5?dj.numeric.call(this,a,c,d):""}};function fi(b,a){let c=a.length>3?a[2].value-a[1].value:a[1].value-a[0].value;return Math.abs(c)>=1&&b!==Math.floor(b)&&(c=b-Math.floor(b)),c}bk={formatters:dj},b.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(b,a)=>a.lineWidth,tickColor:(b,a)=>a.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),b.route("scale.ticks","color","","color"),b.route("scale.grid","color","","borderColor"),b.route("scale.grid","borderColor","","borderColor"),b.route("scale.title","color","","color"),b.describe("scale",{_fallback:!1,_scriptable:a=>!a.startsWith("before")&&!a.startsWith("after")&&a!=="callback"&&a!=="parser",_indexable:a=>a!=="borderDash"&&a!=="tickBorderDash"}),b.describe("scales",{_fallback:"scale"}),b.describe("scale.ticks",{_scriptable:a=>a!=="backdropPadding"&&a!=="callback",_indexable:a=>a!=="backdropPadding"});function fk(j,a){const k=j.options.ticks,i=k.maxTicksLimit||fl(j),c=k.major.enabled?fn(a):[],e=c.length,g=c[0],h=c[e-1],b=[];if(e>i)return fo(a,b,c,e/i),b;const f=fm(c,a,i);if(e>0){let i,k;const j=e>1?Math.round((h-g)/(e-1)):null;aK(a,b,f,d(j)?0:g-j,g);for(i=0,k=e-1;i<k;i++)aK(a,b,f,c[i],c[i+1]);return aK(a,b,f,h,d(j)?a.length:h+j),b}return aK(a,b,f),b}function fl(a){const c=a.options.offset,b=a._tickSize(),d=a._length/b+(c?0:1),e=a._maxLength/b;return Math.floor(Math.min(d,e))}function fm(d,e,f){const b=fq(d),a=e.length/f;if(!b)return Math.max(a,1);const c=iC(b);for(let b=0,e=c.length-1;b<e;b++){const d=c[b];if(d>a)return d}return Math.max(a,1)}function fn(b){const c=[];let a,d;for(a=0,d=b.length;a<d;a++)b[a].major&&c.push(a);return c}function fo(f,g,c,b){let d=0,e=c[0],a;b=Math.ceil(b);for(a=0;a<f.length;a++)a===e&&(g.push(f[a]),d++,e=c[d*b])}function aK(g,l,b,j,i){const f=a(j,0),k=Math.min(a(i,g.length),g.length);let e=0,h,c,d;for(b=Math.ceil(b),i&&(h=i-j,b=h/Math.floor(h/b)),d=f;d<0;)e++,d=Math.round(f+e*b);for(c=Math.max(f,0);c<k;c++)c===d&&(l.push(g[c]),e++,d=Math.round(f+e*b))}function fq(b){const d=b.length;let a,c;if(d<2)return!1;for(c=b[0],a=1;a<d;++a)if(b[a]-b[a-1]!==c)return!1;return c}fr=a=>a==="left"?"right":a==="right"?"left":a,dh=(b,a,c)=>a==="top"||a==="left"?b[a]+c:b[a]-c;function dg(a,d){const c=[],e=a.length/d,f=a.length;let b=0;for(;b<f;b+=e)c.push(a[Math.floor(b)]);return c}function fu(b,d,j){const i=b.ticks.length,e=Math.min(d,i-1),f=b._startPixel,g=b._endPixel,h=1e-6;let a=b.getPixelForTick(e),c;if(j)if(i===1?c=Math.max(a-f,g-a):d===0?c=(b.getPixelForTick(1)-a)/2:c=(a-b.getPixelForTick(e-1))/2,a+=e<d?c:-c,a<f-h||a>g+h)return;return a}function fv(a,b){e(a,e=>{const c=e.gc,d=c.length/2;let a;if(d>b){for(a=0;a<d;++a)delete e.data[c[a]];c.splice(0,d)}})}function ah(a){return a.drawTicks?a.tickLength:0}function dc(a,b){if(!a.display)return 0;const c=l(a.font,b),d=p(a.padding),e=h(a.text)?a.text.length:1;return e*c.lineHeight+d.height}function fy(a,b){return L(a,{scale:b,type:"scale"})}function fz(a,b,c){return L(a,{tick:c,index:b,type:"tick"})}function fA(d,b,c){let a=bE(d);return(c&&b!=="right"||!c&&b==="right")&&(a=fr(a)),a}function fB(f,b,a,r){const{top:q,left:h,bottom:l,right:i,chart:t}=f,{chartArea:g,scales:m}=t;let n=0,p,e,d;const s=l-q,k=i-h;if(f.isHorizontal()){if(e=o(r,h,i),c(a)){const c=Object.keys(a)[0],e=a[c];d=m[c].getPixelForValue(e)+s-b}else a==="center"?d=(g.bottom+g.top)/2+s-b:d=dh(f,a,b);p=i-h}else{if(c(a)){const c=Object.keys(a)[0],d=a[c];e=m[c].getPixelForValue(d)-k+b}else a==="center"?e=(g.left+g.right)/2-k+b:e=dh(f,a,b);d=o(r,l,q),n=a==="left"?-j:j}return{titleX:e,titleY:d,maxWidth:p,rotation:n}}_=class extends x{constructor(a){super(),this.id=a.id,this.type=a.type,this.options=void 0,this.ctx=a.ctx,this.chart=a.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(a){this.options=a.setContext(this.getContext()),this.axis=a.axis,this._userMin=this.parse(a.min),this._userMax=this.parse(a.max),this._suggestedMin=this.parse(a.suggestedMin),this._suggestedMax=this.parse(a.suggestedMax)}parse(a,b){return a}getUserBounds(){let{_userMin:a,_userMax:b,_suggestedMin:c,_suggestedMax:d}=this;return a=t(a,Number.POSITIVE_INFINITY),b=t(b,Number.NEGATIVE_INFINITY),c=t(c,Number.POSITIVE_INFINITY),d=t(d,Number.NEGATIVE_INFINITY),{min:t(a,c),max:t(b,d),minDefined:k(a),maxDefined:k(b)}}getMinMax(g){let{min:a,max:b,minDefined:c,maxDefined:d}=this.getUserBounds(),e;if(c&&d)return{min:a,max:b};const f=this.getMatchingVisibleMetas();for(let h=0,i=f.length;h<i;++h)e=f[h].controller.getMinMax(this,g),c||(a=Math.min(a,e.min)),d||(b=Math.max(b,e.max));return a=d&&a>b?b:a,b=c&&a>b?a:b,{min:t(a,t(b,a)),max:t(b,t(a,b))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const a=this.chart.data;return this.options.labels||(this.isHorizontal()?a.xLabels:a.yLabels)||a.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){g(this.options.beforeUpdate,[this])}update(g,h,a){const{beginAtZero:e,grace:f,ticks:b}=this.options,c=b.sampleSize;this.beforeUpdate(),this.maxWidth=g,this.maxHeight=h,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gX(this,f,e),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?dg(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),b.display&&(b.autoSkip||b.source==="auto")&&(this.ticks=fk(this,this.ticks),this._labelSizes=null),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c=this.options.reverse,a,b;this.isHorizontal()?(a=this.left,b=this.right):(a=this.top,b=this.bottom,c=!c),this._startPixel=a,this._endPixel=b,this._reversePixels=c,this._length=b-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){g(this.options.afterUpdate,[this])}beforeSetDimensions(){g(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){g(this.options.afterSetDimensions,[this])}_callHooks(a){this.chart.notifyPlugins(a,this.getContext()),g(this.options[a],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){g(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(b){const e=this.options.ticks;let a,d,c;for(a=0,d=b.length;a<d;a++)c=b[a],c.label=g(e.callback,[c.value,a,b],this)}afterTickToLabelConversion(){g(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){g(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const a=this.options,b=a.ticks,c=this.ticks.length,d=b.minRotation||0,l=b.maxRotation;let f=d,g,k,h;if(!this._isVisible()||!b.display||d>=l||c<=1||!this.isHorizontal()){this.labelRotation=d;return}const i=this._getLabelSizes(),e=i.widest.width,j=i.highest.height,n=m(this.chart.width-e,0,this.maxWidth);g=a.offset?this.maxWidth/c:n/(c-1),e+6>g&&(g=n/(c-(a.offset?.5:1)),k=this.maxHeight-ah(a.grid)-b.padding-dc(a.title,this.chart.options.font),h=Math.sqrt(e*e+j*j),f=bt(Math.min(Math.asin(m((i.highest.height+6)/g,-1,1)),Math.asin(m(k/h,-1,1))-Math.asin(m(j/h,-1,1)))),f=Math.max(d,Math.min(l,f))),this.labelRotation=f}afterCalculateLabelRotation(){g(this.options.afterCalculateLabelRotation,[this])}beforeFit(){g(this.options.beforeFit,[this])}fit(){const a={width:0,height:0},{chart:c,options:{ticks:b,title:f,grid:e}}=this,g=this._isVisible(),d=this.isHorizontal();if(g){const g=dc(f,c.options.font);if(d?(a.width=this.maxWidth,a.height=ah(e)+g):(a.height=this.maxHeight,a.width=ah(e)+g),b.display&&this.ticks.length){const{first:j,last:k,widest:f,highest:g}=this._getLabelSizes(),h=b.padding*2,i=w(this.labelRotation),c=Math.cos(i),e=Math.sin(i);if(d){const d=b.mirror?0:e*f.width+c*g.height;a.height=Math.min(this.maxHeight,a.height+d+h)}else{const d=b.mirror?0:c*f.width+e*g.height;a.width=Math.min(this.maxWidth,a.width+d+h)}this._calculatePadding(j,k,e,c)}}this._handleMargins(),d?(this.width=this._length=c.width-this._margins.left-this._margins.right,this.height=a.height):(this.width=a.width,this.height=this._length=c.height-this._margins.top-this._margins.bottom)}_calculatePadding(a,b,e,f){const{ticks:{align:c,padding:d},position:g}=this.options,h=this.labelRotation!==0,i=g!=="top"&&this.axis==="x";if(this.isHorizontal()){const k=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,j=0;h?i?(g=f*a.width,j=e*b.height):(g=e*a.height,j=f*b.width):c==="start"?j=b.width:c==="end"?g=a.width:(g=a.width/2,j=b.width/2),this.paddingLeft=Math.max((g-k+d)*this.width/(this.width-k),0),this.paddingRight=Math.max((j-l+d)*this.width/(this.width-l),0)}else{let e=b.height/2,f=a.height/2;c==="start"?(e=0,f=a.height):c==="end"&&(e=b.height,f=0),this.paddingTop=e+d,this.paddingBottom=f+d}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){g(this.options.afterFit,[this])}isHorizontal(){const{axis:b,position:a}=this.options;return a==="top"||a==="bottom"||b==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(b){this.beforeTickToLabelConversion(),this.generateTickLabels(b);let a,c;for(a=0,c=b.length;a<c;a++)d(b[a].label)&&(b.splice(a,1),c--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let a=this._labelSizes;if(!a){const c=this.options.ticks.sampleSize;let b=this.ticks;c<b.length&&(b=dg(b,c)),this._labelSizes=a=this._computeLabelSizes(b,b.length)}return a}_computeLabelSizes(x,t){const{ctx:s,_longestTextCache:m}=this,g=[],i=[];let q=0,n=0,f,j,u,a,o,p,c,r,b,e,k;for(f=0;f<t;++f){if(a=x[f].label,o=this._resolveTickFontOptions(f),s.font=p=o.string,c=m[p]=m[p]||{data:{},gc:[]},r=o.lineHeight,b=e=0,!d(a)&&!h(a))b=bj(s,c.data,c.gc,b,a),e=r;else if(h(a))for(j=0,u=a.length;j<u;++j)k=a[j],!d(k)&&!h(k)&&(b=bj(s,c.data,c.gc,b,k),e+=r);g.push(b),i.push(e),q=Math.max(b,q),n=Math.max(e,n)}fv(m,t);const v=g.indexOf(q),w=i.indexOf(n),l=a=>({width:g[a]||0,height:i[a]||0});return{first:l(0),last:l(t-1),widest:l(v),highest:l(w),widths:g,heights:i}}getLabelForValue(a){return a}getPixelForValue(a,b){return NaN}getValueForPixel(a){}getPixelForTick(a){const b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getPixelForDecimal(a){this._reversePixels&&(a=1-a);const b=this._startPixel+a*this._length;return iq(this._alignToPixels?R(this.chart,b,0):b)}getDecimalForPixel(b){const a=(b-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:a,max:b}=this;return a<0&&b<0?b:a>0&&b>0?a:0}getContext(a){const b=this.ticks||[];if(a>=0&&a<b.length){const c=b[a];return c.$context||(c.$context=fz(this.getContext(),a,c))}return this.$context||(this.$context=fy(this.chart.getContext(),this))}_tickSize(){const h=this.options.ticks,g=w(this.labelRotation),c=Math.abs(Math.cos(g)),d=Math.abs(Math.sin(g)),e=this._getLabelSizes(),f=h.autoSkipPadding||0,a=e?e.widest.width+f:0,b=e?e.highest.height+f:0;return this.isHorizontal()?b*c>a*d?a/c:b/d:b*d<a*c?b/c:a/d}_isVisible(){const a=this.options.display;return a!=="auto"?!!a:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(b){const v=this.axis,z=this.chart,A=this.options,{grid:r,position:e}=A,B=r.offset,C=this.isHorizontal(),D=this.ticks,s=D.length+(B?1:0),h=ah(r),y=[],x=r.setContext(this.getContext()),w=x.drawBorder?x.borderWidth:0,g=w/2,f=function(a){return R(z,a,w)};let d,m,u,t,j,i,n,l,q,p,o,k;if(e==="top")d=f(this.bottom),i=this.bottom-h,l=d-g,p=f(b.top)+g,k=b.bottom;else if(e==="bottom")d=f(this.top),p=b.top,k=f(b.bottom)-g,i=d+g,l=this.top+h;else if(e==="left")d=f(this.right),j=this.right-h,n=d-g,q=f(b.left)+g,o=b.right;else if(e==="right")d=f(this.left),q=b.left,o=f(b.right)-g,j=d+g,n=this.left+h;else if(v==="x"){if(e==="center")d=f((b.top+b.bottom)/2+.5);else if(c(e)){const a=Object.keys(e)[0],b=e[a];d=f(this.chart.scales[a].getPixelForValue(b))}p=b.top,k=b.bottom,i=d+g,l=i+h}else if(v==="y"){if(e==="center")d=f((b.left+b.right)/2);else if(c(e)){const a=Object.keys(e)[0],b=e[a];d=f(this.chart.scales[a].getPixelForValue(b))}j=d-g,n=j-h,q=b.left,o=b.right}const E=a(A.ticks.maxTicksLimit,s),F=Math.max(1,Math.ceil(s/E));for(m=0;m<s;m+=F){const a=r.setContext(this.getContext(m)),b=a.lineWidth,c=a.color,d=r.borderDash||[],e=a.borderDashOffset,f=a.tickWidth,g=a.tickColor,h=a.tickBorderDash||[],v=a.tickBorderDashOffset;if(u=fu(this,m,B),u===void 0)continue;t=R(z,u,b),C?j=n=q=o=t:i=l=p=k=t,y.push({tx1:j,ty1:i,tx2:n,ty2:l,x1:q,y1:p,x2:o,y2:k,width:b,color:c,borderDash:d,borderDashOffset:e,tickWidth:f,tickColor:g,tickBorderDash:h,tickBorderDashOffset:v})}return this._ticksLength=s,this._borderValue=d,y}_computeLabelItems(r){const u=this.axis,F=this.options,{position:a,ticks:t}=F,H=this.isHorizontal(),y=this.ticks,{align:z,crossAlign:l,padding:A,mirror:B}=t,o=ah(F.grid),q=o+A,E=B?-A:q,s=-w(this.labelRotation),G=[];let e,D,C,n,g,i,f,x,v,d,k,b,m="middle";if(a==="top")i=this.bottom-E,f=this._getXAxisLabelAlignment();else if(a==="bottom")i=this.top+E,f=this._getXAxisLabelAlignment();else if(a==="left"){const a=this._getYAxisLabelAlignment(o);f=a.textAlign,g=a.x}else if(a==="right"){const a=this._getYAxisLabelAlignment(o);f=a.textAlign,g=a.x}else if(u==="x"){if(a==="center")i=(r.top+r.bottom)/2+q;else if(c(a)){const b=Object.keys(a)[0],c=a[b];i=this.chart.scales[b].getPixelForValue(c)+q}f=this._getXAxisLabelAlignment()}else if(u==="y"){if(a==="center")g=(r.left+r.right)/2-q;else if(c(a)){const b=Object.keys(a)[0],c=a[b];g=this.chart.scales[b].getPixelForValue(c)}f=this._getYAxisLabelAlignment(o).textAlign}u==="y"&&(z==="start"?m="top":z==="end"&&(m="bottom"));const j=this._getLabelSizes();for(e=0,D=y.length;e<D;++e){C=y[e],n=C.label;const c=t.setContext(this.getContext(e));x=this.getPixelForTick(e)+t.labelOffset,v=this._resolveTickFontOptions(e),d=v.lineHeight,k=h(n)?n.length:1;const o=k/2,r=c.color,u=c.textStrokeColor,w=c.textStrokeWidth;H?(g=x,a==="top"?l==="near"||s!==0?b=-k*d+d/2:l==="center"?b=-j.highest.height/2-o*d+d:b=-j.highest.height+d/2:l==="near"||s!==0?b=d/2:l==="center"?b=j.highest.height/2-o*d:b=j.highest.height-k*d,B&&(b*=-1)):(i=x,b=(1-k)*d/2);let q;if(c.showLabelBackdrop){const a=p(c.backdropPadding),d=j.heights[e],h=j.widths[e];let k=i+b-a.top,l=g-a.left;switch(m){case"middle":k-=d/2;break;case"bottom":k-=d;break}switch(f){case"center":l-=h/2;break;case"right":l-=h;break}q={left:l,top:k,width:h+a.width,height:d+a.height,color:c.backdropColor}}G.push({rotation:s,label:n,font:v,color:r,strokeColor:u,strokeWidth:w,textOffset:b,textAlign:f,textBaseline:m,translation:[g,i],backdrop:q})}return G}_getXAxisLabelAlignment(){const{position:c,ticks:b}=this.options,d=-w(this.labelRotation);if(d)return c==="top"?"left":"right";let a="center";return b.align==="start"?a="left":b.align==="end"&&(a="right"),a}_getYAxisLabelAlignment(j){const{position:g,ticks:{crossAlign:c,mirror:h,padding:e}}=this.options,i=this._getLabelSizes(),f=j+e,d=i.widest.width;let a,b;return g==="left"?h?(b=this.right+e,c==="near"?a="left":c==="center"?(a="center",b+=d/2):(a="right",b+=d)):(b=this.right-f,c==="near"?a="right":c==="center"?(a="center",b-=d/2):(a="left",b=this.left)):g==="right"?h?(b=this.left+e,c==="near"?a="right":c==="center"?(a="center",b-=d/2):(a="left",b-=d)):(b=this.left+f,c==="near"?a="left":c==="center"?(a="center",b+=d/2):(a="right",b=this.right)):a="right",{textAlign:a,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const b=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:b.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:b.width}}drawBackground(){const{ctx:a,options:{backgroundColor:b},left:c,top:d,width:e,height:f}=this;b&&(a.save(),a.fillStyle=b,a.fillRect(c,d,e,f),a.restore())}getLineWidthForValue(c){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const d=this.ticks,b=d.findIndex(a=>a.value===c);if(b>=0){const c=a.setContext(this.getContext(b));return c.lineWidth}return 0}drawGrid(g){const c=this.options.grid,a=this.ctx,e=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(g));let b,f;const d=(c,d,b)=>{if(!b.width||!b.color)return;a.save(),a.lineWidth=b.width,a.strokeStyle=b.color,a.setLineDash(b.borderDash||[]),a.lineDashOffset=b.borderDashOffset,a.beginPath(),a.moveTo(c.x,c.y),a.lineTo(d.x,d.y),a.stroke(),a.restore()};if(c.display)for(b=0,f=e.length;b<f;++b){const a=e[b];c.drawOnChartArea&&d({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),c.drawTicks&&d({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:c,ctx:a,options:{grid:e}}=this,f=e.setContext(this.getContext()),b=e.drawBorder?f.borderWidth:0;if(!b)return;const d=e.setContext(this.getContext(0)).lineWidth,k=this._borderValue;let g,h,i,j;this.isHorizontal()?(g=R(c,this.left,b)-b/2,h=R(c,this.right,d)+d/2,i=j=k):(i=R(c,this.top,b)-b/2,j=R(c,this.bottom,d)+d/2,g=h=k),a.save(),a.lineWidth=f.borderWidth,a.strokeStyle=f.borderColor,a.beginPath(),a.moveTo(g,i),a.lineTo(h,j),a.stroke(),a.restore()}drawLabels(g){const f=this.options.ticks;if(!f.display)return;const a=this.ctx,c=this._computeLabelArea();c&&be(a,c);const e=this._labelItems||(this._labelItems=this._computeLabelItems(g));let b,d;for(b=0,d=e.length;b<d;++b){const c=e[b],f=c.font,g=c.label;c.backdrop&&(a.fillStyle=c.backdrop.color,a.fillRect(c.backdrop.left,c.backdrop.top,c.backdrop.width,c.backdrop.height));let h=c.textOffset;M(a,g,0,h,f,c)}c&&bd(a)}drawTitle(){const{ctx:j,options:{position:b,title:a,reverse:i}}=this;if(!a.display)return;const e=l(a.font),g=p(a.padding),f=a.align;let d=e.lineHeight/2;b==="bottom"||b==="center"||c(b)?(d+=g.bottom,h(a.text)&&(d+=e.lineHeight*(a.text.length-1))):d+=g.top;const{titleX:k,titleY:m,maxWidth:n,rotation:o}=fB(this,d,b,f);M(j,a.text,0,0,e,{color:a.color,maxWidth:n,rotation:o,textAlign:fA(f,b,i),textBaseline:"middle",translation:[k,m]})}draw(a){if(!this._isVisible())return;this.drawBackground(),this.drawGrid(a),this.drawBorder(),this.drawTitle(),this.drawLabels(a)}_layers(){const b=this.options,c=b.ticks&&b.ticks.z||0,d=a(b.grid&&b.grid.z,-1);return!this._isVisible()||this.draw!==_.prototype.draw?[{z:c,draw:a=>{this.draw(a)}}]:[{z:d,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:d+1,draw:()=>{this.drawBorder()}},{z:c,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(b){const c=this.chart.getSortedVisibleDatasetMetas(),f=this.axis+"AxisID",d=[];let a,e;for(a=0,e=c.length;a<e;++a){const g=c[a];g[f]===this.id&&(!b||g.type===b)&&d.push(g)}return d}_resolveTickFontOptions(a){const b=this.options.ticks.setContext(this.getContext(a));return l(b.font)}_maxDigits(){const a=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/a}},aU=class{constructor(a,b,c){this.type=a,this.scope=b,this.override=c,this.items=Object.create(null)}isForType(a){return Object.prototype.isPrototypeOf.call(this.type.prototype,a.prototype)}register(a){const e=Object.getPrototypeOf(a);let f;fG(e)&&(f=this.register(e));const g=this.items,c=a.id,d=this.scope+"."+c;if(!c)throw new Error("class does not have id: "+a);return c in g?d:(g[c]=a,fE(a,d,f),this.override&&b.override(a.id,a.overrides),d)}get(a){return this.items[a]}unregister(e){const d=this.items,a=e.id,c=this.scope;a in d&&delete d[a],c&&a in b[c]&&(delete b[c][a],this.override&&delete T[a])}};function fE(a,c,d){const e=ao(Object.create(null),[d?b.get(d):{},b.get(c),a.defaults]);b.set(c,e),a.defaultRoutes&&fF(c,a.defaultRoutes),a.descriptors&&b.describe(c,a.descriptors)}function fF(c,a){Object.keys(a).forEach(d=>{const e=d.split("."),g=e.pop(),h=[c].concat(e).join("."),f=a[d].split("."),i=f.pop(),j=f.join(".");b.route(h,g,j,i)})}function fG(a){return"id"in a&&"defaults"in a}fH=class{constructor(){this.controllers=new aU(y,"datasets",!0),this.elements=new aU(x,"elements"),this.plugins=new aU(Object,"plugins"),this.scales=new aU(_,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...a){this._each("register",a)}remove(...a){this._each("unregister",a)}addControllers(...a){this._each("register",a,this.controllers)}addElements(...a){this._each("register",a,this.elements)}addPlugins(...a){this._each("register",a,this.plugins)}addScales(...a){this._each("register",a,this.scales)}getController(a){return this._get(a,this.controllers,"controller")}getElement(a){return this._get(a,this.elements,"element")}getPlugin(a){return this._get(a,this.plugins,"plugin")}getScale(a){return this._get(a,this.scales,"scale")}removeControllers(...a){this._each("unregister",a,this.controllers)}removeElements(...a){this._each("unregister",a,this.elements)}removePlugins(...a){this._each("unregister",a,this.plugins)}removeScales(...a){this._each("unregister",a,this.scales)}_each(b,c,a){[...c].forEach(c=>{const d=a||this._getRegistryForType(c);a||d.isForType(c)||d===this.plugins&&c.id?this._exec(b,d,c):e(c,c=>{const d=a||this._getRegistryForType(c);this._exec(b,d,c)})})}_exec(b,d,a){const c=bD(b);g(a["before"+c],[],a),d[b](a),g(a["after"+c],[],a)}_getRegistryForType(a){for(let b=0;b<this._typedRegistries.length;b++){const c=this._typedRegistries[b];if(c.isForType(a))return c}return this.plugins}_get(a,c,d){const b=c.get(a);if(b===void 0)throw new Error('"'+a+'" is not a registered '+d+".");return b}},G=new fH,fJ=class{constructor(){this._init=[]}notify(a,b,e,c){b==="beforeInit"&&(this._init=this._createDescriptors(a,!0),this._notify(this._init,a,"install"));const d=c?this._descriptors(a).filter(c):this._descriptors(a),f=this._notify(d,a,b,e);return b==="destroy"&&(this._notify(d,a,"stop"),this._notify(this._init,a,"uninstall")),f}_notify(b,c,d,a){a=a||{};for(const e of b){const f=e.plugin,h=f[d],i=[c,a,e.options];if(g(h,i,f)===!1&&a.cancelable)return!1}return!0}invalidate(){d(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(a){if(this._cache)return this._cache;const b=this._cache=this._createDescriptors(a);return this._notifyStateChanges(a),b}_createDescriptors(b,d){const c=b&&b.config,e=a(c.options&&c.options.plugins,{}),f=fK(c);return e===!1&&!d?[]:fM(b,f,e,d)}_notifyStateChanges(a){const b=this._oldCache||[],c=this._cache,d=(a,b)=>a.filter(a=>!b.some(b=>a.plugin.id===b.plugin.id));this._notify(d(b,c),a,"stop"),this._notify(d(c,b),a,"start")}};function fK(d){const a=[],b=Object.keys(G.plugins.items);for(let c=0;c<b.length;c++)a.push(G.getPlugin(b[c]));const c=d.plugins||[];for(let b=0;b<c.length;b++){const d=c[b];a.indexOf(d)===-1&&a.push(d)}return a}function fL(a,b){return!b&&a===!1?null:a===!0?{}:a}function fM(a,b,d,e){const c=[],f=a.getContext();for(let g=0;g<b.length;g++){const h=b[g],j=h.id,i=fL(d[j],e);if(i===null)continue;c.push({plugin:h,options:fN(a.config,h,i,f)})}return c}function fN(a,b,c,d){const e=a.pluginScopeKeys(b),f=a.getOptionScopes(c,e);return a.createResolver(f,d,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bz(a,c){const d=b.datasets[a]||{},e=(c.datasets||{})[a]||{};return e.indexAxis||c.indexAxis||d.indexAxis||"x"}function fP(a,c){let b=a;return a==="_index_"?b=c:a==="_value_"&&(b=c==="x"?"y":"x"),b}function fQ(a,b){return a===b?"_index_":"_value_"}function fR(a){if(a==="top"||a==="bottom")return"x";if(a==="left"||a==="right")return"y"}function bx(a,b){return a==="x"||a==="y"?a:b.axis||fR(b.position)||a.charAt(0).toLowerCase()}function fT(d,e){const h=T[d.type]||{scales:{}},f=e.scales||{},i=bz(d.type,e),g=Object.create(null),a=Object.create(null);return Object.keys(f).forEach(b=>{const e=f[b];if(!c(e))return console.error(`Invalid scale configuration for scale: ${b}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${b}`);const d=bx(b,e),k=fQ(d,i),j=h.scales||{};g[d]=g[d]||b,a[b]=aq(Object.create(null),[{axis:d},e,j[d],j[k]])}),d.data.datasets.forEach(b=>{const c=b.type||d.type,i=b.indexAxis||bz(c,e),j=T[c]||{},h=j.scales||{};Object.keys(h).forEach(e=>{const c=fP(e,i),d=b[c+"AxisID"]||g[c]||c;a[d]=a[d]||Object.create(null),aq(a[d],[{axis:c},f[d],h[e]])})}),Object.keys(a).forEach(d=>{const c=a[d];aq(c,[b.scales[c.type],b.scale])}),a}function cP(c){const b=c.options||(c.options={});b.plugins=a(b.plugins,{}),b.scales=fT(c,b)}function cO(a){return a=a||{},a.datasets=a.datasets||[],a.labels=a.labels||[],a}function fW(a){return a=a||{},a.data=cO(a.data),cP(a),a}cK=new Map,cJ=new Set;function ay(b,c){let a=cK.get(b);return a||(a=c(),cK.set(b,a),cJ.add(a)),a}ax=(b,c,d)=>{const a=S(c,d);a!==void 0&&b.add(a)},f$=class{constructor(a){this._config=fW(a),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(a){this._config.type=a}get data(){return this._config.data}set data(a){this._config.data=cO(a)}get options(){return this._config.options}set options(a){this._config.options=a}get plugins(){return this._config.plugins}update(){const a=this._config;this.clearCache(),cP(a)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(a){return ay(a,()=>[[`datasets.${a}`,""]])}datasetAnimationScopeKeys(a,b){return ay(`${a}.transition.${b}`,()=>[[`datasets.${a}.transitions.${b}`,`transitions.${b}`],[`datasets.${a}`,""]])}datasetElementScopeKeys(a,b){return ay(`${a}-${b}`,()=>[[`datasets.${a}.elements.${b}`,`datasets.${a}`,`elements.${b}`,""]])}pluginScopeKeys(a){const b=a.id,c=this.type;return ay(`${c}-plugin-${b}`,()=>[[`plugins.${b}`,...a.additionalOptionScopes||[]]])}_cachedScopes(b,d){const c=this._scopeCache;let a=c.get(b);return(!a||d)&&(a=new Map,c.set(b,a)),a}getOptionScopes(c,e,j){const{options:h,type:i}=this,f=this._cachedScopes(c,j),g=f.get(e);if(g)return g;const a=new Set;e.forEach(d=>{c&&(a.add(c),d.forEach(b=>ax(a,c,b))),d.forEach(b=>ax(a,h,b)),d.forEach(b=>ax(a,T[i]||{},b)),d.forEach(c=>ax(a,b,c)),d.forEach(b=>ax(a,bq,b))});const d=Array.from(a);return d.length===0&&d.push(Object.create(null)),cJ.has(e)&&f.set(e,d),d}chartOptionScopes(){const{options:c,type:a}=this;return[c,T[a]||{},b.datasets[a]||{},{type:a},b,bq]}resolveNamedOptions(d,e,a,g=[""]){const b={$shared:!0},{resolver:c,subPrefixes:h}=cC(this._resolverCache,d,g);let f=c;if(gc(c,e)){b.$shared=!1,a=I(a)?a():a;const e=this.createResolver(d,a,h);f=W(c,a,e)}for(const a of e)b[a]=f[a];return b}createResolver(d,a,e=[""],f){const{resolver:b}=cC(this._resolverCache,d,e);return c(a)?W(b,a,void 0,f):b}};function cC(e,c,d){let a=e.get(c);a||(a=new Map,e.set(c,a));const f=d.join();let b=a.get(f);if(!b){const e=bR(c,d);b={resolver:e,subPrefixes:d.filter(a=>!a.toLowerCase().includes("hover"))},a.set(f,b)}return b}gb=a=>c(a)&&Object.getOwnPropertyNames(a).reduce((b,c)=>b||I(a[c]),!1);function gc(a,b){const{isScriptable:c,isIndexable:d}=ch(a);for(const e of b){const g=c(e),i=d(e),f=(i||g)&&a[e];if(g&&(I(f)||gb(f))||i&&h(f))return!0}return!1}gd="3.6.2",ge=["top","bottom","left","right","chartArea"];function cA(a,b){return a==="top"||a==="bottom"||ge.indexOf(a)===-1&&b==="x"}function cz(a,b){return function(c,d){return c[a]===d[a]?c[b]-d[b]:c[a]-d[a]}}function cx(b){const a=b.chart,c=a.options.animation;a.notifyPlugins("afterRender"),g(c&&c.onComplete,[b],a)}function gi(a){const b=a.chart,c=b.options.animation;g(c&&c.onProgress,[a],b)}function cw(a){return cs()&&typeof a=="string"?a=document.getElementById(a):a&&a.length&&(a=a[0]),a&&a.canvas&&(a=a.canvas),a}aX={},cq=a=>{const b=cw(a);return Object.values(aX).filter(a=>a.canvas===b).pop()};function gm(a,b,c){const d=Object.keys(a);for(const e of d){const f=+e;if(f>=b){const d=a[e];delete a[e],(c>0||f>b)&&(a[f+c]=d)}}}aS=class{constructor(g,h){const c=this.config=new f$(h),d=cw(g),f=cq(d);if(f)throw new Error("Canvas is already in use. Chart with ID '"+f.id+"' must be destroyed before the canvas can be reused.");const e=c.createResolver(c.chartOptionScopes(),this.getContext());this.platform=new(c.platform||ff(d)),this.platform.updateConfig(c);const b=this.platform.acquireContext(d,e.aspectRatio),a=b&&b.canvas,i=a&&a.height,j=a&&a.width;if(this.id=iP(),this.ctx=b,this.canvas=a,this.width=j,this.height=i,this._options=e,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new fJ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iR(a=>this.update(a),e.resizeDelay||0),this._dataChanges=[],aX[this.id]=this,!b||!a){console.error("Failed to create chart: can't acquire context from the given item");return}D.listen(this,"complete",cx),D.listen(this,"progress",gi),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:a,maintainAspectRatio:e},width:f,height:b,_aspectRatio:c}=this;return d(a)?e&&c?c:b?f/b:null:a}get data(){return this.config.data}set data(a){this.config.data=a}get options(){return this._options}set options(a){this.config.options=a}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():cF(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cE(this.canvas,this.ctx),this}stop(){return D.stop(this),this}resize(a,b){D.running(this)?this._resizeBeforeDraw={width:a,height:b}:this._resize(a,b)}_resize(c,d){const b=this.options,e=this.canvas,f=b.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(e,c,d,f),h=b.devicePixelRatio||this.platform.getDevicePixelRatio(),i=this.width?"resize":"attach";if(this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,!cF(this,h,!0))return;this.notifyPlugins("resize",{size:a}),g(b.onResize,[this,a],this),this.attached&&this._doResize(i)&&this.render()}ensureScalesHaveIDs(){const a=this.options,b=a.scales||{};e(b,(a,b)=>{a.id=b})}buildOrUpdateScales(){const f=this.options,c=f.scales,b=this.scales,g=Object.keys(b).reduce((a,b)=>(a[b]=!1,a),{});let d=[];c&&(d=d.concat(Object.keys(c).map(a=>{const b=c[a],d=bx(a,b),e=d==="r",f=d==="x";return{options:b,dposition:e?"chartArea":f?"bottom":"left",dtype:e?"radialLinear":f?"category":"linear"}}))),e(d,h=>{const c=h.options,d=c.id,j=bx(d,c),i=a(c.type,h.dtype);(c.position===void 0||cA(c.position,j)!==cA(h.dposition))&&(c.position=h.dposition),g[d]=!0;let e=null;if(d in b&&b[d].type===i)e=b[d];else{const a=G.getScale(i);e=new a({id:d,type:i,ctx:this.ctx,chart:this}),b[e.id]=e}e.init(c,f)}),e(g,(a,c)=>{a||delete b[c]}),e(b,a=>{n.configure(this,a,a.options),n.addBox(this,a)})}_updateMetasets(){const a=this._metasets,b=this.data.datasets.length,c=a.length;if(a.sort((a,b)=>a.index-b.index),c>b){for(let a=b;a<c;++a)this._destroyDatasetMeta(a);a.splice(b,c-b)}this._sortedMetasets=a.slice(0).sort(cz("order","index"))}_removeUnreferencedMetasets(){const{_metasets:a,data:{datasets:b}}=this;a.length>b.length&&delete this._stacks,a.forEach((a,c)=>{b.filter(b=>b===a._dataset).length===0&&this._destroyDatasetMeta(c)})}buildOrUpdateControllers(){const c=[],d=this.data.datasets;let a,e;this._removeUnreferencedMetasets();for(a=0,e=d.length;a<e;a++){const h=d[a];let f=this.getDatasetMeta(a);const g=h.type||this.config.type;if(f.type&&f.type!==g&&(this._destroyDatasetMeta(a),f=this.getDatasetMeta(a)),f.type=g,f.indexAxis=h.indexAxis||bz(g,this.options),f.order=h.order||0,f.index=a,f.label=""+h.label,f.visible=this.isDatasetVisible(a),f.controller)f.controller.updateIndex(a),f.controller.linkScales();else{const d=G.getController(g),{datasetElementType:e,dataElementType:h}=b.datasets[g];Object.assign(d.prototype,{dataElementType:G.getElement(h),datasetElementType:e&&G.getElement(e)}),f.controller=new d(this,a),c.push(f.controller)}}return this._updateMetasets(),c}_resetElements(){e(this.data.datasets,(b,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(b){const c=this.config;c.update();const d=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),f=this._animationsDisabled=!d.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:b,cancelable:!0})===!1)return;const g=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let b=0,d=this.data.datasets.length;b<d;b++){const{controller:c}=this.getDatasetMeta(b),e=!f&&g.indexOf(c)===-1;c.buildOrUpdateElements(e),a=Math.max(+c.getMaxOverflow(),a)}a=this._minPadding=d.layout.autoPadding?a:0,this._updateLayout(a),f||e(g,a=>{a.reset()}),this._updateDatasets(b),this.notifyPlugins("afterUpdate",{mode:b}),this._layers.sort(cz("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateScales(){e(this.scales,a=>{n.removeBox(this,a)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const a=this.options,b=new Set(Object.keys(this._listeners)),c=new Set(a.events);(!dY(b,c)||!!this._responsiveListeners!==a.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:a}=this,b=this._getUniformDataChanges()||[];for(const{method:d,start:e,count:c}of b){const f=d==="_removeElements"?-c:c;gm(a,e,f)}}_getUniformDataChanges(){const a=this._dataChanges;if(!a||!a.length)return;this._dataChanges=[];const d=this.data.datasets.length,b=b=>new Set(a.filter(a=>a[0]===b).map((a,b)=>b+","+a.splice(1).join(","))),c=b(0);for(let a=1;a<d;a++)if(!dY(c,b(a)))return;return Array.from(c).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(b){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;n.update(this,this.width,this.height,b);const a=this.chartArea,c=a.width<=0||a.height<=0;this._layers=[],e(this.boxes,a=>{if(c&&a.position==="chartArea")return;a.configure&&a.configure(),this._layers.push(...a._layers())},this),this._layers.forEach((a,b)=>{a._idx=b}),this.notifyPlugins("afterLayout")}_updateDatasets(a){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:a,cancelable:!0})===!1)return;for(let a=0,b=this.data.datasets.length;a<b;++a)this.getDatasetMeta(a).controller.configure();for(let b=0,c=this.data.datasets.length;b<c;++b)this._updateDataset(b,I(a)?a({datasetIndex:b}):a);this.notifyPlugins("afterDatasetsUpdate",{mode:a})}_updateDataset(b,c){const d=this.getDatasetMeta(b),a={meta:d,index:b,mode:c,cancelable:!0};if(this.notifyPlugins("beforeDatasetUpdate",a)===!1)return;d.controller._update(c),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a)}render(){if(this.notifyPlugins("beforeRender",{cancelable:!0})===!1)return;D.has(this)?this.attached&&!D.running(this)&&D.start(this):(this.draw(),cx({chart:this}))}draw(){let a;if(this._resizeBeforeDraw){const{width:a,height:b}=this._resizeBeforeDraw;this._resize(a,b),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const b=this._layers;for(a=0;a<b.length&&b[a].z<=0;++a)b[a].draw(this.chartArea);for(this._drawDatasets();a<b.length;++a)b[a].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const b=this._sortedMetasets,c=[];let a,d;for(a=0,d=b.length;a<d;++a){const f=b[a];(!e||f.visible)&&c.push(f)}return c}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const a=this.getSortedVisibleDatasetMetas();for(let b=a.length-1;b>=0;--b)this._drawDataset(a[b]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(b){const e=this.ctx,a=b._clip,f=!a.disabled,c=this.chartArea,d={meta:b,index:b.index,cancelable:!0};if(this.notifyPlugins("beforeDatasetDraw",d)===!1)return;f&&be(e,{left:a.left===!1?0:c.left-a.left,right:a.right===!1?this.width:c.right+a.right,top:a.top===!1?0:c.top-a.top,bottom:a.bottom===!1?this.height:c.bottom+a.bottom}),b.controller.draw(),f&&bd(e),d.cancelable=!1,this.notifyPlugins("afterDatasetDraw",d)}getElementsAtEventForMode(b,c,d,e){const a=et.modes[c];return typeof a=="function"?a(this,b,d,e):[]}getDatasetMeta(c){const a=this.data.datasets[c],d=this._metasets;let b=d.filter(b=>b&&b._dataset===a).pop();return b||(b={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:c,_dataset:a,_parsed:[],_sorted:!1},d.push(b)),b}getContext(){return this.$context||(this.$context=L(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(a){const b=this.data.datasets[a];if(!b)return!1;const c=this.getDatasetMeta(a);return typeof c.hidden=="boolean"?!c.hidden:!b.hidden}setDatasetVisibility(a,b){const c=this.getDatasetMeta(a);c.hidden=!b}toggleDataVisibility(a){this._hiddenIndices[a]=!this._hiddenIndices[a]}getDataVisibility(a){return!this._hiddenIndices[a]}_updateVisibility(b,d,a){const e=a?"show":"hide",c=this.getDatasetMeta(b),f=c.controller._resolveAnimations(void 0,e);u(d)?(c.data[d].hidden=!a,this.update()):(this.setDatasetVisibility(b,a),f.update(c,{visible:a}),this.update(a=>a.datasetIndex===b?e:void 0))}hide(a,b){this._updateVisibility(a,b,!1)}show(a,b){this._updateVisibility(a,b,!0)}_destroyDatasetMeta(b){const a=this._metasets[b];a&&a.controller&&a.controller._destroy(),delete this._metasets[b]}_stop(){let a,b;this.stop(),D.remove(this);for(a=0,b=this.data.datasets.length;a<b;++a)this._destroyDatasetMeta(a)}destroy(){const{canvas:a,ctx:b}=this;this._stop(),this.config.clearCache(),a&&(this.unbindEvents(),cE(a,b),this.platform.releaseContext(b),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete aX[this.id]}toBase64Image(...a){return this.canvas.toDataURL(...a)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const a=this._listeners,b=this.platform,c=(c,d)=>{b.addEventListener(this,c,d),a[c]=d},d=(a,b,c)=>{a.offsetX=b,a.offsetY=c,this._eventHandler(a)};e(this.options.events,a=>c(a,d))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const a=this._responsiveListeners,b=this.platform,c=(c,d)=>{b.addEventListener(this,c,d),a[c]=d},f=(c,d)=>{a[c]&&(b.removeEventListener(this,c,d),delete a[c])},g=(a,b)=>{this.canvas&&this.resize(a,b)};let d;const e=()=>{f("attach",e),this.attached=!0,this.resize(),c("resize",g),c("detach",d)};d=()=>{this.attached=!1,f("resize",g),this._stop(),this._resize(0,0),c("attach",e)},b.isAttached(this.canvas)?e():d()}unbindEvents(){e(this._listeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._listeners={},e(this._responsiveListeners,(a,b)=>{this.platform.removeEventListener(this,b,a)}),this._responsiveListeners=void 0}updateHoverStyle(c,h,g){const e=g?"set":"remove";let f,a,b,d;h==="dataset"&&(f=this.getDatasetMeta(c[0].datasetIndex),f.controller["_"+e+"DatasetHoverStyle"]());for(b=0,d=c.length;b<d;++b){a=c[b];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[e+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(c){const b=this._active||[],a=c.map(({datasetIndex:a,index:b})=>{const c=this.getDatasetMeta(a);if(!c)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),d=!bi(a,b);d&&(this._active=a,this._updateHoverStyles(a,b))}notifyPlugins(a,b,c){return this._plugins.notify(this,a,b,c)}_updateHoverStyles(a,c,g){const b=this.options.hover,d=(a,b)=>a.filter(a=>!b.some(b=>a.datasetIndex===b.datasetIndex&&a.index===b.index)),e=d(c,a),f=g?a:d(a,c);e.length&&this.updateHoverStyle(e,b.mode,!1),f.length&&b.mode&&this.updateHoverStyle(f,b.mode,!0)}_eventHandler(b,c){const a={event:b,replay:c,cancelable:!0},d=a=>(a.options.events||this.options.events).includes(b.native.type);if(this.notifyPlugins("beforeEvent",a,d)===!1)return;const e=this._handleEvent(b,c);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,d),(e||a.changed)&&this.render(),this}_handleEvent(a,c){const{_active:f=[],options:d}=this,h=d.hover,j=c;let b=[],e=!1,i=null;return a.type!=="mouseout"&&(b=this.getElementsAtEventForMode(a,h.mode,h,j),i=a.type==="click"?this._lastEvent:a),this._lastEvent=null,N(a,this.chartArea,this._minPadding)&&(g(d.onHover,[a,b,this],this),(a.type==="mouseup"||a.type==="click"||a.type==="contextmenu")&&g(d.onClick,[a,b,this],this)),e=!bi(b,f),(e||c)&&(this._active=b,this._updateHoverStyles(b,f,c)),this._lastEvent=i,e}},cn=()=>e(aS.instances,a=>a._plugins.invalidate()),K=!0,Object.defineProperties(aS,{defaults:{enumerable:K,value:b},instances:{enumerable:K,value:aX},overrides:{enumerable:K,value:T},registry:{enumerable:K,value:G},version:{enumerable:K,value:gd},getChart:{enumerable:K,value:cq},register:{enumerable:K,value:(...a)=>{G.add(...a),cn()}},unregister:{enumerable:K,value:(...a)=>{G.remove(...a),cn()}}});function cl(a,k,d){const{startAngle:h,pixelMargin:c,x:e,y:f,outerRadius:i,innerRadius:g}=k;let b=c/i;a.beginPath(),a.arc(e,f,i,h-b,d+b),g>c?(b=c/g,a.arc(e,f,g,d+b,h-b,!0)):a.arc(e,f,c,d+j,h-j),a.closePath(),a.clip()}function gr(a){return bB(a,["outerStart","outerEnd","innerStart","innerEnd"])}function gs(h,d,e,f){const a=gr(h.options.borderRadius),b=(e-d)/2,c=Math.min(b,f*d/2),g=a=>{const c=(e-Math.min(b,a))*f/2;return m(a,0,Math.min(b,c))};return{outerStart:g(a.outerStart),outerEnd:g(a.outerEnd),innerStart:m(a.innerStart,0,c),innerEnd:m(a.innerEnd,0,c)}}function $(a,b,c,d){return{x:c+a*Math.cos(b),y:d+a*Math.sin(b)}}function bT(a,t,s,g,x){const{x:b,y:d,startAngle:D,pixelMargin:B,innerRadius:n}=t,c=Math.max(t.outerRadius+g+s-B,0),h=n>0?n+g+s+B:0;let u=0;const k=x-D;if(g){const b=n>0?n-g:0,d=c>0?c-g:0,a=(b+d)/2,e=a!==0?k*a/(a+g):k;u=(k-e)/2}const H=Math.max(.001,k*c-s/i)/c,y=(k-H)/2,f=D+y+u,e=x-y-u,{outerStart:o,outerEnd:p,innerStart:m,innerEnd:l}=gs(t,h,c,e-f),r=c-o,z=c-p,w=f+o/r,q=e-p/z,C=h+m,v=h+l,E=f+m/C,F=e-l/v;if(a.beginPath(),a.arc(b,d,c,w,q),p>0){const c=$(z,q,b,d);a.arc(c.x,c.y,p,q,e+j)}const A=$(v,e,b,d);if(a.lineTo(A.x,A.y),l>0){const c=$(v,F,b,d);a.arc(c.x,c.y,l,e+j,F+Math.PI)}if(a.arc(b,d,h,e-l/h,f+m/h,!0),m>0){const c=$(C,E,b,d);a.arc(c.x,c.y,m,E+Math.PI,f-j)}const G=$(r,f,b,d);if(a.lineTo(G.x,G.y),o>0){const c=$(r,w,b,d);a.arc(c.x,c.y,o,f-j,w)}a.closePath()}function gv(a,b,e,g){const{fullCircles:h,startAngle:i,circumference:d}=b;let c=b.endAngle;if(h){bT(a,b,e,g,i+f);for(let b=0;b<h;++b)a.fill();isNaN(d)||(c=i+d%f,d%f===0&&(c+=f))}return bT(a,b,e,g,c),a.fill(),c}function gw(a,d,j){const{x:e,y:i,startAngle:c,pixelMargin:g,fullCircles:h}=d,k=Math.max(d.outerRadius-g,0),l=d.innerRadius+g;let b;j&&cl(a,d,c+f),a.beginPath(),a.arc(e,i,l,c+f,c,!0);for(b=0;b<h;++b)a.stroke();a.beginPath(),a.arc(e,i,k,c,c+f);for(b=0;b<h;++b)a.stroke()}function gx(a,b,f,g,e){const{options:c}=b,d=c.borderAlign==="inner";if(!c.borderWidth)return;d?(a.lineWidth=c.borderWidth*2,a.lineJoin="round"):(a.lineWidth=c.borderWidth,a.lineJoin="bevel"),b.fullCircles&&gw(a,b,d),d&&cl(a,b,e),bT(a,b,f,g,e),a.stroke()}aF=class extends x{constructor(a){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,a&&Object.assign(this,a)}inRange(g,n,d){const j=this.getProps(["x","y"],d),{angle:i,distance:h}=it(j,{x:g,y:n}),{startAngle:b,endAngle:e,innerRadius:k,outerRadius:l,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],d),c=this.options.spacing/2,o=a(m,e-b),p=o>=f||aW(i,b,e),q=B(h,k+c,l+c);return p&&q}getCenterPoint(c){const{x:d,y:e,startAngle:j,endAngle:k,innerRadius:f,outerRadius:g}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],c),{offset:h,spacing:i}=this.options,a=(j+k)/2,b=(f+g+i+h)/2;return{x:d+Math.cos(a)*b,y:e+Math.sin(a)*b}}tooltipPosition(a){return this.getCenterPoint(a)}draw(a){const{options:c,circumference:d}=this,e=(c.offset||0)/2,g=(c.spacing||0)/2;if(this.pixelMargin=c.borderAlign==="inner"?.33:0,this.fullCircles=d>f?Math.floor(d/f):0,d===0||this.innerRadius<0||this.outerRadius<0)return;a.save();let b=0;if(e){b=e/2;const c=(this.startAngle+this.endAngle)/2;a.translate(Math.cos(c)*b,Math.sin(c)*b),this.circumference>=i&&(b=e)}a.fillStyle=c.backgroundColor,a.strokeStyle=c.borderColor;const h=gv(a,this,b,g);gx(a,this,b,g,h),a.restore()}},aF.id="arc",aF.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},aF.defaultRoutes={backgroundColor:"backgroundColor"};function cd(c,b,d=b){c.lineCap=a(d.borderCapStyle,b.borderCapStyle),c.setLineDash(a(d.borderDash,b.borderDash)),c.lineDashOffset=a(d.borderDashOffset,b.borderDashOffset),c.lineJoin=a(d.borderJoinStyle,b.borderJoinStyle),c.lineWidth=a(d.borderWidth,b.borderWidth),c.strokeStyle=a(d.borderColor,b.borderColor)}function gA(b,c,a){b.lineTo(a.x,a.y)}function gB(a){return a.stepped?hv:a.tension||a.cubicInterpolationMode==="monotone"?hu:gA}function ca(i,h,j={}){const d=i.length,{start:e=0,end:f=d-1}=j,{start:b,end:c}=h,a=Math.max(e,b),g=Math.min(f,c),k=e<b&&f<b||e>c&&f>c;return{count:d,start:a,loop:h.loop,ilen:g<a&&!k?d+g-a:g-a}}function gD(d,p,o,m){const{points:e,options:f}=p,{count:j,start:i,loop:n,ilen:g}=ca(e,o,m),k=gB(f);let{move:l=!0,reverse:c}=m||{},b,a,h;for(b=0;b<=g;++b){if(a=e[(i+(c?g-b:b))%j],a.skip)continue;l?(d.moveTo(a.x,a.y),l=!1):k(d,h,a,c,f.stepped),h=a}return n&&(a=e[(i+(c?g:0))%j],k(d,h,a,c,f.stepped)),!!n}function gE(e,q,p,l){const h=q.points,{count:t,start:s,ilen:i}=ca(h,p,l),{move:r=!0,reverse:o}=l||{};let b=0,g=0,f,a,k,d,c,j;const m=a=>(s+(o?i-a:a))%t,n=()=>{d!==c&&(e.lineTo(b,c),e.lineTo(b,d),e.lineTo(b,j))};r&&(a=h[m(0)],e.moveTo(a.x,a.y));for(f=0;f<=i;++f){if(a=h[m(f)],a.skip)continue;const o=a.x,l=a.y,p=o|0;p===k?(l<d?d=l:l>c&&(c=l),b=(g*b+o)/++g):(n(),e.lineTo(o,l),k=p,g=0,d=c=l),j=l}n()}function bm(b){const a=b.options,c=a.borderDash&&a.borderDash.length,d=!b._decimated&&!b._loop&&!a.tension&&a.cubicInterpolationMode!=="monotone"&&!a.stepped&&!c;return d?gE:gD}function gG(a){return a.stepped?fY:a.tension||a.cubicInterpolationMode==="monotone"?fX:P}function gH(c,b,d,e){let a=b._path;a||(a=b._path=new Path2D,b.path(a,d,e)&&a.closePath()),cd(c,b.options),c.stroke(a)}function gI(a,b,c,d){const{segments:e,options:f}=b,g=bm(b);for(const h of e)cd(a,f,h.style),a.beginPath(),g(a,b,h,{start:c,end:c+d-1})&&a.closePath(),a.stroke()}gJ=typeof Path2D=="function";function gK(b,a,c,d){gJ&&!a.options.segment?gH(b,a,c,d):gI(b,a,c,d)}J=class extends x{constructor(a){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,a&&Object.assign(this,a)}updateControlPoints(b,c){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const d=a.spanGaps?this._loop:this._fullLoop;gk(this._points,a,b,d,c),this._pointsUpdated=!0}}set points(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=fD(this,this.options.segment))}first(){const a=this.segments,b=this.points;return a.length&&b[a[0].start]}last(){const a=this.segments,c=this.points,b=a.length;return b&&c[a[b-1].end]}interpolate(g,a){const h=this.options,d=g[a],f=this.points,e=cX(this,{property:a,start:d,end:d});if(!e.length)return;const b=[],j=gG(h);let c,i;for(c=0,i=e.length;c<i;++c){const{start:n,end:o}=e[c],k=f[n],l=f[o];if(k===l){b.push(k);continue}const p=Math.abs((d-k[a])/(l[a]-k[a])),m=j(k,l,p,h.stepped);m[a]=g[a],b.push(m)}return b.length===1?b[0]:b}pathSegment(a,b,c){const d=bm(this);return d(a,this,b,c)}path(d,a,b){const e=this.segments,f=bm(this);let c=this._loop;a=a||0,b=b||this.points.length-a;for(const g of e)c&=f(d,this,g,{start:a,end:a+b-1});return!!c}draw(a,f,b,c){const d=this.options||{},e=this.points||[];e.length&&d.borderWidth&&(a.save(),gK(a,this,b,c),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}},J.id="line",J.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},J.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},J.descriptors={_scriptable:!0,_indexable:a=>a!=="borderDash"&&a!=="fill"};function dV(a,d,b,e){const c=a.options,{[b]:f}=a.getProps([b],e);return Math.abs(d-f)<c.radius+c.hitRadius}az=class extends x{constructor(a){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,a&&Object.assign(this,a)}inRange(b,c,d){const a=this.options,{x:e,y:f}=this.getProps(["x","y"],d);return Math.pow(b-e,2)+Math.pow(c-f,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(a,b){return dV(this,a,"x",b)}inYRange(a,b){return dV(this,a,"y",b)}getCenterPoint(a){const{x:b,y:c}=this.getProps(["x","y"],a);return{x:b,y:c}}size(a){a=a||this.options||{};let b=a.radius||0;b=Math.max(b,b&&a.hoverRadius||0);const c=b&&a.borderWidth||0;return(b+c)*2}draw(b,c){const a=this.options;if(this.skip||a.radius<.1||!N(this,c,this.size(a)/2))return;b.strokeStyle=a.borderColor,b.lineWidth=a.borderWidth,b.fillStyle=a.backgroundColor,bg(b,a,this.x,this.y)}getRange(){const a=this.options||{};return a.radius+a.hitRadius}},az.id="point",az.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},az.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function ce(i,k){const{x:b,y:c,base:d,width:l,height:j}=i.getProps(["x","y","base","width","height"],k);let e,f,g,h,a;return i.horizontal?(a=j/2,e=Math.min(b,d),f=Math.max(b,d),g=c-a,h=c+a):(a=l/2,e=b-a,f=b+a,g=Math.min(c,d),h=Math.max(c,d)),{left:e,top:g,right:f,bottom:h}}function H(a,b,c,d){return a?0:m(b,c,d)}function gQ(c,d,e){const f=c.options.borderWidth,a=c.borderSkipped,b=co(f);return{t:H(a.top,b.top,0,e),r:H(a.right,b.right,0,d),b:H(a.bottom,b.bottom,0,e),l:H(a.left,b.left,0,d)}}function gR(f,i,j){const{enableBorderRadius:h}=f.getProps(["enableBorderRadius"]),g=f.options.borderRadius,e=Y(g),b=Math.min(i,j),a=f.borderSkipped,d=h||c(g);return{topLeft:H(!d||a.top||a.left,e.topLeft,0,b),topRight:H(!d||a.top||a.right,e.topRight,0,b),bottomLeft:H(!d||a.bottom||a.left,e.bottomLeft,0,b),bottomRight:H(!d||a.bottom||a.right,e.bottomRight,0,b)}}function gS(f){const b=ce(f),d=b.right-b.left,e=b.bottom-b.top,a=gQ(f,d/2,e/2),c=gR(f,d/2,e/2);return{outer:{x:b.left,y:b.top,w:d,h:e,radius:c},inner:{x:b.left+a.l,y:b.top+a.t,w:d-a.l-a.r,h:e-a.t-a.b,radius:{topLeft:Math.max(0,c.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,c.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,c.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,c.bottomRight-Math.max(a.b,a.r))}}}}function bM(b,f,c,g){const d=f===null,e=c===null,h=d&&e,a=b&&!h&&ce(b,g);return a&&(d||B(f,a.left,a.right))&&(e||B(c,a.top,a.bottom))}function gU(a){return a.topLeft||a.topRight||a.bottomLeft||a.bottomRight}function gV(b,a){b.rect(a.x,a.y,a.w,a.h)}function bL(a,c,b={}){const d=a.x!==b.x?-c:0,e=a.y!==b.y?-c:0,f=(a.x+a.w!==b.x+b.w?c:0)-d,g=(a.y+a.h!==b.y+b.h?c:0)-e;return{x:a.x+d,y:a.y+e,w:a.w+f,h:a.h+g,radius:a.radius}}aO=class extends x{constructor(a){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,a&&Object.assign(this,a)}draw(a){const{inflateAmount:d,options:{borderColor:f,backgroundColor:g}}=this,{inner:b,outer:c}=gS(this),e=gU(c.radius)?aZ:gV;a.save(),(c.w!==b.w||c.h!==b.h)&&(a.beginPath(),e(a,bL(c,d,b)),a.clip(),e(a,bL(b,-d,c)),a.fillStyle=f,a.fill("evenodd")),a.beginPath(),e(a,bL(b,d)),a.fillStyle=g,a.fill(),a.restore()}inRange(a,b,c){return bM(this,a,b,c)}inXRange(a,b){return bM(this,a,null,b)}inYRange(a,b){return bM(this,null,a,b)}getCenterPoint(e){const{x:a,y:b,base:c,horizontal:d}=this.getProps(["x","y","base","horizontal"],e);return{x:d?(a+c)/2:a,y:d?b:(b+c)/2}}getRange(a){return a==="x"?this.width/2:this.height/2}},aO.id="bar",aO.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},aO.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},gY=Object.freeze({__proto__:null,ArcElement:aF,LineElement:J,PointElement:az,BarElement:aO});function gZ(a,b,d,p,o){const i=o.samples||p;if(i>=d)return a.slice(b,b+d);const e=[],f=(d-2)/(i-2);let k=0;const n=b+d-1;let j=b,c,l,h,g,m;e[k++]=a[j];for(c=0;c<i-2;c++){let o=0,p=0,n;const q=Math.floor((c+1)*f)+1+b,r=Math.min(Math.floor((c+2)*f)+1,d)+b,s=r-q;for(n=q;n<r;n++)o+=a[n].x,p+=a[n].y;o/=s,p/=s;const v=Math.floor(c*f)+1+b,w=Math.min(Math.floor((c+1)*f)+1,d)+b,{x:t,y:u}=a[j];h=g=-1;for(n=v;n<w;n++)g=.5*Math.abs((t-o)*(a[n].y-u)-(t-a[n].x)*(p-u)),g>h&&(h=g,l=a[n],m=n);e[k++]=l,j=m}return e[k++]=a[n],e}function g_(b,j,r,t){let i=0,l=0,a,g,p,c,o,e,h,k,m,n;const f=[],s=j+r-1,q=b[j].x,u=b[s].x,v=u-q;for(a=j;a<j+r;++a){g=b[a],p=(g.x-q)/v*t,c=g.y;const s=p|0;if(s===o)c<m?(m=c,e=a):c>n&&(n=c,h=a),i=(l*i+g.x)/++l;else{const j=a-1;if(!d(e)&&!d(h)){const a=Math.min(e,h),c=Math.max(e,h);a!==k&&a!==j&&f.push({...b[a],x:i}),c!==k&&c!==j&&f.push({...b[c],x:i})}a>0&&j!==k&&f.push(b[j]),f.push(g),o=s,l=0,m=n=c,e=h=k=a}}return f}function cp(a){if(a._decimated){const b=a._data;delete a._decimated,delete a._data,Object.defineProperty(a,"data",{value:b})}}function cr(a){a.data.datasets.forEach(a=>{cp(a)})}function hb(f,b){const c=b.length;let a=0,d;const{iScale:e}=f,{min:g,max:h,minDefined:i,maxDefined:j}=e.getUserBounds();return i&&(a=m(F(b,e.axis,g).lo,0,c-1)),j?d=m(F(b,e.axis,h).hi+1,a,c)-a:d=c-a,{start:a,count:d}}hc={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(a,e,b)=>{if(!b.enabled){cr(a);return}const c=a.width;a.data.datasets.forEach((e,n)=>{const{_data:l,indexAxis:m}=e,h=a.getDatasetMeta(n),f=l||e.data;if(ac([m,a.options.indexAxis])==="y")return;if(h.type!=="line")return;const k=a.scales[h.xAxisID];if(k.type!=="linear"&&k.type!=="time")return;if(a.options.parsing)return;let{start:j,count:g}=hb(h,f);const o=b.threshold||4*c;if(g<=o){cp(e);return}d(l)&&(e._data=f,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(a){this._data=a}}));let i;switch(b.algorithm){case"lttb":i=gZ(f,j,g,c,b);break;case"min-max":i=g_(f,j,g,c);break;default:throw new Error(`Unsupported decimation algorithm '${b.algorithm}'`)}e._decimated=i})},destroy(a){cr(a)}};function hd(a,b){const c=a.getDatasetMeta(b),d=c&&a.isDatasetVisible(b);return d?c.dataset:null}function he(e){const d=e.options,c=d.fill;let b=a(c&&c.target,c);return!(b===void 0&&(b=!!d.backgroundColor),b===!1||b===null)&&(b===!0?"origin":b)}function hf(e,d,f){const b=he(e);if(c(b))return!isNaN(b.value)&&b;let a=parseFloat(b);return k(a)&&Math.floor(a)===a?!((b[0]==="-"||b[0]==="+")&&(a=d+a),a===d||a<0||a>=f)&&a:["origin","start","end","stack","shape"].indexOf(b)>=0&&b}function hg(f){const{scale:b={},fill:d}=f;let a=null,e;return d==="start"?a=b.bottom:d==="end"?a=b.top:c(d)?a=b.getPixelForValue(d.value):b.getBasePixel&&(a=b.getBasePixel()),k(a)?(e=b.isHorizontal(),{x:e?a:null,y:e?null:a}):null}ct=class{constructor(a){this.x=a.x,this.y=a.y,this.radius=a.radius}pathSegment(b,a,c){const{x:d,y:e,radius:g}=this;return a=a||{start:0,end:f},b.arc(d,e,g,a.end,a.start,!0),!c.bounds}interpolate(c){const{x:d,y:e,radius:b}=this,a=c.angle;return{x:d+Math.cos(a)*b,y:e+Math.sin(a)*b,angle:a}}};function hi(j){const{scale:a,fill:d}=j,f=a.options,l=a.getLabels().length,i=[],h=f.reverse?a.max:a.min,k=f.reverse?a.min:a.max;let e,g,b;if(d==="start"?b=h:d==="end"?b=k:c(d)?b=d.value:b=a.getBaseValue(),f.grid.circular)return g=a.getPointPositionForValue(0,h),new ct({x:g.x,y:g.y,radius:a.getDistanceFromCenterForValue(b)});for(e=0;e<l;++e)i.push(a.getPointPositionForValue(e,b));return i}function hj(a){const b=a.scale||{};return b.getPointPositionForValue?hi(a):hg(a)}function cu(b,a,c){for(;a>b;a--){const d=c[a];if(!isNaN(d.x)&&!isNaN(d.y))break}return a}function hl(f,e){const{x:b=null,y:c=null}=f||{},d=e.points,a=[];return e.segments.forEach(({start:f,end:e})=>{e=cu(f,e,d);const g=d[f],h=d[e];c!==null?(a.push({x:g.x,y:c}),a.push({x:h.x,y:c})):b!==null&&(a.push({x:b,y:g.y}),a.push({x:b,y:h.y}))}),a}function hm(f){const{scale:b,index:g,line:a}=f,c=[],d=a.segments,h=a.points,e=hn(b,g);e.push(cv({x:null,y:b.bottom},a));for(let a=0;a<d.length;a++){const b=d[a];for(let a=b.start;a<=b.end;a++)ho(c,h[a],e)}return new J({points:c,options:{}})}function hn(c,d){const a=[],b=c.getMatchingVisibleMetas("line");for(let c=0;c<b.length;c++){const e=b[c];if(e.index===d)break;e.hidden||a.unshift(e.dataset)}return a}function ho(a,d,b){const c=[];for(let e=0;e<b.length;e++){const i=b[e],{first:g,last:h,point:f}=hp(i,d,"x");if(!f||g&&h)continue;if(g)c.unshift(f);else if(a.push(f),!h)break}a.push(...c)}function hp(b,i,a){const c=b.interpolate(i,a);if(!c)return{};const d=c[a],f=b.segments,g=b.points;let e=!1,h=!1;for(let b=0;b<f.length;b++){const c=f[b],i=g[c.start][a],j=g[c.end][a];if(B(d,i,j)){e=d===i,h=d===j;break}}return{first:e,last:h,point:c}}function hq(b){const{chart:d,fill:a,line:e}=b;if(k(a))return hd(d,a);if(a==="stack")return hm(b);if(a==="shape")return!0;const c=hj(b);return c instanceof ct?c:cv(c,e)}function cv(b,d){let a=[],c=!1;return h(b)?(c=!0,a=b):a=hl(b,d),a.length?new J({points:a,options:{tension:0},_loop:c,_fullLoop:c}):null}function hs(e,c,f){const g=e[c];let a=g.fill;const d=[c];let b;if(!f)return a;while(a!==!1&&d.indexOf(a)===-1){if(!k(a))return a;if(b=e[a],!b)return!1;if(b.visible)return a;d.push(a),a=b.fill}return!1}function cy(a,b,c){a.beginPath(),b.path(a),a.lineTo(b.last().x,c),a.lineTo(b.first().x,c),a.closePath(),a.clip()}function bs(a,d,e,f){if(f)return;let b=d[a],c=e[a];return a==="angle"&&(b=v(b),c=v(c)),{property:a,start:b,end:c}}function cD(a,b,c,d){return a&&b?d(a[c],b[c]):a?a[c]:b?b[c]:0}function hw(f,d,b){const g=f.segments,a=f.points,e=d.points,c=[];for(const f of g){let{start:j,end:h}=f;h=cu(j,h,a);const i=bs(b,a[j],a[h],f.loop);if(!d.segments){c.push({source:f,target:i,start:a[j],end:a[h]});continue}const k=cX(d,i);for(const d of k){const g=bs(b,e[d.start],e[d.end],d.loop),h=cW(f,a,g);for(const a of h)c.push({source:a,target:d,start:{[b]:cD(i,g,"start",Math.max)},end:{[b]:cD(i,g,"end",Math.min)}})}}return c}function hx(a,d,e){const{top:b,bottom:f}=d.chart.chartArea,{property:g,start:c,end:h}=e||{};g==="x"&&(a.beginPath(),a.rect(c,b,h-c,f-b),a.clip())}function cG(b,c,d,e){const a=c.interpolate(d,e);a&&b.lineTo(a.x,a.y)}function cI(a,e){const{line:d,target:b,property:c,color:f,scale:g}=e,h=hw(d,b,c);for(const{source:m,target:o,start:j,end:k}of h){const{style:{backgroundColor:n=f}={}}=m,l=b!==!0;a.save(),a.fillStyle=n,hx(a,g,l&&bs(c,j,k)),a.beginPath();const e=!!d.pathSegment(a,m);let i;if(l){e?a.closePath():cG(a,b,k,c);const d=!!b.pathSegment(a,o,{move:e,reverse:!0});i=e&&d,i||cG(a,b,j,c)}a.closePath(),a.fill(i?"evenodd":"nonzero"),a.restore()}}function hA(a,e){const{line:c,target:b,above:f,below:g,area:h,scale:i}=e,d=c._loop?"angle":e.axis;a.save(),d==="x"&&g!==f&&(cy(a,b,h.top),cI(a,{line:c,target:b,color:f,scale:i,property:d}),a.restore(),a.save(),cy(a,b,h.bottom)),cI(a,{line:c,target:b,color:g,scale:i,property:d}),a.restore()}function bn(a,c,d){const e=hq(c),{line:b,scale:h,axis:i}=c,f=b.options,j=f.fill,g=f.backgroundColor,{above:k=g,below:l=g}=j||{};e&&b.points.length&&(be(a,d),hA(a,{line:b,target:e,above:k,below:l,area:d,scale:h,axis:i}),bd(a))}hC={id:"filler",afterDatasetsUpdate(e,i,h){const f=(e.data.datasets||[]).length,g=[];let d,a,c,b;for(a=0;a<f;++a)d=e.getDatasetMeta(a),c=d.dataset,b=null,c&&c.options&&c instanceof J&&(b={visible:e.isDatasetVisible(a),index:a,fill:hf(c,a,f),chart:e,axis:d.controller.options.indexAxis,scale:d.vScale,line:c}),d.$filler=b,g.push(b);for(a=0;a<f;++a){if(b=g[a],!b||b.fill===!1)continue;b.fill=hs(g,a,h.propagate)}},beforeDraw(a,f,d){const e=d.drawTime==="beforeDraw",b=a.getSortedVisibleDatasetMetas(),c=a.chartArea;for(let f=b.length-1;f>=0;--f){const d=b[f].$filler;if(!d)continue;d.line.updateControlPoints(c,d.axis),e&&bn(a.ctx,d,c)}},beforeDatasetsDraw(a,d,c){if(c.drawTime!=="beforeDatasetsDraw")return;const b=a.getSortedVisibleDatasetMetas();for(let c=b.length-1;c>=0;--c){const d=b[c].$filler;d&&bn(a.ctx,d,a.chartArea)}},beforeDatasetDraw(b,c,d){const a=c.meta.$filler;if(!a||a.fill===!1||d.drawTime!=="beforeDatasetDraw")return;bn(b.ctx,a,b.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},cV=(d,a)=>{let{boxHeight:b=a,boxWidth:c=a}=d;return d.usePointStyle&&(b=Math.min(b,a),c=Math.min(c,a)),{boxWidth:c,boxHeight:b,itemHeight:Math.max(a,b)}},hE=(a,b)=>a!==null&&b!==null&&a.datasetIndex===b.datasetIndex&&a.index===b.index,c_=class extends x{constructor(a){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(a,b,c){this.maxWidth=a,this.maxHeight=b,this._margins=c,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const b=this.options.labels||{};let a=g(b.generateLabels,[this.chart],this)||[];b.filter&&(a=a.filter(a=>b.filter(a,this.chart.data))),b.sort&&(a=a.sort((a,c)=>b.sort(a,c,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:a,ctx:j}=this;if(!a.display){this.width=this.height=0;return}const h=a.labels,i=l(h.font),d=i.size,f=this._computeTitleHeight(),{boxWidth:g,itemHeight:e}=cV(h,d);let b,c;j.font=i.string,this.isHorizontal()?(b=this.maxWidth,c=this._fitRows(f,d,g,e)+10):(c=this.maxHeight,b=this._fitCols(f,d,g,e)+10),this.width=Math.min(b,a.maxWidth||this.maxWidth),this.height=Math.min(c,a.maxHeight||this.maxHeight)}_fitRows(m,l,k,g){const{ctx:b,maxWidth:j,options:{labels:{padding:d}}}=this,i=this.legendHitBoxes=[],a=this.lineWidths=[0],c=g+d;let f=m;b.textAlign="left",b.textBaseline="middle";let e=-1,h=-c;return this.legendItems.forEach((o,m)=>{const n=k+l/2+b.measureText(o.text).width;(m===0||a[a.length-1]+n+2*d>j)&&(f+=c,a[a.length-(m>0?0:1)]=0,h+=c,e++),i[m]={left:0,top:h,row:e,width:n,height:g},a[a.length-1]+=n+d}),f}_fitCols(o,n,m,d){const{ctx:l,maxHeight:k,options:{labels:{padding:c}}}=this,i=this.legendHitBoxes=[],g=this.columnSizes=[],j=k-o;let e=c,a=0,b=0,f=0,h=0;return this.legendItems.forEach((p,k)=>{const o=m+n/2+l.measureText(p.text).width;k>0&&b+d+2*c>j&&(e+=a+c,g.push({width:a,height:b}),f+=a+c,h++,a=b=0),i[k]={left:f,top:b,col:h,width:o,height:d},a=Math.max(a,o),b+=d+c}),e+=a,g.push({width:a,height:b}),e}adjustHitBoxes(){if(!this.options.display)return;const d=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:b,labels:{padding:a},rtl:f}}=this,c=X(f,this.left,this.width);if(this.isHorizontal()){let f=0,g=o(b,this.left+a,this.right-this.lineWidths[f]);for(const h of e)f!==h.row&&(f=h.row,g=o(b,this.left+a,this.right-this.lineWidths[f])),h.top+=this.top+d+a,h.left=c.leftForLtr(c.x(g),h.width),g+=h.width+a}else{let f=0,g=o(b,this.top+d+a,this.bottom-this.columnSizes[f].height);for(const h of e)h.col!==f&&(f=h.col,g=o(b,this.top+d+a,this.bottom-this.columnSizes[f].height)),h.top=g,h.left+=this.left+a,h.left=c.leftForLtr(c.x(h.left),h.width),g+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const a=this.ctx;be(a,this),this._draw(),bd(a)}}_draw(){const{options:j,columnSizes:p,lineWidths:w,ctx:c}=this,{align:k,labels:h}=j,v=b.color,g=X(j.rtl,this.left,this.width),n=l(h.font),{color:x,padding:e}=h,s=n.size,q=s/2;let d;this.drawTitle(),c.textAlign=g.textAlign("left"),c.textBaseline="middle",c.lineWidth=.5,c.font=n.string;const{boxWidth:f,boxHeight:i,itemHeight:u}=cV(h,s),y=function(e,j,b){if(isNaN(f)||f<=0||isNaN(i)||i<0)return;c.save();const d=a(b.lineWidth,1);if(c.fillStyle=a(b.fillStyle,v),c.lineCap=a(b.lineCap,"butt"),c.lineDashOffset=a(b.lineDashOffset,0),c.lineJoin=a(b.lineJoin,"miter"),c.lineWidth=d,c.strokeStyle=a(b.strokeStyle,v),c.setLineDash(a(b.lineDash,[])),h.usePointStyle){const a={radius:f*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:d},h=g.xPlus(e,f/2),i=j+q;bg(c,a,h,i)}else{const a=j+Math.max((s-i)/2,0),h=g.leftForLtr(e,f),k=Y(b.borderRadius);c.beginPath(),Object.values(k).some(a=>a!==0)?aZ(c,{x:h,y:a,w:f,h:i,radius:k}):c.rect(h,a,f,i),c.fill(),d!==0&&c.stroke()}c.restore()},z=function(b,d,a){M(c,a.text,b,d+u/2,n,{strikethrough:a.hidden,textAlign:g.textAlign(a.textAlign)})},m=this.isHorizontal(),r=this._computeTitleHeight();m?d={x:o(k,this.left+e,this.right-w[0]),y:this.top+e+r,line:0}:d={x:this.left+e,y:o(k,this.top+r+e,this.bottom-p[0].height),line:0},cR(this.ctx,j.textDirection);const t=u+e;this.legendItems.forEach((b,n)=>{c.strokeStyle=b.fontColor||x,c.fillStyle=b.fontColor||x;const s=c.measureText(b.text).width,u=g.textAlign(b.textAlign||(b.textAlign=h.textAlign)),l=f+q+s;let a=d.x,i=d.y;g.setWidth(this.width),m?n>0&&a+l+e>this.right&&(i=d.y+=t,d.line++,a=d.x=o(k,this.left+e,this.right-w[d.line])):n>0&&i+t>this.bottom&&(a=d.x=a+p[d.line].width+e,d.line++,i=d.y=o(k,this.top+r+e,this.bottom-p[d.line].height));const v=g.x(a);y(v,i,b),a=iQ(u,a+f+q,m?a+l:this.right,j.rtl),z(g.x(a),i,b),m?d.x+=l+e:d.y+=t}),cS(this.ctx,j.textDirection)}drawTitle(){const c=this.options,a=c.title,e=l(a.font),m=p(a.padding);if(!a.display)return;const k=X(c.rtl,this.left,this.width),b=this.ctx,h=a.position,j=e.size/2,i=m.top+j;let g,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),g=this.top+i,d=o(c.align,d,this.right-f);else{const a=this.columnSizes.reduce((a,b)=>Math.max(a,b.height),0);g=i+o(c.align,this.top,this.bottom-a-c.labels.padding-this._computeTitleHeight())}const n=o(h,d,d+f);b.textAlign=k.textAlign(bE(h)),b.textBaseline="middle",b.strokeStyle=a.color,b.fillStyle=a.color,b.font=e.string,M(b,a.text,n,g,e)}_computeTitleHeight(){const a=this.options.title,b=l(a.font),c=p(a.padding);return a.display?b.lineHeight+c.height:0}_getLegendItemAt(d,e){let b,a,c;if(B(d,this.left,this.right)&&B(e,this.top,this.bottom)){c=this.legendHitBoxes;for(b=0;b<c.length;++b)if(a=c[b],B(d,a.left,a.left+a.width)&&B(e,a.top,a.top+a.height))return this.legendItems[b]}return null}handleEvent(a){const c=this.options;if(!hG(a.type,c))return;const b=this._getLegendItemAt(a.x,a.y);if(a.type==="mousemove"){const d=this._hoveredItem,e=hE(d,b);d&&!e&&g(c.onLeave,[a,d,this],this),this._hoveredItem=b,b&&!e&&g(c.onHover,[a,b,this],this)}else b&&g(c.onClick,[a,b,this],this)}};function hG(a,b){return!!(a==="mousemove"&&(b.onHover||b.onLeave))||(!!(b.onClick&&(a==="click"||a==="mouseup")))}hH={id:"legend",_element:c_,start(a,d,b){const c=a.legend=new c_({ctx:a.ctx,options:b,chart:a});n.configure(a,c,b),n.addBox(a,c)},stop(a){n.removeBox(a,a.legend),delete a.legend},beforeUpdate(a,d,b){const c=a.legend;n.configure(a,c,b),c.options=b},afterUpdate(b){const a=b.legend;a.buildLabels(),a.adjustHitBoxes()},afterEvent(b,a){a.replay||b.legend.handleEvent(a.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,a,d){const b=a.datasetIndex,c=d.chart;c.isDatasetVisible(b)?(c.hide(b),a.hidden=!0):(c.show(b),a.hidden=!1)},onHover:null,onLeave:null,labels:{color:a=>a.chart.options.color,boxWidth:40,padding:10,generateLabels(a){const b=a.data.datasets,{labels:{usePointStyle:c,pointStyle:d,textAlign:e,color:f}}=a.legend.options;return a._getSortedDatasetMetas().map(g=>{const a=g.controller.getStyle(c?0:void 0),h=p(a.borderWidth);return{text:b[g.index].label,fillStyle:a.backgroundColor,fontColor:f,hidden:!g.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:a.borderColor,pointStyle:d||a.pointStyle,rotation:a.rotation,textAlign:e||a.textAlign,borderRadius:0,datasetIndex:g.index}},this)}},title:{color:a=>a.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:a=>!a.startsWith("on"),labels:{_scriptable:a=>!["generateLabels","filter","sort"].includes(a)}}},bC=class extends x{constructor(a){super(),this.chart=a.chart,this.options=a.options,this.ctx=a.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(c,d){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=c,this.height=this.bottom=d;const e=h(a.text)?a.text.length:1;this._padding=p(a.padding);const b=e*l(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=b:this.width=b}isHorizontal(){const a=this.options.position;return a==="top"||a==="bottom"}_drawArgs(d){const{top:a,left:e,bottom:j,right:k,options:l}=this,f=l.align;let g=0,h,b,c;return this.isHorizontal()?(b=o(f,e,k),c=a+d,h=k-e):(l.position==="left"?(b=e+d,c=o(f,j,a),g=i*-.5):(b=k-d,c=o(f,a,j),g=i*.5),h=j-a),{titleX:b,titleY:c,maxWidth:h,rotation:g}}draw(){const c=this.ctx,a=this.options;if(!a.display)return;const b=l(a.font),d=b.lineHeight,e=d/2+this._padding.top,{titleX:f,titleY:g,maxWidth:h,rotation:i}=this._drawArgs(e);M(c,a.text,0,0,b,{color:a.color,maxWidth:h,rotation:i,textAlign:bE(a.align),textBaseline:"middle",translation:[f,g]})}};function hJ(a,c){const b=new bC({ctx:a.ctx,options:c,chart:a});n.configure(a,b,c),n.addBox(a,b),a.titleBlock=b}hK={id:"title",_element:bC,start(a,c,b){hJ(a,b)},stop(a){const b=a.titleBlock;n.removeBox(a,b),delete a.titleBlock},beforeUpdate(a,d,b){const c=a.titleBlock;n.configure(a,c,b),c.options=b},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},aP=new WeakMap,hM={id:"subtitle",start(a,d,c){const b=new bC({ctx:a.ctx,options:c,chart:a});n.configure(a,b,c),n.addBox(a,b),aP.set(a,b)},stop(a){n.removeBox(a,aP.get(a)),aP.delete(a)},beforeUpdate(a,d,b){const c=aP.get(a);n.configure(a,c,b),c.options=b},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},aj={average(b){if(!b.length)return!1;let a,d,e=0,f=0,c=0;for(a=0,d=b.length;a<d;++a){const g=b[a].element;if(g&&g.hasValue()){const a=g.tooltipPosition();e+=a.x,f+=a.y,++c}}return{x:e/c,y:f/c}},nearest(b,c){if(!b.length)return!1;let e=c.x,f=c.y,g=Number.POSITIVE_INFINITY,a,h,d;for(a=0,h=b.length;a<h;++a){const e=b[a].element;if(e&&e.hasValue()){const b=e.getCenterPoint(),a=bv(c,b);a<g&&(g=a,d=e)}}if(d){const a=d.tooltipPosition();e=a.x,f=a.y}return{x:e,y:f}}};function z(b,a){return a&&(h(a)?Array.prototype.push.apply(b,a):b.push(a)),b}function E(a){return(typeof a=="string"||a instanceof String)&&a.indexOf("\n")>-1?a.split("\n"):a}function hQ(b,e){const{element:f,datasetIndex:c,index:a}=e,d=b.getDatasetMeta(c).controller,{label:g,value:h}=d.getLabelAndValue(a);return{chart:b,label:g,parsed:d.getParsed(a),raw:b.data.datasets[c].data[a],formattedValue:h,dataset:d.getDataset(),dataIndex:a,datasetIndex:c,element:f}}function di(b,a){const c=b._chart.ctx,{body:m,footer:w,title:v}=b,{boxWidth:u,boxHeight:t}=a,h=l(a.bodyFont),s=l(a.titleFont),o=l(a.footerFont),n=v.length,j=w.length,q=m.length,r=p(a.padding);let i=r.height,g=0,f=m.reduce((b,a)=>b+a.before.length+a.lines.length+a.after.length,0);if(f+=b.beforeBody.length+b.afterBody.length,n&&(i+=n*s.lineHeight+(n-1)*a.titleSpacing+a.titleMarginBottom),f){const b=a.displayColors?Math.max(t,h.lineHeight):h.lineHeight;i+=q*b+(f-q)*h.lineHeight+(f-1)*a.bodySpacing}j&&(i+=a.footerMarginTop+j*o.lineHeight+(j-1)*a.footerSpacing);let k=0;const d=function(a){g=Math.max(g,c.measureText(a).width+k)};return c.save(),c.font=s.string,e(b.title,d),c.font=h.string,e(b.beforeBody.concat(b.afterBody),d),k=a.displayColors?u+2+a.boxPadding:0,e(m,a=>{e(a.before,d),e(a.lines,d),e(a.after,d)}),k=0,c.font=o.string,e(b.footer,d),c.restore(),g+=r.width,{width:g,height:i}}function hS(c,d){const{y:a,height:b}=d;return a<b/2?"top":a>c.height-b/2?"bottom":"center"}function hT(a,f,b,g){const{x:c,width:d}=g,e=b.caretSize+b.caretPadding;if(a==="left"&&c+d+e>f.width)return!0;if(a==="right"&&c-d-e<0)return!0}function hU(c,f,d,j){const{x:b,width:e}=d,{width:g,chartArea:{left:h,right:i}}=c;let a="center";return j==="center"?a=b<=(h+i)/2?"left":"right":b<=e/2?a="left":b>=g-e/2&&(a="right"),hT(a,c,f,d)&&(a="center"),a}function dk(b,a,c){const d=a.yAlign||hS(b,c);return{xAlign:a.xAlign||hU(b,a,c,d),yAlign:d}}function hW(d,b){let{x:a,width:c}=d;return b==="right"?a-=c:b==="center"&&(a-=c/2),a}function hX(e,b,c){let{y:a,height:d}=e;return b==="top"?a+=c:b==="bottom"?a-=d+c:a-=d/2,a}function dm(h,c,p,f){const{caretSize:d,caretPadding:j,cornerRadius:i}=h,{xAlign:a,yAlign:g}=p,e=d+j,{topLeft:k,topRight:l,bottomLeft:n,bottomRight:o}=Y(i);let b=hW(c,a);const q=hX(c,g,e);return g==="center"?a==="left"?b+=e:a==="right"&&(b-=e):a==="left"?b-=Math.max(k,n)+d:a==="right"&&(b+=Math.max(l,o)+d),{x:m(b,0,f.width-c.width),y:m(q,0,f.height-c.height)}}function aD(a,b,d){const c=p(d.padding);return b==="center"?a.x+a.width/2:b==="right"?a.x+a.width-c.right:a.x+c.left}function du(a){return z([],E(a))}function h$(a,b,c){return L(a,{tooltip:b,tooltipItems:c,type:"tooltip"})}function dy(b,a){const c=a&&a.dataset&&a.dataset.tooltip&&a.dataset.tooltip.callbacks;return c?b.override(c):b}bA=class extends x{constructor(a){super(),this.opacity=0,this._active=[],this._chart=a._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=a.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const a=this._cachedAnimations;if(a)return a;const e=this._chart,b=this.options.setContext(this.getContext()),c=b.enabled&&e.options.animation&&b.animations,d=new dl(this._chart,c);return c._cacheable&&(this._cachedAnimations=Object.freeze(d)),d}getContext(){return this.$context||(this.$context=h$(this._chart.getContext(),this,this._tooltipItems))}getTitle(c,d){const{callbacks:b}=d,e=b.beforeTitle.apply(this,[c]),f=b.title.apply(this,[c]),g=b.afterTitle.apply(this,[c]);let a=[];return a=z(a,E(e)),a=z(a,E(f)),a=z(a,E(g)),a}getBeforeBody(a,b){return du(b.callbacks.beforeBody.apply(this,[a]))}getBody(b,c){const{callbacks:d}=c,a=[];return e(b,b=>{const c={before:[],lines:[],after:[]},e=dy(d,b);z(c.before,E(e.beforeLabel.call(this,b))),z(c.lines,e.label.call(this,b)),z(c.after,E(e.afterLabel.call(this,b))),a.push(c)}),a}getAfterBody(a,b){return du(b.callbacks.afterBody.apply(this,[a]))}getFooter(c,d){const{callbacks:b}=d,e=b.beforeFooter.apply(this,[c]),f=b.footer.apply(this,[c]),g=b.afterFooter.apply(this,[c]);let a=[];return a=z(a,E(e)),a=z(a,E(f)),a=z(a,E(g)),a}_createItems(b){const i=this._active,d=this._chart.data,f=[],g=[],h=[];let a=[],c,j;for(c=0,j=i.length;c<j;++c)a.push(hQ(this._chart,i[c]));return b.filter&&(a=a.filter((a,c,e)=>b.filter(a,c,e,d))),b.itemSort&&(a=a.sort((a,c)=>b.itemSort(a,c,d))),e(a,a=>{const c=dy(b.callbacks,a);f.push(c.labelColor.call(this,a)),g.push(c.labelPointStyle.call(this,a)),h.push(c.labelTextColor.call(this,a))}),this.labelColors=f,this.labelPointStyles=g,this.labelTextColors=h,this.dataPoints=a,a}update(e,f){const a=this.options.setContext(this.getContext()),d=this._active;let c,b=[];if(d.length){const e=aj[a.position].call(this,d,this._eventPosition);b=this._createItems(a),this.title=this.getTitle(b,a),this.beforeBody=this.getBeforeBody(b,a),this.body=this.getBody(b,a),this.afterBody=this.getAfterBody(b,a),this.footer=this.getFooter(b,a);const f=this._size=di(this,a),h=Object.assign({},e,f),g=dk(this._chart,a,h),i=dm(a,h,g,this._chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,c={opacity:1,x:i.x,y:i.y,width:f.width,height:f.height,caretX:e.x,caretY:e.y}}else this.opacity!==0&&(c={opacity:0});this._tooltipItems=b,this.$context=void 0,c&&this._resolveAnimations().update(this,c),e&&a.external&&a.external.call(this,{chart:this._chart,tooltip:this,replay:f})}drawCaret(c,b,d,e){const a=this.getCaretPosition(c,d,e);b.lineTo(a.x1,a.y1),b.lineTo(a.x2,a.y2),b.lineTo(a.x3,a.y3)}getCaretPosition(u,t,s){const{xAlign:j,yAlign:l}=this,{caretSize:a,cornerRadius:r}=s,{topLeft:q,topRight:p,bottomLeft:o,bottomRight:n}=Y(r),{x:g,y:i}=u,{width:m,height:k}=t;let c,b,h,d,e,f;return l==="center"?(e=i+k/2,j==="left"?(c=g,b=c-a,d=e+a,f=e-a):(c=g+m,b=c+a,d=e-a,f=e+a),h=c):(j==="left"?b=g+Math.max(q,o)+a:j==="right"?b=g+m-Math.max(p,n)-a:b=this.caretX,l==="top"?(d=i,e=d-a,c=b-a,h=b+a):(d=i+k,e=d+a,c=b+a,h=b-a),f=d),{x1:c,x2:b,x3:h,y1:d,y2:e,y3:f}}drawTitle(b,c,a){const h=this.title,f=h.length;let e,g,d;if(f){const i=X(a.rtl,this.x,this.width);b.x=aD(this,a.titleAlign,a),c.textAlign=i.textAlign(a.titleAlign),c.textBaseline="middle",e=l(a.titleFont),g=a.titleSpacing,c.fillStyle=a.titleColor,c.font=e.string;for(d=0;d<f;++d)c.fillText(h[d],i.x(b.x),b.y+e.lineHeight/2),b.y+=e.lineHeight+g,d+1===f&&(b.y+=a.titleMarginBottom-g)}}_drawColorBox(a,p,i,g,e){const c=this.labelColors[i],m=this.labelPointStyles[i],{boxHeight:d,boxWidth:b,boxPadding:j}=e,k=l(e.bodyFont),n=aD(this,"left",e),h=g.x(n),o=d<k.lineHeight?(k.lineHeight-d)/2:0,f=p.y+o;if(e.usePointStyle){const i={radius:Math.min(b,d)/2,pointStyle:m.pointStyle,rotation:m.rotation,borderWidth:1},j=g.leftForLtr(h,b)+b/2,k=f+d/2;a.strokeStyle=e.multiKeyBackground,a.fillStyle=e.multiKeyBackground,bg(a,i,j,k),a.strokeStyle=c.borderColor,a.fillStyle=c.backgroundColor,bg(a,i,j,k)}else{a.lineWidth=c.borderWidth||1,a.strokeStyle=c.borderColor,a.setLineDash(c.borderDash||[]),a.lineDashOffset=c.borderDashOffset||0;const i=g.leftForLtr(h,b-j),l=g.leftForLtr(g.xPlus(h,1),b-j-2),k=Y(c.borderRadius);Object.values(k).some(a=>a!==0)?(a.beginPath(),a.fillStyle=e.multiKeyBackground,aZ(a,{x:i,y:f,w:b,h:d,radius:k}),a.fill(),a.stroke(),a.fillStyle=c.backgroundColor,a.beginPath(),aZ(a,{x:l,y:f+1,w:b-2,h:d-2,radius:k}),a.fill()):(a.fillStyle=e.multiKeyBackground,a.fillRect(i,f,b,d),a.strokeRect(i,f,b,d),a.fillStyle=c.backgroundColor,a.fillRect(l,f+1,b-2,d-2))}a.fillStyle=this.labelTextColors[i]}drawBody(d,a,b){const{body:v}=this,{bodySpacing:q,bodyAlign:n,displayColors:s,boxHeight:y,boxWidth:w,boxPadding:u}=b,f=l(b.bodyFont);let h=f.lineHeight,o=0;const m=X(b.rtl,this.x,this.width),g=function(b){a.fillText(b,m.x(d.x+o),d.y+h/2),d.y+=h+q},r=m.textAlign(n);let k,t,j,c,i,x,p;a.textAlign=n,a.textBaseline="middle",a.font=f.string,d.x=aD(this,r,b),a.fillStyle=b.bodyColor,e(this.beforeBody,g),o=s&&r!=="right"?n==="center"?w/2+u:w+2+u:0;for(c=0,x=v.length;c<x;++c){k=v[c],t=this.labelTextColors[c],a.fillStyle=t,e(k.before,g),j=k.lines,s&&j.length&&(this._drawColorBox(a,d,c,m,b),h=Math.max(f.lineHeight,y));for(i=0,p=j.length;i<p;++i)g(j[i]),h=f.lineHeight;e(k.after,g)}o=0,h=f.lineHeight,e(this.afterBody,g),d.y-=q}drawFooter(b,c,a){const f=this.footer,g=f.length;let d,e;if(g){const h=X(a.rtl,this.x,this.width);b.x=aD(this,a.footerAlign,a),b.y+=a.footerMarginTop,c.textAlign=h.textAlign(a.footerAlign),c.textBaseline="middle",d=l(a.footerFont),c.fillStyle=a.footerColor,c.font=d.string;for(e=0;e<g;++e)c.fillText(f[e],h.x(b.x),b.y+d.lineHeight/2),b.y+=d.lineHeight+a.footerSpacing}}drawBackground(h,a,g,d){const{xAlign:k,yAlign:i}=this,{x:c,y:b}=h,{width:f,height:e}=g,{topLeft:j,topRight:l,bottomLeft:m,bottomRight:n}=Y(d.cornerRadius);a.fillStyle=d.backgroundColor,a.strokeStyle=d.borderColor,a.lineWidth=d.borderWidth,a.beginPath(),a.moveTo(c+j,b),i==="top"&&this.drawCaret(h,a,g,d),a.lineTo(c+f-l,b),a.quadraticCurveTo(c+f,b,c+f,b+l),i==="center"&&k==="right"&&this.drawCaret(h,a,g,d),a.lineTo(c+f,b+e-n),a.quadraticCurveTo(c+f,b+e,c+f-n,b+e),i==="bottom"&&this.drawCaret(h,a,g,d),a.lineTo(c+m,b+e),a.quadraticCurveTo(c,b+e,c,b+e-m),i==="center"&&k==="left"&&this.drawCaret(h,a,g,d),a.lineTo(c,b+j),a.quadraticCurveTo(c,b,c+j,b),a.closePath(),a.fill(),d.borderWidth>0&&a.stroke()}_updateAnimationTarget(a){const c=this._chart,b=this.$animations,d=b&&b.x,e=b&&b.y;if(d||e){const b=aj[a.position].call(this,this._active,this._eventPosition);if(!b)return;const h=this._size=di(this,a),i=Object.assign({},b,this._size),f=dk(c,a,i),g=dm(a,i,f,c);(d._to!==g.x||e._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=h.width,this.height=h.height,this.caretX=b.x,this.caretY=b.y,this._resolveAnimations().update(this,g))}}draw(a){const b=this.options.setContext(this.getContext());let c=this.opacity;if(!c)return;this._updateAnimationTarget(b);const e={width:this.width,height:this.height},d={x:this.x,y:this.y};c=Math.abs(c)<.001?0:c;const f=p(b.padding),g=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;b.enabled&&g&&(a.save(),a.globalAlpha=c,this.drawBackground(d,a,e,b),cR(a,b.textDirection),d.y+=f.top,this.drawTitle(d,a,b),this.drawBody(d,a,b),this.drawFooter(d,a,b),cS(a,b.textDirection),a.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,b){const d=this._active,a=c.map(({datasetIndex:a,index:b})=>{const c=this._chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[b],index:b}}),e=!bi(d,a),f=this._positionChanged(a,b);(e||f)&&(this._active=a,this._eventPosition=b,this.update(!0))}handleEvent(a,d){const b=this.options,f=this._active||[];let e=!1,c=[];a.type!=="mouseout"&&(c=this._chart.getElementsAtEventForMode(a,b.mode,b,d),b.reverse&&c.reverse());const g=this._positionChanged(c,a);return e=d||!bi(c,f)||g,e&&(this._active=c,(b.enabled||b.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,d))),e}_positionChanged(b,c){const{caretX:d,caretY:e,options:f}=this,a=aj[f.position].call(this,b,c);return a!==!1&&(d!==a.x||e!==a.y)}},bA.positioners=aj,ic={id:"tooltip",_element:bA,positioners:aj,afterInit(a,c,b){b&&(a.tooltip=new bA({_chart:a,options:b}))},beforeUpdate(a,c,b){a.tooltip&&a.tooltip.initialize(b)},reset(a,c,b){a.tooltip&&a.tooltip.initialize(b)},afterDraw(a){const b=a.tooltip,c={tooltip:b};if(a.notifyPlugins("beforeTooltipDraw",c)===!1)return;b&&b.draw(a.ctx),a.notifyPlugins("afterTooltipDraw",c)},afterEvent(b,a){if(b.tooltip){const c=a.replay;b.tooltip.handleEvent(a.event,c)&&(a.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(b,a)=>a.bodyFont.size,boxWidth:(b,a)=>a.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:C,title(a){if(a.length>0){const b=a[0],c=b.chart.data.labels,d=c?c.length:0;if(this&&this.options&&this.options.mode==="dataset")return b.dataset.label||"";if(b.label)return b.label;if(d>0&&b.dataIndex<d)return c[b.dataIndex]}return""},afterTitle:C,beforeBody:C,beforeLabel:C,label(a){if(this&&this.options&&this.options.mode==="dataset")return a.label+": "+a.formattedValue||a.formattedValue;let b=a.dataset.label||"";b&&(b+=": ");const c=a.formattedValue;return d(c)||(b+=c),b},labelColor(b){const c=b.chart.getDatasetMeta(b.datasetIndex),a=c.controller.getStyle(b.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(a){const c=a.chart.getDatasetMeta(a.datasetIndex),b=c.controller.getStyle(a.dataIndex);return{pointStyle:b.pointStyle,rotation:b.rotation}},afterLabel:C,afterBody:C,beforeFooter:C,footer:C,afterFooter:C}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:a=>a!=="filter"&&a!=="itemSort"&&a!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},id=Object.freeze({__proto__:null,Decimation:hc,Filler:hC,Legend:hH,SubTitle:hM,Title:hK,Tooltip:ic}),ie=(c,a,b,d)=>(typeof a=="string"?(b=c.push(a)-1,d.unshift({index:b,label:a})):isNaN(a)&&(b=null),b);function ig(a,b,d,e){const c=a.indexOf(b);if(c===-1)return ie(a,b,d,e);const f=a.lastIndexOf(b);return c!==f?d:c}ih=(a,b)=>a===null?null:m(Math.round(a),0,b),aE=class extends _{constructor(a){super(a),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(b){const a=this._addedLabels;if(a.length){const b=this.getLabels();for(const{index:c,label:d}of a)b[c]===d&&b.splice(c,1);this._addedLabels=[]}super.init(b)}parse(c,b){if(d(c))return null;const e=this.getLabels();return b=isFinite(b)&&e[b]===c?b:ig(e,c,a(b,c),this._addedLabels),ih(b,e.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:d}=this.getUserBounds();let{min:a,max:b}=this.getMinMax(!0);this.options.bounds==="ticks"&&(c||(a=0),d||(b=this.getLabels().length-1)),this.min=a,this.max=b}buildTicks(){const b=this.min,c=this.max,d=this.options.offset,e=[];let a=this.getLabels();a=b===0&&c===a.length-1?a:a.slice(b,c+1),this._valueRange=Math.max(a.length-(d?0:1),1),this._startValue=this.min-(d?.5:0);for(let a=b;a<=c;a++)e.push({value:a});return e}getLabelForValue(a){const b=this.getLabels();return a>=0&&a<b.length?b[a]:a}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(a){return typeof a!="number"&&(a=this.parse(a)),a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getPixelForTick(a){const b=this.ticks;return a<0||a>b.length-1?null:this.getPixelForValue(b[a].value)}getValueForPixel(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}getBasePixel(){return this.bottom}},aE.id="category",aE.defaults={ticks:{callback:aE.prototype.getLabelForValue}};function ij(s,B){const i=[],A=1e-14,{bounds:z,step:q,min:f,max:g,precision:p,count:v,maxTicks:w,maxDigits:x,includeBounds:t}=s,o=q||1,r=w-1,{min:l,max:k}=B,n=!d(f),m=!d(g),y=!d(v),u=(k-l)/(x+1);let a=dS((k-l)/r/o)*o,h,c,e,b;if(a<A&&!n&&!m)return[{value:l},{value:k}];b=Math.ceil(k/a)-Math.floor(l/a),b>r&&(a=dS(b*a/r/o)*o),d(p)||(h=Math.pow(10,p),a=Math.ceil(a*h)/h),z==="ticks"?(c=Math.floor(l/a)*a,e=Math.ceil(k/a)*a):(c=l,e=k),n&&m&&q&&iA((g-f)/q,a/1e3)?(b=Math.round(Math.min((g-f)/a,w)),a=(g-f)/b,c=f,e=g):y?(c=n?f:c,e=m?g:e,b=v-1,a=(e-c)/b):(b=(e-c)/a,am(b,Math.round(b),a/1e3)?b=Math.round(b):b=Math.ceil(b));const C=Math.max(dK(a),dK(c));h=Math.pow(10,d(p)?C:p),c=Math.round(c*h)/h,e=Math.round(e*h)/h;let j=0;for(n&&(t&&c!==f?(i.push({value:f}),c<f&&j++,am(Math.round((c+j*a)*h)/h,f,dD(f,u,s))&&j++):c<f&&j++);j<b;++j)i.push({value:Math.round((c+j*a)*h)/h});return m&&t&&e!==g?i.length&&am(i[i.length-1].value,g,dD(g,u,s))?i[i.length-1].value=g:i.push({value:g}):(!m||e===g)&&i.push({value:e}),i}function dD(c,a,{horizontal:d,minRotation:e}){const b=w(e),f=(d?Math.sin(b):Math.cos(b))||.001,g=.75*a*(""+c).length;return Math.min(a/f,g)}aG=class extends _{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(a,b){return d(a)?null:(typeof a=="number"||a instanceof Number)&&!isFinite(+a)?null:+a}handleTickRangeOptions(){const{beginAtZero:c}=this.options,{minDefined:f,maxDefined:g}=this.getUserBounds();let{min:b,max:a}=this;const d=a=>b=f?b:a,e=b=>a=g?a:b;if(c){const c=A(b),f=A(a);c<0&&f<0?e(0):c>0&&f>0&&d(0)}if(b===a){let f=1;(a>=Number.MAX_SAFE_INTEGER||b<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(a*.05)),e(a+f),c||d(b-f)}this.min=b,this.max=a}getTickLimit(){const d=this.options.ticks;let{maxTicksLimit:b,stepSize:c}=d,a;return c?(a=Math.ceil(this.max/c)-Math.floor(this.min/c)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${c} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),b=b||11),b&&(a=Math.min(b,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const a=this.options,b=a.ticks;let c=this.getTickLimit();c=Math.max(2,c);const e={maxTicks:c,bounds:a.bounds,min:a.min,max:a.max,precision:b.precision,step:b.stepSize,count:b.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:b.minRotation||0,includeBounds:b.includeBounds!==!1},f=this._range||this,d=ij(e,f);return a.bounds==="ticks"&&dN(d,this,"value"),a.reverse?(d.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),d}configure(){const c=this.ticks;let a=this.min,b=this.max;if(super.configure(),this.options.offset&&c.length){const d=(b-a)/Math.max(c.length-1,1)/2;a-=d,b+=d}this._startValue=a,this._endValue=b,this._valueRange=b-a}getLabelForValue(a){return aw(a,this.chart.options.locale,this.options.ticks.format)}},bN=class extends aG{determineDataLimits(){const{min:a,max:b}=this.getMinMax(!0);this.min=k(a)?a:0,this.max=k(b)?b:1,this.handleTickRangeOptions()}computeTickLimit(){const a=this.isHorizontal(),c=a?this.width:this.height,b=w(this.options.ticks.minRotation),d=(a?Math.sin(b):Math.cos(b))||.001,e=this._resolveTickFontOptions(0);return Math.ceil(c/Math.min(40,e.lineHeight/d))}getPixelForValue(a){return a===null?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}getValueForPixel(a){return this._startValue+this.getDecimalForPixel(a)*this._valueRange}},bN.id="linear",bN.defaults={ticks:{callback:bk.formatters.numeric}};function dE(a){const b=a/Math.pow(10,Math.floor(r(a)));return b===1}function ip(h,f){const g=Math.floor(r(f.max)),i=Math.ceil(f.max/Math.pow(10,g)),e=[];let b=t(h.min,Math.pow(10,Math.floor(r(f.min)))),a=Math.floor(r(b)),c=Math.floor(b/Math.pow(10,a)),d=a<0?Math.pow(10,Math.abs(a)):1;do e.push({value:b,major:dE(b)}),++c,c===10&&(c=1,++a,d=a>=0?1:d),b=Math.round(c*Math.pow(10,a)*d)/d;while(a<g||a===g&&c<i)const j=t(h.max,b);return e.push({value:j,major:dE(b)}),e}bG=class extends _{constructor(a){super(a),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(b,c){const a=aG.prototype.parse.apply(this,[b,c]);return a===0?(this._zero=!0,void 0):k(a)&&a>0?a:null}determineDataLimits(){const{min:a,max:b}=this.getMinMax(!0);this.min=k(a)?Math.max(0,a):null,this.max=k(b)?Math.max(0,b):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:g,maxDefined:f}=this.getUserBounds();let a=this.min,b=this.max;const d=b=>a=g?a:b,e=a=>b=f?b:a,c=(a,b)=>Math.pow(10,Math.floor(r(a))+b);a===b&&(a<=0?(d(1),e(10)):(d(c(a,-1)),e(c(b,1)))),a<=0&&d(c(b,-1)),b<=0&&e(c(a,1)),this._zero&&this.min!==this._suggestedMin&&a===c(this.min,0)&&d(c(a,-1)),this.min=a,this.max=b}buildTicks(){const b=this.options,c={min:this._userMin,max:this._userMax},a=ip(c,this);return b.bounds==="ticks"&&dN(a,this,"value"),b.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}getLabelForValue(a){return a===void 0?"0":aw(a,this.chart.options.locale,this.options.ticks.format)}configure(){const a=this.min;super.configure(),this._startValue=r(a),this._valueRange=r(this.max)-r(a)}getPixelForValue(a){return(a===void 0||a===0)&&(a=this.min),a===null||isNaN(a)?NaN:this.getPixelForDecimal(a===this.min?0:(r(a)-this._startValue)/this._valueRange)}getValueForPixel(a){const b=this.getDecimalForPixel(a);return Math.pow(10,this._startValue+b*this._valueRange)}},bG.id="logarithmic",bG.defaults={ticks:{callback:bk.formatters.logarithmic,major:{enabled:!0}}};function bw(d){const c=d.ticks;if(c.display&&d.display){const d=p(c.backdropPadding);return a(c.font&&c.font.size,b.font.size)+d.height}return 0}function is(c,b,a){return a=h(a)?a:[a],{w:hy(c,b.string,a),h:a.length*b.lineHeight}}function dJ(b,a,c,d,e){return b===d||b===e?{start:a-c/2,end:a+c/2}:b<d||b>e?{start:a-c,end:a}:{start:a,end:a+c}}function iu(a){const b={l:0,r:a.width,t:0,b:a.height-a.paddingTop},c={},e=[],d=[],f=a.getLabels().length;for(let g=0;g<f;g++){const n=a.options.pointLabels.setContext(a.getPointLabelContext(g));d[g]=n.padding;const o=a.getPointPosition(g,a.drawingArea+d[g]),p=l(n.font),k=is(a.ctx,p,a._pointLabels[g]);e[g]=k;const h=a.getIndexAngle(g),m=bt(h),i=dJ(m,o.x,k.w,0,180),j=dJ(m,o.y,k.h,90,270);i.start<b.l&&(b.l=i.start,c.l=h),i.end>b.r&&(b.r=i.end,c.r=h),j.start<b.t&&(b.t=j.start,c.t=h),j.end>b.b&&(b.b=j.end,c.b=h)}a._setReductions(a.drawingArea,b,c),a._pointLabelItems=iv(a,e,d)}function iv(a,d,e){const b=[],f=a.getLabels().length,c=a.options,g=bw(c),h=a.getDistanceFromCenterForValue(c.ticks.reverse?a.min:a.max);for(let c=0;c<f;c++){const o=c===0?g/2:0,j=a.getPointPosition(c,h+o+e[c]),m=bt(a.getIndexAngle(c)),i=d[c],k=iy(j.y,i.h,m),n=iw(m),l=ix(j.x,i.w,n);b.push({x:j.x,y:k,textAlign:n,left:l,top:k,right:l+i.w,bottom:k+i.h})}return b}function iw(a){return a===0||a===180?"center":a<180?"left":"right"}function ix(a,b,c){return c==="right"?a-=b:c==="center"&&(a-=b/2),a}function iy(b,c,a){return a===90||a===270?b-=c/2:(a>270||a<90)&&(b-=c),b}function iz(a,c){const{ctx:b,options:{pointLabels:e}}=a;for(let f=c-1;f>=0;f--){const g=e.setContext(a.getPointLabelContext(f)),h=l(g.font),{x:m,y:r,textAlign:n,left:j,top:k,right:o,bottom:q}=a._pointLabelItems[f],{backdropColor:i}=g;if(!d(i)){const a=p(g.backdropPadding);b.fillStyle=i,b.fillRect(j-a.left,k-a.top,o-j+a.width,q-k+a.height)}M(b,a._pointLabels[f],m,r+h.lineHeight/2,h,{color:g.color,textAlign:n,textBaseline:"middle"})}}function dQ(a,b,d,e){const{ctx:c}=a;if(d)c.arc(a.xCenter,a.yCenter,b,0,f);else{let d=a.getPointPosition(0,b);c.moveTo(d.x,d.y);for(let f=1;f<e;f++)d=a.getPointPosition(f,b),c.lineTo(d.x,d.y)}}function iB(c,b,d,e){const a=c.ctx,f=b.circular,{color:g,lineWidth:h}=b;if(!f&&!e||!g||!h||d<0)return;a.save(),a.strokeStyle=g,a.lineWidth=h,a.setLineDash(b.borderDash),a.lineDashOffset=b.borderDashOffset,a.beginPath(),dQ(c,d,f,e),a.closePath(),a.stroke(),a.restore()}function bh(a){return U(a)?a:0}function iD(a,b,c){return L(a,{label:c,index:b,type:"pointLabel"})}av=class extends aG{constructor(a){super(a),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=bw(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:a,max:b}=this.getMinMax(!1);this.min=k(a)&&!isNaN(a)?a:0,this.max=k(b)&&!isNaN(b)?b:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bw(this.options))}generateTickLabels(a){aG.prototype.generateTickLabels.call(this,a),this._pointLabels=this.getLabels().map((b,c)=>{const a=g(this.options.pointLabels.callback,[b,c],this);return a||a===0?a:""})}fit(){const a=this.options;a.display&&a.pointLabels.display?iu(this):this.setCenterPoint(0,0,0,0)}_setReductions(g,b,c){let d=b.l/Math.sin(c.l),e=Math.max(b.r-this.width,0)/Math.sin(c.r),f=-b.t/Math.cos(c.t),a=-Math.max(b.b-(this.height-this.paddingTop),0)/Math.cos(c.b);d=bh(d),e=bh(e),f=bh(f),a=bh(a),this.drawingArea=Math.max(g/2,Math.min(Math.floor(g-(d+e)/2),Math.floor(g-(f+a)/2))),this.setCenterPoint(d,e,f,a)}setCenterPoint(a,b,c,d){const e=this.width-b-this.drawingArea,f=a+this.drawingArea,g=c+this.drawingArea,h=this.height-this.paddingTop-d-this.drawingArea;this.xCenter=Math.floor((f+e)/2+this.left),this.yCenter=Math.floor((g+h)/2+this.top+this.paddingTop)}getIndexAngle(a){const b=f/this.getLabels().length,c=this.options.startAngle||0;return v(a*b+w(c))}getDistanceFromCenterForValue(a){if(d(a))return NaN;const b=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-a)*b:(a-this.min)*b}getValueForDistanceFromCenter(a){if(d(a))return NaN;const b=a/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-b:this.min+b}getPointLabelContext(a){const b=this._pointLabels||[];if(a>=0&&a<b.length){const c=b[a];return iD(this.getContext(),a,c)}}getPointPosition(c,b){const a=this.getIndexAngle(c)-j;return{x:Math.cos(a)*b+this.xCenter,y:Math.sin(a)*b+this.yCenter,angle:a}}getPointPositionForValue(a,b){return this.getPointPosition(a,this.getDistanceFromCenterForValue(b))}getBasePosition(a){return this.getPointPositionForValue(a||0,this.getBaseValue())}getPointLabelPosition(a){const{left:b,top:c,right:d,bottom:e}=this._pointLabelItems[a];return{left:b,top:c,right:d,bottom:e}}drawBackground(){const{backgroundColor:a,grid:{circular:b}}=this.options;if(a){const c=this.ctx;c.save(),c.beginPath(),dQ(this,this.getDistanceFromCenterForValue(this._endValue),b,this.getLabels().length),c.closePath(),c.fillStyle=a,c.fill(),c.restore()}}drawGrid(){const a=this.ctx,d=this.options,{angleLines:f,grid:g}=d,h=this.getLabels().length;let b,c,e;if(d.pointLabels.display&&iz(this,h),g.display&&this.ticks.forEach((b,a)=>{if(a!==0){c=this.getDistanceFromCenterForValue(b.value);const d=g.setContext(this.getContext(a-1));iB(this,d,c,h)}}),f.display){a.save();for(b=this.getLabels().length-1;b>=0;b--){const g=f.setContext(this.getPointLabelContext(b)),{color:h,lineWidth:i}=g;if(!i||!h)continue;a.lineWidth=i,a.strokeStyle=h,a.setLineDash(g.borderDash),a.lineDashOffset=g.borderDashOffset,c=this.getDistanceFromCenterForValue(d.ticks.reverse?this.min:this.max),e=this.getPointPosition(b,c),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(e.x,e.y),a.stroke()}a.restore()}}drawBorder(){}drawLabels(){const a=this.ctx,d=this.options,e=d.ticks;if(!e.display)return;const f=this.getIndexAngle(0);let b,c;a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(f),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach((i,h)=>{if(h===0&&!d.reverse)return;const f=e.setContext(this.getContext(h)),g=l(f.font);if(b=this.getDistanceFromCenterForValue(this.ticks[h].value),f.showLabelBackdrop){a.font=g.string,c=a.measureText(i.label).width,a.fillStyle=f.backdropColor;const d=p(f.backdropPadding);a.fillRect(-c/2-d.left,-b-g.size/2-d.top,c+d.width,g.size+d.height)}M(a,i.label,0,-b,g,{color:f.color})}),a.restore()}drawTitle(){}},av.id="radialLinear",av.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(a){return a},padding:5}},av.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},av.descriptors={angleLines:{_fallback:"grid"}},bc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},q=Object.keys(bc);function iH(a,b){return a-b}function d_(h,g){if(d(g))return null;const b=h._adapter,{parser:c,round:e,isoWeekday:f}=h._parseOpts;let a=g;return typeof c=="function"&&(a=c(a)),k(a)||(a=typeof c=="string"?b.parse(a,c):b.parse(a)),a===null?null:(e&&(a=e==="week"&&(U(f)||f===!0)?b.startOf(a,"isoWeek",f):b.startOf(a,e)),+a)}function d$(b,c,d,e){const a=q.length;for(let f=q.indexOf(b);f<a-1;++f){const g=bc[q[f]],h=g.steps?g.steps:Number.MAX_SAFE_INTEGER;if(g.common&&Math.ceil((d-c)/(h*g.size))<=e)return q[f]}return q[a-1]}function iK(b,c,a,d,e){for(let f=q.length-1;f>=q.indexOf(a);f--){const g=q[f];if(bc[g].common&&b._adapter.diff(e,d,g)>=c-1)return g}return q[a?q.indexOf(a):0]}function iL(a){for(let b=q.indexOf(a)+1,c=q.length;b<c;++b)if(bc[q[b]].common)return q[b]}function ea(c,b,a){if(a){if(a.length){const{lo:d,hi:e}=bJ(a,b),f=a[d]>=b?a[d]:a[e];c[f]=!0}}else c[b]=!0}function iN(f,a,i,d){const e=f._adapter,g=+e.startOf(a[0].value,d),h=a[a.length-1].value;let b,c;for(b=g;b<=h;b=+e.add(b,1,d))c=i[b],c>=0&&(a[c].major=!0);return a}function ee(h,g,d){const c=[],e={},f=g.length;let a,b;for(a=0;a<f;++a)b=g[a],e[b]=a,c.push({value:b,major:!1});return f===0||!d?c:iN(h,c,e,d)}al=class extends _{constructor(a){super(a),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(a,c){const b=a.time||(a.time={}),d=this._adapter=new ek._date(a.adapters.date);aq(b.displayFormats,d.formats()),this._parseOpts={parser:b.parser,round:b.round,isoWeekday:b.isoWeekday},super.init(a),this._normalized=c.normalized}parse(a,b){return a===void 0?null:d_(this,a)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,d=this._adapter,e=c.time.unit||"day";let{min:a,max:b,minDefined:f,maxDefined:g}=this.getUserBounds();function h(c){!f&&!isNaN(c.min)&&(a=Math.min(a,c.min)),!g&&!isNaN(c.max)&&(b=Math.max(b,c.max))}(!f||!g)&&(h(this._getLabelBounds()),(c.bounds!=="ticks"||c.ticks.source!=="labels")&&h(this.getMinMax(!1))),a=k(a)&&!isNaN(a)?a:+d.startOf(Date.now(),e),b=k(b)&&!isNaN(b)?b:+d.endOf(Date.now(),e)+1,this.min=Math.min(a,b-1),this.max=Math.max(a+1,b)}_getLabelBounds(){const a=this.getLabelTimestamps();let b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY;return a.length&&(b=a[0],c=a[a.length-1]),{min:b,max:c}}buildTicks(){const b=this.options,c=b.time,d=b.ticks,a=d.source==="labels"?this.getLabelTimestamps():this._generate();b.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const f=this.min,g=this.max,e=gT(a,f,g);return this._unit=c.unit||(d.autoSkip?d$(c.minUnit,this.min,this.max,this._getLabelCapacity(f)):iK(this,e.length,c.minUnit,this.min,this.max)),this._majorUnit=!d.major.enabled||this._unit==="year"?void 0:iL(this._unit),this.initOffsets(a),b.reverse&&e.reverse(),ee(this,e,this._majorUnit)}initOffsets(a){let b=0,c=0,d,e;this.options.offset&&a.length&&(d=this.getDecimalForValue(a[0]),a.length===1?b=1-d:b=(this.getDecimalForValue(a[1])-d)/2,e=this.getDecimalForValue(a[a.length-1]),a.length===1?c=e:c=(e-this.getDecimalForValue(a[a.length-2]))/2);const f=a.length<3?.5:.25;b=m(b,0,f),c=m(c,0,f),this._offsets={start:b,end:c,factor:1/(b+1+c)}}_generate(){const h=this._adapter,d=this.min,e=this.max,m=this.options,g=m.time,f=g.unit||d$(g.minUnit,d,e,this._getLabelCapacity(d)),l=a(g.stepSize,1),i=f==="week"&&g.isoWeekday,n=U(i)||i===!0,k={};let c=d,b,j;if(n&&(c=+h.startOf(c,"isoWeek",i)),c=+h.startOf(c,n?"day":f),h.diff(e,d,f)>1e5*l)throw new Error(d+" and "+e+" are too far apart with stepSize of "+l+" "+f);const o=m.ticks.source==="data"&&this.getDataTimestamps();for(b=c,j=0;b<e;b=+h.add(b,l,f),j++)ea(k,b,o);return(b===e||m.bounds==="ticks"||j===1)&&ea(k,b,o),Object.keys(k).sort((a,b)=>a-b).map(a=>+a)}getLabelForValue(b){const c=this._adapter,a=this.options.time;return a.tooltipFormat?c.format(b,a.tooltipFormat):c.format(b,a.displayFormats.datetime)}_tickFormatFunction(o,i,c,n){const e=this.options,f=e.time.displayFormats,h=this._unit,a=this._majorUnit,l=h&&f[h],k=a&&f[a],j=c[i],m=a&&k&&j&&j.major,d=this._adapter.format(o,n||(m?k:l)),b=e.ticks.callback;return b?g(b,[d,i,c],this):d}generateTickLabels(b){let a,d,c;for(a=0,d=b.length;a<d;++a)c=b[a],c.label=this._tickFormatFunction(c.value,a,b)}getDecimalForValue(a){return a===null?NaN:(a-this.min)/(this.max-this.min)}getPixelForValue(b){const a=this._offsets,c=this.getDecimalForValue(b);return this.getPixelForDecimal((a.start+c)*a.factor)}getValueForPixel(b){const a=this._offsets,c=this.getDecimalForPixel(b)/a.factor-a.end;return this.min+c*(this.max-this.min)}_getLabelSize(g){const b=this.options.ticks,c=this.ctx.measureText(g).width,d=w(this.isHorizontal()?b.maxRotation:b.minRotation),e=Math.cos(d),f=Math.sin(d),a=this._resolveTickFontOptions(0).size;return{w:c*e+a*f,h:c*f+a*e}}_getLabelCapacity(a){const b=this.options.time,c=b.displayFormats,f=c[b.unit]||c.millisecond,g=this._tickFormatFunction(a,0,ee(this,[a],this._majorUnit),f),d=this._getLabelSize(g),e=Math.floor(this.isHorizontal()?this.width/d.w:this.height/d.h)-1;return e>0?e:1}getDataTimestamps(){let a=this._cache.data||[],b,d;if(a.length)return a;const c=this.getMatchingVisibleMetas();if(this._normalized&&c.length)return this._cache.data=c[0].controller.getAllParsedValues(this);for(b=0,d=c.length;b<d;++b)a=a.concat(c[b].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}getLabelTimestamps(){const a=this._cache.labels||[];let b,c;if(a.length)return a;const d=this.getLabels();for(b=0,c=d.length;b<c;++b)a.push(d_(this,d[b]));return this._cache.labels=this._normalized?a:this.normalize(a)}normalize(a){return ci(a.sort(iH))}},al.id="time",al.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function aM(a,b,j){let c=0,d=a.length-1,f,h,e,g;j?(b>=a[c].pos&&b<=a[d].pos&&({lo:c,hi:d}=F(a,"pos",b)),{pos:f,time:e}=a[c],{pos:h,time:g}=a[d]):(b>=a[c].time&&b<=a[d].time&&({lo:c,hi:d}=F(a,"time",b)),{time:f,pos:e}=a[c],{time:h,pos:g}=a[d]);const i=h-f;return i?e+(g-e)*(b-f)/i:e}bP=class extends al{constructor(a){super(a),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const a=this._getTimestampsForTable(),b=this._table=this.buildLookupTable(a);this._minPos=aM(b,this.min),this._tableRange=aM(b,this.max)-this._minPos,super.initOffsets(a)}buildLookupTable(g){const{min:e,max:i}=this,c=[],f=[];let a,d,h,b,j;for(a=0,d=g.length;a<d;++a)b=g[a],b>=e&&b<=i&&c.push(b);if(c.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(a=0,d=c.length;a<d;++a)j=c[a+1],h=c[a-1],b=c[a],Math.round((j+h)/2)!==b&&f.push({time:b,pos:a/(d-1)});return f}_getTimestampsForTable(){let a=this._cache.all||[];if(a.length)return a;const b=this.getDataTimestamps(),c=this.getLabelTimestamps();return b.length&&c.length?a=this.normalize(b.concat(c)):a=b.length?b:c,a=this._cache.all=a,a}getDecimalForValue(a){return(aM(this._table,a)-this._minPos)/this._tableRange}getValueForPixel(b){const a=this._offsets,c=this.getDecimalForPixel(b)/a.factor-a.end;return aM(this._table,c*this._tableRange+this._minPos,!0)}},bP.id="timeseries",bP.defaults=al.defaults,iS=Object.freeze({__proto__:null,CategoryScale:aE,LinearScale:bN,LogarithmicScale:bG,RadialLinearScale:av,TimeScale:al,TimeSeriesScale:bP}),iT=[ej,gY,id,iS],aS.register(...iT),iU=aS,iV={type:"bar",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}},iW={init(a,b={}){return new iU(a,{...iV,...b})}},ei.init(),window.BarChart=iW})()